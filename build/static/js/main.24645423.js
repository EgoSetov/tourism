/*! For license information please see main.24645423.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},252:function(e,t,n){"use strict";function r(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}n.d(t,{Z:function(){return r}})},946:function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}n.d(t,{Z:function(){return i}})},465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o,c;if(u(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=s(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return s(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var s=a[e];if(void 0===s)return!1;if("function"===typeof s)r(s,this,t);else{var c=s.length,l=p(s,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Oe=!1;function Ae(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==Ee||null!==_e)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,It,St=!1,Tt=[],Ct=null,Nt=null,Ot=null,At=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ot&&Ft(Ot)&&(Ot=null),At.forEach(Vt),Dt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==Ot&&Bt(Ot,e),At.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Ot=Mt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return _n}var Sn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),On=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Ir(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Or=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Or.set(e,t),s(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Or.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=On;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Kn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=De(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Ii(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Si(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ni=_i(!1),Oi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ni),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Si(Ci,e)):Ii(Ni),Si(Ni,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{kt=t,Ui=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Hi=_i(null),Wi=null,Gi=null,Qi=null;function $i(){Qi=Gi=Wi=null}function Ji(e){var t=Hi.current;Ii(Hi),e._currentValue=t}function Yi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){Wi=e,Qi=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Wi)throw Error(a(308));Gi=e,Wi.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ys(),i=Xs(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ys(),i=Xs(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ys(),r=Xs(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Di(t)?Oi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Di(t)?Oi:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,ba=0,wa=[],xa=0,Ea=null,_a=1,Ia="";function Sa(e,t){ya[ga++]=ba,ya[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){wa[xa++]=_a,wa[xa++]=Ia,wa[xa++]=Ea,Ea=e;var r=_a;e=Ia;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_a=1<<32-ot(t)+i|n<<i|r,Ia=a+e}else _a=1<<a|n<<i|r,Ia=e}function Ca(e){null!==e.return&&(Sa(e,1),Ta(e,1,0))}function Na(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,ba=ya[--ga],ya[ga]=null;for(;e===Ea;)Ea=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null,_a=wa[--xa],wa[xa]=null}var Oa=null,Aa=null,Da=!1,Pa=null;function Ra(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Oa=e,Aa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Oa=e,Aa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ea?{id:_a,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Oa=e,Aa=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ja(e){if(Da){var t=Aa;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Oa;t&&La(e,t)?Ra(r,n):(e.flags=-4097&e.flags|2,Da=!1,Oa=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Da=!1,Oa=e}}}function Fa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oa=e}function Va(e){if(e!==Oa)return!1;if(!Da)return Fa(e),Da=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Aa)){if(Ma(e)){for(e=Aa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Ra(e,t),t=ci(t.nextSibling)}if(Fa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Aa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Aa=null}}else Aa=Oa?ci(e.stateNode.nextSibling):null;return!0}function Ua(){Aa=Oa=null,Da=!1}function Ba(e){null===Pa?Pa=[e]:Pa.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ka(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Rc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Da&&Sa(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Da&&Sa(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Da&&Sa(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Da&&Sa(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Da&&Sa(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Da&&Sa(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Rc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=za(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Wa=Ha(!0),Ga=Ha(!1),Qa={},$a=_i(Qa),Ja=_i(Qa),Ya=_i(Qa);function Xa(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Si(Ya,t),Si(Ja,e),Si($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($a),Si($a,t)}function eo(){Ii($a),Ii(Ja),Ii(Ya)}function to(e){Xa(Ya.current);var t=Xa($a.current),n=se(t,e.type);t!==n&&(Si(Ja,e),Si($a,n))}function no(e){Ja.current===e&&(Ii($a),Ii(Ja))}var ro=_i(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function Eo(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function _o(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Ps|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ps|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=Eo(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Vo(Ao.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Ro(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ss)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Zs(e,1,-1)}function Ao(e,t,n){return n((function(){Do(t)&&Zs(e,1,-1)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Po(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return Eo().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}lo.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Fo(e,t){return Mo(8390656,8,e,t)}function Vo(e,t){return jo(2048,8,e,t)}function Uo(e,t){return jo(4,2,e,t)}function Bo(e,t){return jo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,zo.bind(null,t,e),n)}function Ko(){}function Ho(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Ps|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function $o(){return Eo().memoizedState}function Jo(e,t,n){var r=Xs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Zo(t,n):(eu(e,t,n),null!==(e=Zs(e,r,n=Ys()))&&tu(e,t,r))}function Yo(e,t,n){var r=Xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Zo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Zs(e,r,n=Ys()))&&tu(e,t,r)}}function Xo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Po,useDebugValue:Ko,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Da){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ss)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fo(Ao.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Ss.identifierPrefix;if(Da){var n=Ia;t=":"+t+"R"+(n=(_a&~(1<<32-ot(_a)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Zi,useCallback:Ho,useContext:Zi,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Uo,useLayoutEffect:Bo,useMemo:Wo,useReducer:Io,useRef:Lo,useState:function(){return Io(_o)},useDebugValue:Ko,useDeferredValue:function(e){return Go(Eo(),fo.memoizedState,e)},useTransition:function(){return[Io(_o)[0],Eo().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1},au={readContext:Zi,useCallback:Ho,useContext:Zi,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:Uo,useLayoutEffect:Bo,useMemo:Wo,useReducer:So,useRef:Lo,useState:function(){return So(_o)},useDebugValue:Ko,useDeferredValue:function(e){var t=Eo();return null===fo?t.memoizedState=e:Go(t,fo.memoizedState,e)},useTransition:function(){return[So(_o)[0],Eo().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,zs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Di(t.type)&&Pi(),gu(t),null;case 3:return r=t.stateNode,eo(),Ii(Ni),Ii(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Pa&&(ac(Pa),Pa=null))),gu(t),null;case 5:no(t);var i=Xa(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Xa($a.current),Va(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":J(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":J(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ya.current),Xa($a.current),Va(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Oa))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Ii(ro),r=t.memoizedState,Da&&null!==Aa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Aa;r;)r=ci(r.nextSibling);return Ua(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Va(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Ua(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Pa&&(ac(Pa),Pa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Va(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===As&&(As=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gu(t),null;case 10:return Ji(t.type._context),gu(t),null;case 19:if(Ii(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==As||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Vs&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Da)return gu(t),null}else 2*Ye()-o.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=ro.current,Si(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa($a.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var bu=b.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Ga(t,null,n,r):Wa(t,e.child,n,r)}function Eu(e,t,n,r,i){n=n.render;var a=t.ref;return Xi(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||wu?(Da&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ac(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Os,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Os,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Os,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Os,Ns),Ns|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Di(n)?Oi:Ci.current;return a=Ai(t,a),Xi(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||wu?(Da&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Nu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Ai(t,c=Di(n)?Oi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ki(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Ai(t,s=Di(n)?Oi:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ou(e,t,n,r,a,i)}function Ou(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Wa(t,e.child,null,a),t.child=Wa(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Za(e,t.containerInfo)}function Du(e,t,n,r,i){return Ua(),Ba(i),t.flags|=256,xu(e,t,n,r),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(ro,1&o),null===e)return ja(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Rc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ru(n),t.memoizedState=Pu,e):ju(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Uu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Rc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Wa(t,e.child,null,n),t.child.memoizedState=Ru(n),t.memoizedState=Pu,u);if(0===(1&t.mode))t=Uu(e,t,n,null);else if("$!"===r.data)t=Uu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Ss)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Zs(e,i,-1))}pc(),t=Uu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Aa=ci(r.nextSibling),Oa=t,Da=!0,Pa=null,null!==n&&(wa[xa++]=_a,wa[xa++]=Ia,wa[xa++]=Ea,_a=n.id,Ia=n.overflow,Ea=t),(t=ju(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i):(n=Fu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i):(n=Fu(e,t,i.children,n),t.memoizedState=null,n)}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fu(e,t,n,r){var i=e.child;return e=i.sibling,n=Dc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Vu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Dc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Dc(o,r):(r=Rc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Uu(e,t,n,r){return null!==r&&Ba(r),Wa(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Yi(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ps|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){switch(Na(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ii(Ni),Ii(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ii(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ua()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ro),null;case 4:return eo(),null;case 10:return Ji(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Wu=!1,Gu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,$u=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function Yu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var Xu=!1;function Zu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Yu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Gu||Ju(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Gu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Yu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Gu&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Gu=(r=Gu)||null!==n.memoizedState,cs(e,t,n),Gu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Zu(3,e,e.return),es(3,e)}catch(v){Ec(e,e.return,v)}try{Zu(5,e,e.return)}catch(v){Ec(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){Ec(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){Ec(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){Ec(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){Ec(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Fs=Ye()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Gu=(f=Gu)||l,hs(t,e),Gu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){Ec(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){Ec(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for($u=e,e=e.child;null!==e;){for(l=$u=e;null!==$u;){switch(h=(f=$u).child,f.tag){case 0:case 11:case 14:case 15:Zu(4,f,f.return);break;case 1:if(Ju(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){Ec(d,p,v)}}break;case 5:Ju(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,$u=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){$u=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Wu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Gu;u=Wu;var c=Gu;if(Wu=o,(Gu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,$u=s):ks(i);for(;null!==a;)$u=a,ms(a,t,n),a=a.sibling;$u=i,Wu=u,Gu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ys(e)}}function ys(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Gu||512&t.flags&&ts(t)}catch(d){Ec(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function gs(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function ks(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{ts(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var bs,ws=Math.ceil,xs=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,_s=b.ReactCurrentBatchConfig,Is=0,Ss=null,Ts=null,Cs=0,Ns=0,Os=_i(0),As=0,Ds=null,Ps=0,Rs=0,Ls=0,Ms=null,js=null,Fs=0,Vs=1/0,Us=null,Bs=!1,zs=null,qs=null,Ks=!1,Hs=null,Ws=0,Gs=0,Qs=null,$s=-1,Js=0;function Ys(){return 0!==(6&Is)?Ye():-1!==$s?$s:$s=Ye()}function Xs(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Cs?Cs&-Cs:null!==qi.transition?(0===Js&&(Js=vt()),Js):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function Zs(e,t,n){if(50<Gs)throw Gs=0,Qs=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Is)&&r===Ss||(r===Ss&&(0===(2&Is)&&(Rs|=t),4===As&&oc(r,Cs)),nc(r,n),1===t&&0===Is&&0===(1&e.mode)&&(Vs=Ye()+500,Vi&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Ss||null!==ea)&&0!==(1&e.mode)&&0===(2&Is)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ss?Cs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===Is&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($s=-1,Js=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ss?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Is;Is|=2;var o=dc();for(Ss===e&&Cs===t||(Us=null,Vs=Ye()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}$i(),xs.current=o,Is=i,null!==Ts?t=0:(Ss=null,Cs=0,t=As)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ds,fc(e,0),oc(e,r),nc(e,Ye()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ds,fc(e,0),oc(e,r),nc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,js,Us);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Fs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Ys(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,js,Us),t);break}bc(e,js,Us);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,js,Us),r);break}bc(e,js,Us);break;default:throw Error(a(329))}}}return nc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=js,js=n,null!==t&&ac(t)),e}function ac(e){null===js?js=e:js.push.apply(js,e)}function oc(e,t){for(t&=~Ls,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Is))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ds,fc(e,0),oc(e,t),nc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,js,Us),nc(e,Ye()),null}function sc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Vs=Ye()+500,Vi&&zi())}}function cc(e){null!==Hs&&0===Hs.tag&&0===(6&Is)&&wc();var t=Is;Is|=1;var n=_s.transition,r=kt;try{if(_s.transition=null,kt=1,e)return e()}finally{kt=r,_s.transition=n,0===(6&(Is=t))&&zi()}}function lc(){Ns=Os.current,Ii(Os)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:eo(),Ii(Ni),Ii(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ii(ro);break;case 10:Ji(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Ss=e,Ts=e=Dc(e.current,null),Cs=Ns=t,As=0,Ds=null,Ls=Rs=Ps=0,js=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if($i(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,Es.current=null,null===n||null===n.return){As=1,Ds=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Da&&1&s.mode){var y=vu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),Ba(c);break e}}o=c,4!==As&&(As=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qs||!qs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(b){t=b,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==As&&3!==As&&2!==As||(As=4),null===Ss||0===(268435455&Ps)&&0===(268435455&Rs)||oc(Ss,Cs)}function vc(e,t){var n=Is;Is|=2;var r=dc();for(Ss===e&&Cs===t||(Us=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if($i(),Is=n,xs.current=r,null!==Ts)throw Error(a(261));return Ss=null,Cs=0,As}function mc(){for(;null!==Ts;)gc(Ts)}function yc(){for(;null!==Ts&&!$e();)gc(Ts)}function gc(e){var t=bs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,Es.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,Ns)))return void(Ts=n)}else{if(null!==(n=Hu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return As=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===As&&(As=5)}function bc(e,t,n){var r=kt,i=_s.transition;try{_s.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Hs);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ss&&(Ts=Ss=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_s.transition,_s.transition=null;var u=kt;kt=1;var s=Is;Is|=4,Es.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ki(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=Xu,Xu=!1}(e,n),ds(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),Je(),Is=s,kt=u,_s.transition=o}else e.current=n;if(Ks&&(Ks=!1,Hs=e,Ws=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bs)throw Bs=!1,e=zs,zs=null,e;0!==(1&Ws)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qs?Gs++:(Gs=0,Qs=e):Gs=0,zi()}(e,t,n,r)}finally{_s.transition=i,kt=r}return null}function wc(){if(null!==Hs){var e=bt(Ws),t=_s.transition,n=kt;try{if(_s.transition=null,kt=16>e?16:e,null===Hs)var r=!1;else{if(e=Hs,Hs=null,Ws=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:Zu(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(ns(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var b=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,$u=b;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(Is=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,_s.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Ys(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Ys(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ys(),e.pingedLanes|=e.suspendedLanes&n,Ss===e&&(Cs&n)===n&&(4===As||3===As&&(130023424&Cs)===Cs&&500>Ye()-Fs?fc(e,0):Ls|=n),nc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Ys();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Ac(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Rc(n.children,i,o,t);case _:u=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case O:return(e=Oc(19,n,t,i)).elementType=O,e.lanes=o,e;case P:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case A:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Fc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Uc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=ia(r=Ys(),i=Xs(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Ys(),o=Xs(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,o,a))&&oa(e,i,o),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}bs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),Ua();break;case 5:to(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Hi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Si(ro,1&ro.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Da&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ai(t,Ci.current);Xi(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Ou(null,t,r,!0,o,n)):(t.tag=0,Da&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=Eu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,Ki(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Du(e,t,r,n,i=Error(a(424)));break e}for(Aa=ci(t.stateNode.containerInfo.firstChild),Oa=t,Da=!0,Pa=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ua(),r===i){t=Ku(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&ja(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&ja(t),null;case 13:return Mu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Wa(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(Hi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Yi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Yi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Zi(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),_u(e,t,r,i=Ki(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Xi(t,n),pa(t,r,i),ma(t,r,i,n),Ou(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Ye()),0===(6&Is)&&(Vs=Ye()+500,zi()))}break;case 13:var r=Ys();cc((function(){return Zs(e,1,r)})),Wc(e,1)}},xt=function(e){13===e.tag&&(Zs(e,134217728,Ys()),Wc(e,134217728))},Et=function(e){if(13===e.tag){var t=Ys(),n=Xs(e);Zs(e,n,t),Wc(e,n)}},_t=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ne=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Uc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},867:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(791)),i=o(n(7)),a=o(n(694));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,i,o=f(u);function u(){var e;s(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=o.call.apply(o,[this].concat(n))),"componentDidMount",(function(){var t=e.props.timeOut;0!==t&&(e.timer=setTimeout(e.requestHide,t))})),v(d(e),"componentWillUnmount",(function(){e.timer&&clearTimeout(e.timer)})),v(d(e),"handleClick",(function(){var t=e.props.onClick;t&&t(),e.requestHide()})),v(d(e),"requestHide",(function(){var t=e.props.onRequestHide;t&&t()})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.type,n=e.message,i=this.props.title,o=(0,a.default)(["notification","notification-".concat(t)]);return i=i?r.default.createElement("h4",{className:"title"},i):null,r.default.createElement("div",{className:o,onClick:this.handleClick},r.default.createElement("div",{className:"notification-message",role:"alert"},i,r.default.createElement("div",{className:"message"},n)))}}])&&c(t.prototype,n),i&&c(t,i),u}(r.default.Component);v(m,"propTypes",{type:i.default.oneOf(["info","success","warning","error"]),title:i.default.node,message:i.default.node,timeOut:i.default.number,onClick:i.default.func,onRequestHide:i.default.func}),v(m,"defaultProps",{type:"info",title:null,message:null,timeOut:5e3,onClick:function(){},onRequestHide:function(){}});var y=m;t.default=y},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(791)),i=u(n(7)),a=u(n(332)),o=u(n(271));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,i,u=h(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(p(e=u.call.apply(u,[this].concat(n))),"state",{notifications:[]}),m(p(e),"componentDidMount",(function(){a.default.addChangeListener(e.handleStoreChange)})),m(p(e),"componentWillUnmount",(function(){a.default.removeChangeListener(e.handleStoreChange)})),m(p(e),"handleStoreChange",(function(t){e.setState({notifications:t})})),m(p(e),"handleRequestHide",(function(e){a.default.remove(e)})),e}return t=s,(n=[{key:"render",value:function(){var e=this.state.notifications,t=this.props,n=t.enterTimeout,i=t.leaveTimeout;return r.default.createElement(o.default,{enterTimeout:n,leaveTimeout:i,notifications:e,onRequestHide:this.handleRequestHide})}}])&&l(t.prototype,n),i&&l(t,i),s}(r.default.Component);m(y,"propTypes",{enterTimeout:i.default.number,leaveTimeout:i.default.number}),m(y,"defaultProps",{enterTimeout:400,leaveTimeout:400});var g=y;t.default=g},332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(465);function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l="change",f="info",h="success",d="warning",p="error",v=new(function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(s,e);var t,n,r,i=u(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).listNotify=[],e}return t=s,(n=[{key:"create",value:function(e){var t={id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),type:"info",title:null,message:null,timeOut:5e3};e.priority?this.listNotify.unshift(Object.assign(t,e)):this.listNotify.push(Object.assign(t,e)),this.emitChange()}},{key:"info",value:function(e,t,n,r,i){this.create({type:f,message:e,title:t,timeOut:n,onClick:r,priority:i})}},{key:"success",value:function(e,t,n,r,i){this.create({type:h,message:e,title:t,timeOut:n,onClick:r,priority:i})}},{key:"warning",value:function(e,t,n,r,i){this.create({type:d,message:e,title:t,timeOut:n,onClick:r,priority:i})}},{key:"error",value:function(e,t,n,r,i){this.create({type:p,message:e,title:t,timeOut:n,onClick:r,priority:i})}},{key:"remove",value:function(e){this.listNotify=this.listNotify.filter((function(t){return e.id!==t.id})),this.emitChange()}},{key:"emitChange",value:function(){this.emit(l,this.listNotify)}},{key:"addChangeListener",value:function(e){this.addListener(l,e)}},{key:"removeChangeListener",value:function(e){this.removeListener(l,e)}}])&&a(t.prototype,n),r&&a(t,r),s}(r.EventEmitter));t.default=v},271:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(791)),i=s(n(7)),a=n(579),o=s(n(694)),u=s(n(867));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,n,i,s=d(c);function c(){var e;l(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(v(e=s.call.apply(s,[this].concat(n))),"handleRequestHide",(function(t){return function(){var n=e.props.onRequestHide;n&&n(t)}})),e}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.notifications,i=t.enterTimeout,s=t.leaveTimeout,c=(0,o.default)("notification-container",{"notification-container-empty":0===n.length}),l=n.map((function(t,n){var o=t.id||(new Date).getTime();return r.default.createElement(a.CSSTransition,{key:n,classNames:"notification",timeout:{enter:i,exit:s}},r.default.createElement(u.default,{key:o,type:t.type,title:t.title,message:t.message,timeOut:t.timeOut,onClick:t.onClick,onRequestHide:e.handleRequestHide(t)}))}));return r.default.createElement("div",{className:c},r.default.createElement(a.TransitionGroup,null,l))}}])&&f(t.prototype,n),i&&f(t,i),c}(r.default.Component);y(g,"propTypes",{notifications:i.default.array,onRequestHide:i.default.func,enterTimeout:i.default.number,leaveTimeout:i.default.number}),y(g,"defaultProps",{notifications:[],onRequestHide:function(){},enterTimeout:400,leaveTimeout:400});var k=g;t.default=k},221:function(e,t,n){"use strict";Object.defineProperty(t,"mh",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"fn",{enumerable:!0,get:function(){return a.default}});var r=o(n(271)),i=o(n(4)),a=o(n(332));function o(e){return e&&e.__esModule?e:{default:e}}r.default},328:function(e,t,n){"use strict";n.d(t,{Ix:function(){return d},Wj:function(){return l},cn:function(){return h},d0:function(){return f}});var r=n(366),i=n(578),a=n(791),o=n(164),u=n(417),s=n(545),c="unmounted",l="exited",f="entering",h="entered",d="exiting",p=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=l,r.appearStatus=f):i=h:i=t.unmountOnExit||t.mountOnEnter?c:l,r.state={status:i},r.nextCallback=null,r}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:l}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==h&&(t=f):n!==f&&n!==h||(t=d)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===f?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===l&&this.setState({status:c})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[o.findDOMNode(this),r],a=i[0],s=i[1],c=this.getTimeouts(),l=r?c.appear:c.enter;!e&&!n||u.Z.disabled?this.safeSetState({status:h},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:f},(function(){t.props.onEntering(a,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.findDOMNode(this);t&&!u.Z.disabled?(this.props.onExit(r),this.safeSetState({status:d},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:l},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:l},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],u=i[1];this.props.addEndListener(a,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(s.Z.Provider,{value:null},"function"===typeof n?n(e,i):a.cloneElement(a.Children.only(n),i))},t}(a.Component);function v(){}p.contextType=s.Z,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},p.UNMOUNTED=c,p.EXITED=l,p.ENTERING=f,p.ENTERED=h,p.EXITING=d,t.ZP=p},545:function(e,t,n){"use strict";var r=n(791);t.Z=r.createContext(null)},417:function(e,t){"use strict";t.Z={disabled:!1}},579:function(e,t,n){"use strict";n.r(t),n.d(t,{CSSTransition:function(){return h},ReplaceTransition:function(){return I},SwitchTransition:function(){return D},Transition:function(){return c.ZP},TransitionGroup:function(){return w},config:function(){return P.Z}});var r=n(462),i=n(366),a=n(578),o=n(252),u=n(946),s=n(791),c=n(328),l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,u.Z)(e,t)}))},f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1];t.removeClasses(i,"exit"),t.addClass(i,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.addClass(i,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],a=r[1]?"appear":"enter";t.removeClasses(i,a),t.addClass(i,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,a.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,o.Z)(e,t)}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&l(e,r),i&&l(e,i),a&&l(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return s.createElement(c.ZP,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);f.defaultProps={classNames:""},f.propTypes={};var h=f,d=n(164),p=n(326),v=n(545);function m(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,s.isValidElement)(e)?t(e):e}(e)})),n}function y(e,t,n){return null!=n[t]?n[t]:e.props[t]}function g(e,t,n){var r=m(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(i).forEach((function(a){var o=i[a];if((0,s.isValidElement)(o)){var u=a in t,c=a in r,l=t[a],f=(0,s.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,s.isValidElement)(l)&&(i[a]=(0,s.cloneElement)(o,{onExited:n.bind(null,o),in:l.props.in,exit:y(o,"exit",e),enter:y(o,"enter",e)})):i[a]=(0,s.cloneElement)(o,{in:!1}):i[a]=(0,s.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:y(o,"exit",e),enter:y(o,"enter",e)})}})),i}var k=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},b=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,p.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,m(n.children,(function(e){return(0,s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:y(e,"appear",n),enter:y(e,"enter",n),exit:y(e,"exit",n)})}))):g(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=m(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,r.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,i.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=k(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.createElement(v.Z.Provider,{value:a},o):s.createElement(v.Z.Provider,{value:a},s.createElement(t,r,o))},t}(s.Component);b.propTypes={},b.defaultProps={component:"div",childFactory:function(e){return e}};var w=b,x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}(0,a.Z)(t,e);var n=t.prototype;return n.handleLifecycle=function(e,t,n){var r,i=this.props.children,a=s.Children.toArray(i)[t];if(a.props[e]&&(r=a.props)[e].apply(r,n),this.props[e]){var o=a.props.nodeRef?void 0:d.findDOMNode(this);this.props[e](o)}},n.render=function(){var e=this.props,t=e.children,n=e.in,r=(0,i.Z)(e,["children","in"]),a=s.Children.toArray(t),o=a[0],u=a[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,s.createElement(w,r,n?s.cloneElement(o,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):s.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(s.Component);x.propTypes={};var E,_,I=x;var S="out-in",T="in-out",C=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},N=((E={})[S]=function(e){var t=e.current,n=e.changeState;return s.cloneElement(t,{in:!1,onExited:C(t,"onExited",(function(){n(c.d0,null)}))})},E[T]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,s.cloneElement(r,{in:!0,onEntered:C(r,"onEntered",(function(){n(c.d0)}))})]},E),O=((_={})[S]=function(e){var t=e.children,n=e.changeState;return s.cloneElement(t,{in:!0,onEntered:C(t,"onEntered",(function(){n(c.cn,s.cloneElement(t,{in:!0}))}))})},_[T]=function(e){var t=e.current,n=e.children,r=e.changeState;return[s.cloneElement(t,{in:!1,onExited:C(t,"onExited",(function(){r(c.cn,s.cloneElement(n,{in:!0}))}))}),s.cloneElement(n,{in:!0})]},_),A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={status:c.cn,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===c.d0&&e.mode===T?{status:c.d0}:!t.current||(n=t.current,r=e.children,n===r||s.isValidElement(n)&&s.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:s.cloneElement(e.children,{in:!0})}:{status:c.Ix};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,a=i.status,o=i.current,u={children:n,current:o,changeState:this.changeState,status:a};switch(a){case c.d0:e=O[r](u);break;case c.Ix:e=N[r](u);break;case c.cn:e=o}return s.createElement(v.Z.Provider,{value:{isMounting:!this.appeared}},e)},t}(s.Component);A.propTypes={},A.defaultProps={mode:S};var D=A,P=n(417)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function O(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,I=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function O(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?E():(_=!1,I=null)}}else _=!1}if("function"===typeof k)E=function(){k(O)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=O,E=function(){D.postMessage(null)}}else E=function(){y(O,0)};function P(e){I=e,_||(_=!0,E())}function R(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t},326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Jr},SDK_VERSION:function(){return ra},_DEFAULT_ENTRY_NAME:function(){return Ki},_addComponent:function(){return Qi},_addOrOverwriteComponent:function(){return $i},_apps:function(){return Wi},_clearComponents:function(){return Zi},_components:function(){return Gi},_getProvider:function(){return Yi},_registerComponent:function(){return Ji},_removeServiceInstance:function(){return Xi},deleteApp:function(){return ua},getApp:function(){return aa},getApps:function(){return oa},initializeApp:function(){return ia},onLog:function(){return la},registerVersion:function(){return ca},setLogLevel:function(){return fa}});var t=n(791),r=n(250);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=n(366);function s(e,t){if(null==e)return{};var n,r,i=(0,u.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=n(694),l=n.n(c),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},h=t.createContext(null),d=n(462);n(176);function p(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function v(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function m(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}function y(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[p(r)],s=a[r],c=(0,u.Z)(a,[p(r),r].map(v)),l=t[r],f=m(s,o,e[l]),h=f[0],y=f[1];return(0,d.Z)({},c,((i={})[r]=h,i[l]=y,i))}),e)}function g(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function k(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function b(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}g.__suppressDeprecationWarning=!0,k.__suppressDeprecationWarning=!0,b.__suppressDeprecationWarning=!0;var w=/-(.)/g;var x=n(184),E=["xxl","xl","lg","md","sm","xs"],_=t.createContext({prefixes:{},breakpoints:E});_.Consumer,_.Provider;function I(e,n){var r=(0,t.useContext)(_).prefixes;return e||r[n]||n}var S=["className","bsPrefix","as"],T=function(e){return e[0].toUpperCase()+(t=e,t.replace(w,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function C(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?T(e):r,a=n.Component,u=n.defaultProps,c=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,u=t.as,c=void 0===u?a||"div":u,f=s(t,S),h=I(i,e);return(0,x.jsx)(c,o({ref:n,className:l()(r,h)},f))}));return c.defaultProps=u,c.displayName=i,c}var N=["bsPrefix","className","as"],O=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=s(e,N);n=I(n,"navbar-brand");var u=i||(a.href?"a":"span");return(0,x.jsx)(u,o(o({},a),{},{ref:t,className:l()(r,n)}))}));O.displayName="NavbarBrand";var A=O;function D(e){return e&&e.ownerDocument||document}function P(e,t){return function(e){var t=D(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var R=/([A-Z])/g;var L=/^ms-/;function M(e){return function(e){return e.replace(R,"-$1").toLowerCase()}(e).replace(L,"-ms-")}var j=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var F=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(M(t))||P(e).getPropertyValue(M(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!j.test(e))}(i)?n+=M(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(M(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},V=n(328),U=!("undefined"===typeof window||!window.document||!window.document.createElement),B=!1,z=!1;try{var q={get passive(){return B=!0},get once(){return z=B=!0}};U&&(window.addEventListener("test",q,q),window.removeEventListener("test",q,!0))}catch(vR){}var K=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!z){var i=r.once,a=r.capture,o=n;!z&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,B?r:a)}e.addEventListener(t,n,r)};var H=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var W=function(e,t,n,r){return K(e,t,n,r),function(){H(e,t,n,r)}};function G(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=W(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Q(e,t,n,r){null==n&&(n=function(e){var t=F(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=G(e,n,r),a=W(e,"transitionend",t);return function(){i(),a()}}function $(e,t){var n=F(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function J(e,t){var n=$(e,"transitionDuration"),r=$(e,"transitionDelay"),i=Q(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function X(e){e.offsetHeight}var Z=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ee=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=Z(e),r=Z(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])},te=n(164);var ne,re=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ie=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,u=e.onExit,c=e.onExiting,l=e.onExited,f=e.addEndListener,h=e.children,d=e.childRef,p=s(e,re),v=(0,t.useRef)(null),m=ee(v,d),y=function(e){var t;m((t=e)&&"setState"in t?te.findDOMNode(t):null!=t?t:null)},g=function(e){return function(t){e&&v.current&&e(v.current,t)}},k=(0,t.useCallback)(g(r),[r]),b=(0,t.useCallback)(g(i),[i]),w=(0,t.useCallback)(g(a),[a]),E=(0,t.useCallback)(g(u),[u]),_=(0,t.useCallback)(g(c),[c]),I=(0,t.useCallback)(g(l),[l]),S=(0,t.useCallback)(g(f),[f]);return(0,x.jsx)(V.ZP,o(o({ref:n},p),{},{onEnter:k,onEntered:w,onEntering:b,onExit:E,onExited:I,onExiting:_,addEndListener:S,nodeRef:v,children:"function"===typeof h?function(e,t){return h(e,o(o({},t),{},{ref:y}))}:t.cloneElement(h,{ref:y})}))})),ae=ie,oe=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],ue={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function se(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=ue[e];return n+parseInt(F(t,r[0]),10)+parseInt(F(t,r[1]),10)}var ce=(i(ne={},V.Wj,"collapse"),i(ne,V.Ix,"collapsing"),i(ne,V.d0,"collapsing"),i(ne,V.cn,"collapse show"),ne),le={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:se},fe=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,u=e.onExit,c=e.onExiting,f=e.className,h=e.children,d=e.dimension,p=void 0===d?"height":d,v=e.getDimensionValue,m=void 0===v?se:v,y=s(e,oe),g="function"===typeof p?p():p,k=(0,t.useMemo)((function(){return Y((function(e){e.style[g]="0"}),r)}),[g,r]),b=(0,t.useMemo)((function(){return Y((function(e){var t="scroll".concat(g[0].toUpperCase()).concat(g.slice(1));e.style[g]="".concat(e[t],"px")}),i)}),[g,i]),w=(0,t.useMemo)((function(){return Y((function(e){e.style[g]=null}),a)}),[g,a]),E=(0,t.useMemo)((function(){return Y((function(e){e.style[g]="".concat(m(g,e),"px"),X(e)}),u)}),[u,m,g]),_=(0,t.useMemo)((function(){return Y((function(e){e.style[g]=null}),c)}),[g,c]);return(0,x.jsx)(ae,o(o({ref:n,addEndListener:J},y),{},{"aria-expanded":y.role?y.in:null,onEnter:k,onEntering:b,onEntered:w,onExit:E,onExiting:_,childRef:h.ref,children:function(e,n){return t.cloneElement(h,o(o({},n),{},{className:l()(f,h.props.className,ce[e],"width"===g&&"collapse-horizontal")}))}}))}));fe.defaultProps=le;var he=fe,de=t.createContext(null);de.displayName="NavbarContext";var pe=de,ve=["children","bsPrefix"],me=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=s(e,ve);i=I(i,"navbar-collapse");var u=(0,t.useContext)(pe);return(0,x.jsx)(he,o(o({in:!(!u||!u.expanded)},a),{},{children:(0,x.jsx)("div",{ref:n,className:i,children:r})}))}));me.displayName="NavbarCollapse";var ye=me;var ge=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function ke(e){var n=ge(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var be=["bsPrefix","className","children","label","as","onClick"],we=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,u=e.label,c=e.as,f=void 0===c?"button":c,h=e.onClick,d=s(e,be);r=I(r,"navbar-toggler");var p=(0,t.useContext)(pe)||{},v=p.onToggle,m=p.expanded,y=ke((function(e){h&&h(e),v&&v()}));return"button"===f&&(d.type="button"),(0,x.jsx)(f,o(o({},d),{},{ref:n,onClick:y,"aria-label":u,className:l()(i,r,!m&&"collapsed"),children:a||(0,x.jsx)("span",{className:"".concat(r,"-icon")})}))}));we.displayName="NavbarToggle",we.defaultProps={label:"Toggle navigation"};var xe=we,Ee="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,_e="undefined"!==typeof document||Ee?t.useLayoutEffect:t.useEffect,Ie=new WeakMap,Se=function(e,t){if(e&&t){var n=Ie.get(t)||new Map;Ie.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function Te(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=Se(e,n),i=(0,t.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return _e((function(){var t=Se(e,n);if(!t)return o(!1);var r=Ie.get(n),i=function(){o(t.matches)};return t.refCount++,t.addListener(i),i(),function(){t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),a}var Ce=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var u,s;"object"===typeof n?(u=n,o=a,a=!0):((s={})[n]=a=a||!0,u=s);var c=(0,t.useMemo)((function(){return Object.entries(u).reduce((function(t,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=r(t,i(a))),t}),"")}),[JSON.stringify(u)]);return Te(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Ne(e){if(Array.isArray(e))return e}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){if(e){if("string"===typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function De(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pe(e,t){return Ne(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Ae(e,t)||De()}function Re(e){void 0===e&&(e=D());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(vR){return e.body}}function Le(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Me(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}function je(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function Fe(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}function Ve(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ue(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||Ve(e)||Ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){return t&&ze(e.prototype,t),n&&ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ke(e){return"".concat("data-rr-ui-").concat(e)}var He=Ke("modal-open"),We=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Be(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return qe(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=i({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(F(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(He,""),F(r,t)}},{key:"reset",value:function(){var e=this;Ue(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(He),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Ge=We,Qe=(0,t.createContext)(U?window:void 0);Qe.Provider;function $e(){return(0,t.useContext)(Qe)}var Je=function(e,t){var n;return U?null==e?(t||D()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var Ye,Xe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Ze(e){var n=$e(),r=e||function(e){return Ye||(Ye=new Ge({ownerDocument:null==e?void 0:e.document})),Ye}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var et=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,u=e.className,s=e.style,c=e.children,l=e.backdrop,f=void 0===l||l,h=e.keyboard,d=void 0===h||h,p=e.onBackdropClick,v=e.onEscapeKeyDown,m=e.transition,y=e.backdropTransition,g=e.autoFocus,k=void 0===g||g,b=e.enforceFocus,w=void 0===b||b,E=e.restoreFocus,_=void 0===E||E,I=e.restoreFocusOptions,S=e.renderDialog,T=e.renderBackdrop,C=void 0===T?function(e){return(0,x.jsx)("div",Object.assign({},e))}:T,N=e.manager,O=e.container,A=e.onShow,D=e.onHide,P=void 0===D?function(){}:D,R=e.onExit,L=e.onExited,M=e.onExiting,j=e.onEnter,F=e.onEntering,V=e.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Xe),z=function(e,n){var r=$e(),i=Pe((0,t.useState)((function(){return Je(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var u=Je(e);u&&o(u)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=Je(e);t!==a&&o(t)}),[e,a]),a}(O),q=Ze(N),K=Me(),H=Fe(i),G=Pe((0,t.useState)(!i),2),Q=G[0],$=G[1],J=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return q}),[q]),U&&!H&&i&&(J.current=Re()),m||i||Q?i&&Q&&$(!1):$(!0);var Y=ke((function(){if(q.add(),ie.current=W(document,"keydown",ne),re.current=W(document,"focus",(function(){return setTimeout(Z)}),!0),A&&A(),k){var e=Re(document);q.dialog&&e&&!Le(q.dialog,e)&&(J.current=e,q.dialog.focus())}})),X=ke((function(){var e;(q.remove(),null==ie.current||ie.current(),null==re.current||re.current(),_)&&(null==(e=J.current)||null==e.focus||e.focus(I),J.current=null)}));(0,t.useEffect)((function(){i&&z&&Y()}),[i,z,Y]),(0,t.useEffect)((function(){Q&&X()}),[Q,X]),je((function(){X()}));var Z=ke((function(){if(w&&K()&&q.isTopModal()){var e=Re();q.dialog&&e&&!Le(q.dialog,e)&&q.dialog.focus()}})),ee=ke((function(e){e.target===e.currentTarget&&(null==p||p(e),!0===f&&P())})),ne=ke((function(e){d&&27===e.keyCode&&q.isTopModal()&&(null==v||v(e),e.defaultPrevented||P())})),re=(0,t.useRef)(),ie=(0,t.useRef)(),ae=m;if(!z||!(i||ae&&!Q))return null;var oe=Object.assign({role:o,ref:q.setDialogRef,"aria-modal":"dialog"===o||void 0},B,{style:s,className:u,tabIndex:-1}),ue=S?S(oe):(0,x.jsx)("div",Object.assign({},oe,{children:t.cloneElement(c,{role:"document"})}));ae&&(ue=(0,x.jsx)(ae,{appear:!0,unmountOnExit:!0,in:!!i,onExit:R,onExiting:M,onExited:function(){$(!0),null==L||L.apply(void 0,arguments)},onEnter:j,onEntering:F,onEntered:V,children:ue}));var se=null;if(f){var ce=y;se=C({ref:q.setBackdropRef,onClick:ee}),ce&&(se=(0,x.jsx)(ce,{appear:!0,in:!!i,children:se}))}return(0,x.jsx)(x.Fragment,{children:te.createPortal((0,x.jsxs)(x.Fragment,{children:[se,ue]}),z)})}));et.displayName="Modal";var tt,nt=Object.assign(et,{Manager:Ge}),rt=["className","children","transitionClasses"],it=(i(tt={},V.d0,"show"),i(tt,V.cn,"show"),tt),at=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,u=void 0===a?{}:a,c=s(e,rt),f=(0,t.useCallback)((function(e,t){X(e),null==c.onEnter||c.onEnter(e,t)}),[c]);return(0,x.jsx)(ae,o(o({ref:n,addEndListener:J},c),{},{onEnter:f,childRef:i.ref,children:function(e,n){return t.cloneElement(i,o(o({},n),{},{className:l()("fade",r,i.props.className,it[e],u[e])}))}}))}));at.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},at.displayName="Fade";var ot,ut=at,st=C("offcanvas-body"),ct=["bsPrefix","className","children"],lt=(i(ot={},V.d0,"show"),i(ot,V.cn,"show"),ot),ft=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,u=s(e,ct);return r=I(r,"offcanvas"),(0,x.jsx)(ae,o(o({ref:n,addEndListener:J},u),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,o(o({},n),{},{className:l()(i,a.props.className,(e===V.d0||e===V.Ix)&&"".concat(r,"-toggling"),lt[e])}))}}))}));ft.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ft.displayName="OffcanvasToggling";var ht=ft,dt=t.createContext({onHide:function(){}}),pt=n(7),vt=n.n(pt),mt=["className","variant"],yt={"aria-label":vt().string,onClick:vt().func,variant:vt().oneOf(["white"])},gt=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=s(e,mt);return(0,x.jsx)("button",o({ref:t,type:"button",className:l()("btn-close",r&&"btn-close-".concat(r),n)},i))}));gt.displayName="CloseButton",gt.propTypes=yt,gt.defaultProps={"aria-label":"Close"};var kt=gt,bt=["closeLabel","closeVariant","closeButton","onHide","children"],wt=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,u=e.onHide,c=e.children,l=s(e,bt),f=(0,t.useContext)(dt),h=ke((function(){null==f||f.onHide(),null==u||u()}));return(0,x.jsxs)("div",o(o({ref:n},l),{},{children:[c,a&&(0,x.jsx)(kt,{"aria-label":r,variant:i,onClick:h})]}))}));wt.defaultProps={closeLabel:"Close",closeButton:!1};var xt=wt,Et=["bsPrefix","className"],_t=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=s(e,Et);return n=I(n,"offcanvas-header"),(0,x.jsx)(xt,o(o({ref:t},i),{},{className:l()(r,n)}))}));_t.displayName="OffcanvasHeader",_t.defaultProps={closeLabel:"Close",closeButton:!1};var It=_t,St=function(e){return t.forwardRef((function(t,n){return(0,x.jsx)("div",o(o({},t),{},{ref:n,className:l()(t.className,e)}))}))},Tt=C("offcanvas-title",{Component:St("h5")});function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}function Nt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ct(e)););return e}function Ot(){return Ot="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Nt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ot.apply(this,arguments)}var At=n(611);function Dt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,At.Z)(e,t)}function Pt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(vR){return!1}}function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}var Lt=n(326);function Mt(e,t){if(t&&("object"===Rt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,Lt.Z)(e)}function jt(e){var t=Pt();return function(){var n,r=Ct(e);if(t){var i=Ct(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mt(this,n)}}var Ft=n(252),Vt=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ut(e,t){return Vt(e.querySelectorAll(t))}var Bt,zt=n(946),qt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Kt=".sticky-top",Ht=".navbar-toggler",Wt=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,F(t,i({},e,"".concat(parseFloat(F(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],F(t,i({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Ot(Ct(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if((0,Ft.Z)(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Ut(r,qt).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),Ut(r,Kt).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),Ut(r,Ht).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Ot(Ct(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();(0,zt.Z)(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Ut(r,qt).forEach((function(e){return t.restore(i,e)})),Ut(r,Kt).forEach((function(e){return t.restore(a,e)})),Ut(r,Ht).forEach((function(e){return t.restore(a,e)}))}}]),n}(Ge);var Gt=Wt,Qt=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function $t(e){return(0,x.jsx)(ht,o({},e))}function Jt(e){return(0,x.jsx)(ut,o({},e))}var Yt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,u=e["aria-labelledby"],c=e.placement,f=e.show,h=e.backdrop,d=e.keyboard,p=e.scroll,v=e.onEscapeKeyDown,m=e.onShow,y=e.onHide,g=e.container,k=e.autoFocus,b=e.enforceFocus,w=e.restoreFocus,E=e.restoreFocusOptions,_=e.onEntered,S=e.onExit,T=e.onExiting,C=e.onEnter,N=e.onEntering,O=e.onExited,A=e.backdropClassName,D=e.manager,P=s(e,Qt),R=(0,t.useRef)();r=I(r,"offcanvas");var L=((0,t.useContext)(pe)||{}).onToggle,M=ke((function(){null==L||L(),null==y||y()})),j=(0,t.useMemo)((function(){return{onHide:M}}),[M]);var F=(0,t.useCallback)((function(e){return(0,x.jsx)("div",o(o({},e),{},{className:l()("".concat(r,"-backdrop"),A)}))}),[A,r]);return(0,x.jsx)(dt.Provider,{value:j,children:(0,x.jsx)(nt,{show:f,ref:n,backdrop:h,container:g,keyboard:d,autoFocus:k,enforceFocus:b&&!p,restoreFocus:w,restoreFocusOptions:E,onEscapeKeyDown:v,onShow:m,onHide:M,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==C||C.apply(void 0,[e].concat(n))},onEntering:N,onEntered:_,onExit:S,onExiting:T,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==O||O.apply(void 0,n)},manager:D||(p?(R.current||(R.current=new Gt({handleContainerOverflow:!1})),R.current):function(e){return Bt||(Bt=new Wt(e)),Bt}()),transition:$t,backdropTransition:Jt,renderBackdrop:F,renderDialog:function(e){return(0,x.jsx)("div",o(o(o({role:"dialog"},e),P),{},{className:l()(i,r,"".concat(r,"-").concat(c)),"aria-labelledby":u,children:a}))}})})}));Yt.displayName="Offcanvas",Yt.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var Xt=Object.assign(Yt,{Body:st,Header:It,Title:Tt}),Zt=["className","bsPrefix","backdrop","backdropClassName","keyboard","scroll","placement","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onShow","onHide","onEscapeKeyDown","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],en=t.forwardRef((function(e,n){var r=e.className,i=e.bsPrefix,a=e.backdrop,u=e.backdropClassName,c=e.keyboard,f=e.scroll,h=e.placement,d=e.autoFocus,p=e.enforceFocus,v=e.restoreFocus,m=e.restoreFocusOptions,y=e.onShow,g=e.onHide,k=e.onEscapeKeyDown,b=e.onEnter,w=e.onEntering,E=e.onEntered,_=e.onExit,S=e.onExiting,T=e.onExited,C=s(e,Zt),N=(0,t.useContext)(pe);i=I(i,"offcanvas");var O="string"===typeof(null==N?void 0:N.expand),A=Ce(O?N.expand:"xs","up");return O&&A?(0,x.jsx)("div",o(o({ref:n},C),{},{className:l()(r,i,"".concat(i,"-").concat(h))})):(0,x.jsx)(Xt,o({ref:n,show:!(null==N||!N.expanded),bsPrefix:i,backdrop:a,backdropClassName:u,keyboard:c,scroll:f,placement:h,autoFocus:d,enforceFocus:p,restoreFocus:v,restoreFocusOptions:m,onShow:y,onHide:g,onEscapeKeyDown:k,onEnter:b,onEntering:w,onEntered:E,onExit:_,onExiting:S,onExited:T},C))}));en.displayName="NavbarOffcanvas";var tn=en,nn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],rn=C("navbar-text",{Component:"span"}),an=t.forwardRef((function(e,n){var r=y(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,u=r.variant,c=r.bg,f=r.fixed,d=r.sticky,p=r.className,v=r.as,m=void 0===v?"nav":v,g=r.expanded,k=r.onToggle,b=r.onSelect,w=r.collapseOnSelect,E=s(r,nn),_=I(i,"navbar"),S=(0,t.useCallback)((function(){null==b||b.apply(void 0,arguments),w&&g&&(null==k||k(!1))}),[b,w,g,k]);void 0===E.role&&"nav"!==m&&(E.role="navigation");var T="".concat(_,"-expand");"string"===typeof a&&(T="".concat(T,"-").concat(a));var C=(0,t.useMemo)((function(){return{onToggle:function(){return null==k?void 0:k(!g)},bsPrefix:_,expanded:!!g,expand:a}}),[_,g,a,k]);return(0,x.jsx)(pe.Provider,{value:C,children:(0,x.jsx)(h.Provider,{value:S,children:(0,x.jsx)(m,o(o({ref:n},E),{},{className:l()(p,_,a&&T,u&&"".concat(_,"-").concat(u),c&&"bg-".concat(c),d&&"sticky-".concat(d),f&&"fixed-".concat(f))}))})})}));an.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},an.displayName="Navbar";var on=Object.assign(an,{Brand:A,Collapse:ye,Offcanvas:tn,Text:rn,Toggle:xe}),un=["bsPrefix","fluid","as","className"],sn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,u=e.className,c=s(e,un),f=I(n,"container"),h="string"===typeof r?"-".concat(r):"-fluid";return(0,x.jsx)(a,o(o({ref:t},c),{},{className:l()(u,r?"".concat(f).concat(h):f)}))}));sn.displayName="Container",sn.defaultProps={fluid:!1};var cn=sn;n(573);function ln(){return(0,t.useReducer)((function(e){return!e}),!1)[1]}var fn=t.createContext(null);fn.displayName="NavContext";var hn=fn,dn=t.createContext(null),pn=["as","disabled"];function vn(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var mn=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,pn),a=Pe(vn(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,x.jsx)(u,Object.assign({},i,o,{ref:t}))}));mn.displayName="Button";var yn=mn,gn=["as","active","eventKey"];function kn(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,t.useContext)(h),c=(0,t.useContext)(hn),l=(0,t.useContext)(dn),f=i,d={role:o};if(c){o||"tablist"!==c.role||(d.role="tab");var p=c.getControllerId(null!=n?n:null),v=c.getControlledId(null!=n?n:null);d[Ke("event-key")]=n,d.id=p||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(d["aria-controls"]=v)}return"tab"===d.role&&(u&&(d.tabIndex=-1,d["aria-disabled"]=!0),f?d["aria-selected"]=f:d.tabIndex=-1),d.onClick=ke((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[d,{isActive:f}]}var bn=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?yn:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,gn),u=Pe(kn(Object.assign({key:f(a,o.href),active:i},o)),2),s=u[0],c=u[1];return s[Ke("active")]=c.isActive,(0,x.jsx)(r,Object.assign({},o,s,{ref:t}))}));bn.displayName="NavItem";var wn=bn,xn=["as","onSelect","activeKey","role","onKeyDown"];var En=function(){},_n=Ke("event-key"),In=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,xn),p=ln(),v=(0,t.useRef)(!1),m=(0,t.useContext)(h),y=(0,t.useContext)(dn);y&&(c=c||"tablist",s=y.activeKey,r=y.getControlledId,i=y.getControllerId);var g=(0,t.useRef)(null),k=function(e){var t=g.current;if(!t)return null;var n=Ut(t,"[".concat(_n,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},b=function(e,t){null!=e&&(null==u||u(e,t),null==m||m(e,t))};(0,t.useEffect)((function(){if(g.current&&v.current){var e=g.current.querySelector("[".concat(_n,"][aria-selected=true]"));null==e||e.focus()}v.current=!1}));var w=ee(n,g);return(0,x.jsx)(h.Provider,{value:b,children:(0,x.jsx)(hn.Provider,{value:{role:c,activeKey:f(s),getControlledId:r||En,getControllerId:i||En},children:(0,x.jsx)(o,Object.assign({},d,{onKeyDown:function(e){if(null==l||l(e),y){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=k(-1);break;case"ArrowRight":case"ArrowDown":t=k(1);break;default:return}if(t)e.preventDefault(),b(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),v.current=!0,p()}},ref:w,role:c}))})})}));In.displayName="Nav";var Sn=Object.assign(In,{Item:wn}),Tn=t.createContext(null);Tn.displayName="CardHeaderContext";var Cn=Tn,Nn=C("nav-item");function On(){return(0,t.useState)(null)}new WeakMap;var An=["onKeyDown"];var Dn=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,An),a=Pe(vn(Object.assign({tagName:"a"},i)),1)[0],o=ke((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,x.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,x.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Dn.displayName="Anchor";var Pn=Dn,Rn=["bsPrefix","className","as","active","eventKey"],Ln=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Pn:i,u=e.active,c=e.eventKey,h=s(e,Rn);n=I(n,"nav-link");var d=Pe(kn(o({key:f(c,h.href),active:u},h)),2),p=d[0],v=d[1];return(0,x.jsx)(a,o(o(o({},h),p),{},{ref:t,className:l()(r,n,h.disabled&&"disabled",v.isActive&&"active")}))}));Ln.displayName="NavLink",Ln.defaultProps={disabled:!1};var Mn=Ln,jn=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Fn=t.forwardRef((function(e,n){var r,a,u,c=y(e,{activeKey:"onSelect"}),f=c.as,h=void 0===f?"div":f,d=c.bsPrefix,p=c.variant,v=c.fill,m=c.justify,g=c.navbar,k=c.navbarScroll,b=c.className,w=c.activeKey,E=s(c,jn),_=I(d,"nav"),S=!1,T=(0,t.useContext)(pe),C=(0,t.useContext)(Cn);return T?(a=T.bsPrefix,S=null==g||g):C&&(u=C.cardHeaderBsPrefix),(0,x.jsx)(Sn,o({as:h,ref:n,activeKey:w,className:l()(b,(r={},i(r,_,!S),i(r,"".concat(a,"-nav"),S),i(r,"".concat(a,"-nav-scroll"),S&&k),i(r,"".concat(u,"-").concat(p),!!u),i(r,"".concat(_,"-").concat(p),!!p),i(r,"".concat(_,"-fill"),v),i(r,"".concat(_,"-justified"),m),r))},E))}));Fn.displayName="Nav",Fn.defaultProps={justify:!1,fill:!1};var Vn,Un=Object.assign(Fn,{Item:Nn,Link:Mn});!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Vn||(Vn={}));var Bn=function(e){return e};var zn="beforeunload",qn="popstate";function Kn(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=$n(n.location.hash.substr(1)),t=e.pathname,i=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=r.state||{};return[c.idx,Bn({pathname:i,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var a=null;function o(){if(a)h.call(a),a=null;else{var e=Vn.Pop,t=i(),n=t[0],r=t[1];if(h.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){k(-1*o)}},k(o))}}else g(e)}}n.addEventListener(qn,o),n.addEventListener("hashchange",(function(){Qn(i()[1])!==Qn(l)&&o()}));var u=Vn.Pop,s=i(),c=s[0],l=s[1],f=Wn(),h=Wn();function p(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:Qn(e))}function v(e,t){return void 0===t&&(t=null),Bn((0,d.Z)({pathname:l.pathname,hash:"",search:""},"string"===typeof e?$n(e):e,{state:t,key:Gn()}))}function m(e,t){return[{usr:e.state,key:e.key,idx:t},p(e)]}function y(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function g(e){u=e;var t=i();c=t[0],l=t[1],f.call({action:u,location:l})}function k(e){r.go(e)}null==c&&(c=0,r.replaceState((0,d.Z)({},r.state,{idx:c}),""));var b={get action(){return u},get location(){return l},createHref:p,push:function e(t,i){var a=Vn.Push,o=v(t,i);if(y(a,o,(function(){e(t,i)}))){var u=m(o,c+1),s=u[0],l=u[1];try{r.pushState(s,"",l)}catch(f){n.location.assign(l)}g(a)}},replace:function e(t,n){var i=Vn.Replace,a=v(t,n);if(y(i,a,(function(){e(t,n)}))){var o=m(a,c),u=o[0],s=o[1];r.replaceState(u,"",s),g(i)}},go:k,back:function(){k(-1)},forward:function(){k(1)},listen:function(e){return f.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&n.addEventListener(zn,Hn),function(){t(),h.length||n.removeEventListener(zn,Hn)}}};return b}function Hn(e){e.preventDefault(),e.returnValue=""}function Wn(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Gn(){return Math.random().toString(36).substr(2,8)}function Qn(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function $n(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Jn=(0,t.createContext)(null);var Yn=(0,t.createContext)(null);var Xn=(0,t.createContext)({outlet:null,matches:[]});function Zn(e,t){if(!e)throw new Error(t)}function er(e,t,n){void 0===n&&(n="/");var r=sr(("string"===typeof t?$n(t):t).pathname||"/",n);if(null==r)return null;var i=tr(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=ar(i[o],r);return a}function tr(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||Zn(!1),a.relativePath=a.relativePath.slice(r.length));var o=cr([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&Zn(!1),tr(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:ir(o,e.index),routesMeta:u})})),t}var nr=/^:\w+$/,rr=function(e){return"*"===e};function ir(e,t){var n=e.split("/"),r=n.length;return n.some(rr)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!rr(e)})).reduce((function(e,t){return e+(nr.test(t)?3:""===t?1:10)}),r)}function ar(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=or({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:cr([i,l.pathname]),pathnameBase:lr(cr([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=cr([i,l.pathnameBase]))}return a}function or(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=Pe(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function ur(e,t,n){var r,i="string"===typeof e?$n(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?$n(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:fr(a),hash:hr(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function sr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var cr=function(e){return e.join("/").replace(/\/\/+/g,"/")},lr=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},fr=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},hr=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function dr(e){pr()||Zn(!1);var n=(0,t.useContext)(Jn),r=n.basename,i=n.navigator,a=yr(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?$n(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):cr([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function pr(){return null!=(0,t.useContext)(Yn)}function vr(){return pr()||Zn(!1),(0,t.useContext)(Yn).location}function mr(){pr()||Zn(!1);var e=(0,t.useContext)(Jn),n=e.basename,r=e.navigator,i=(0,t.useContext)(Xn).matches,a=vr().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=ur(e,JSON.parse(o),a);"/"!==n&&(i.pathname=cr([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function yr(e){var n=(0,t.useContext)(Xn).matches,r=vr().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return ur(e,JSON.parse(i),r)}),[e,i,r])}function gr(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(Xn.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function kr(e){Zn(!1)}function br(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?Vn.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;pr()&&Zn(!1);var h=lr(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=$n(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,E=p.key,_=void 0===E?"default":E,I=(0,t.useMemo)((function(){var e=sr(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:_}}),[h,m,g,b,x,_]);return null==I?null:(0,t.createElement)(Jn.Provider,{value:d},(0,t.createElement)(Yn.Provider,{children:a,value:{location:I,navigationType:s}}))}function wr(e){var n=e.children,r=e.location;return function(e,n){pr()||Zn(!1);var r,i=(0,t.useContext)(Xn).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,vr());if(n){var c,l="string"===typeof n?$n(n):n;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||Zn(!1),r=l}else r=s;var f=r.pathname||"/",h=er(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return gr(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:cr([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:cr([u,e.pathnameBase])})})),i)}(xr(n),r)}function xr(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==kr&&Zn(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=xr(e.props.children)),n.push(r)}else n.push.apply(n,xr(e.props.children))})),n}function Er(){return Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Er.apply(this,arguments)}function _r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ir=["onClick","reloadDocument","replace","state","target","to"];function Sr(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=Kn({window:i}));var o=a.current,u=Pe((0,t.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,t.createElement)(br,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var Tr=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=_r(e,Ir),f=dr(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=mr(),s=vr(),c=yr(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||Qn(s)===Qn(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",Er({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));var Cr=n.p+"static/media/logo.2b12ddf8085eeecf2d79.png",Nr=function(){return(0,x.jsx)(on,{bg:"dark",variant:"dark",children:(0,x.jsxs)(cn,{children:[(0,x.jsxs)(on.Brand,{children:[(0,x.jsx)("img",{src:Cr,alt:"logo"})," "," ",(0,x.jsx)(Tr,{to:"/",style:{color:"white",textDecoration:"none"},children:"\u041c\u043d\u043e\u0433\u043e\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u0442\u0443\u0440\u044b"})]}),(0,x.jsx)(on.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,x.jsx)(on.Collapse,{id:"basic-navbar-nav",children:(0,x.jsx)(Un,{className:"me-auto",children:[{to:"/regions",title:"\u0420\u0435\u0433\u0438\u043e\u043d\u044b"},{to:"/payment",title:"\u041e\u043f\u043b\u0430\u0442\u0430"},{to:"/contacts",title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"},{to:"/reviews",title:"\u041e\u0442\u0437\u044b\u0432\u044b"}].map((function(e){return(0,x.jsx)(Un.Link,{children:(0,x.jsx)(Tr,{style:{color:"grey",textDecoration:"none"},to:e.to,children:e.title})},e.to)}))})})]})})};function Or(){Or=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Rt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ar(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Dr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ar(a,r,i,o,u,"next",e)}function u(e){Ar(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Pr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ae(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Rr(e,t,n){return Rr=Pt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,At.Z)(i,n.prototype),i},Rr.apply(null,arguments)}function Lr(e){var t="function"===typeof Map?new Map:void 0;return Lr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Rr(e,arguments,Ct(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,At.Z)(n,e)},Lr(e)}var Mr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},jr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Mr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Fr=function(e){return function(e){var t=Mr(e);return jr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Vr=function(e){try{return jr.decodeString(e,!0)}catch(vR){console.error("base64Decode failed: ",vR)}return null};function Ur(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ur(e[n],t[n]));return e}var Br=function(){function e(){var t=this;Be(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return qe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function zr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fr(JSON.stringify({alg:"none",type:"JWT"})),Fr(JSON.stringify(a)),""].join(".")}function qr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Kr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function Hr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(vR){return!1}}function Wr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Gr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Qr(){var e=qr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $r(){return"object"===typeof indexedDB}var Jr=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,Lt.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,Lt.Z)(a),Yr.prototype.create),a}return qe(n)}(Lr(Error)),Yr=function(){function e(t,n,r){Be(this,e),this.service=t,this.serviceName=n,this.errors=r}return qe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Xr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Jr(n,a,t);return o}}]),e}();function Xr(e,t){return e.replace(Zr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Zr=/\{\$([^}]+)}/g;function ei(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ti(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ni(u)&&ni(s)){if(!ti(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ni(e){return null!==e&&"object"===typeof e}function ri(e){for(var t=[],n=function(){var e=Pe(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ii(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Pe(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ai(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function oi(e,t){var n=new ui(e,t);return n.subscribe.bind(n)}var ui=function(){function e(t,n){var r=this;Be(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return qe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Pr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=si),void 0===r.error&&(r.error=si),void 0===r.complete&&(r.complete=si);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(vR){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(vR){"undefined"!==typeof console&&console.error&&console.error(vR)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function si(){}function ci(e){return e&&e._delegate?e._delegate:e}var li=function(){function e(t,n,r){Be(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return qe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),fi="[DEFAULT]",hi=function(){function e(t,n){Be(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return qe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Br;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(vR){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(vR){if(r)return null;throw vR}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch(vR){}var t,n=Pr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Pe(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(vR){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ue(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ue(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Pr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Pe(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Pr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(dT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===fi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(dT){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi;return this.component?this.component.multipleInstances?e:fi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var di,pi,vi=function(){function e(t){Be(this,e),this.name=t,this.providers=new Map}return qe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new hi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),mi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pi||(pi={}));var yi={debug:pi.DEBUG,verbose:pi.VERBOSE,info:pi.INFO,warn:pi.WARN,error:pi.ERROR,silent:pi.SILENT},gi=pi.INFO,ki=(i(di={},pi.DEBUG,"log"),i(di,pi.VERBOSE,"log"),i(di,pi.INFO,"info"),i(di,pi.WARN,"warn"),i(di,pi.ERROR,"error"),di),bi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ki[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},wi=function(){function e(t){Be(this,e),this.name=t,this._logLevel=gi,this._logHandler=bi,this._userLogHandler=null,mi.push(this)}return qe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in pi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?yi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pi.DEBUG].concat(t)),this._logHandler.apply(this,[this,pi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,pi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pi.INFO].concat(t)),this._logHandler.apply(this,[this,pi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pi.WARN].concat(t)),this._logHandler.apply(this,[this,pi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pi.ERROR].concat(t)),this._logHandler.apply(this,[this,pi.ERROR].concat(t))}}]),e}();var xi,Ei;var _i=new WeakMap,Ii=new WeakMap,Si=new WeakMap,Ti=new WeakMap,Ci=new WeakMap;var Ni={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ii.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Si.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Oi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ei||(Ei=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pi(this),n),Di(_i.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Di(e.apply(Pi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Pi(this),t].concat(r));return Si.set(a,t.sort?t.sort():[t]),Di(a)}}function Ai(e){return"function"===typeof e?Oi(e):(e instanceof IDBTransaction&&function(e){if(!Ii.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ii.set(e,t)}}(e),t=e,(xi||(xi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ni):e);var t}function Di(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Di(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&_i.set(t,e)})).catch((function(){})),Ci.set(t,e),t}(e);if(Ti.has(e))return Ti.get(e);var t=Ai(e);return t!==e&&(Ti.set(e,t),Ci.set(t,e)),t}var Pi=function(e){return Ci.get(e)};var Ri,Li,Mi=["get","getKey","getAll","getAllKeys","count"],ji=["put","add","delete","clear"],Fi=new Map;function Vi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Fi.get(t))return Fi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ji.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Mi.includes(n))){var a=function(){var e=Dr(Or().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Fi.set(t,a),a}}}Ni=function(e){return o(o({},e),{},{get:function(t,n,r){return Vi(t,n)||e.get(t,n,r)},has:function(t,n){return!!Vi(t,n)||e.has(t,n)}})}(Ni);var Ui=function(){function e(t){Be(this,e),this.container=t}return qe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Bi="@firebase/app",zi="0.7.26",qi=new wi("@firebase/app"),Ki="[DEFAULT]",Hi=(i(Ri={},Bi,"fire-core"),i(Ri,"@firebase/app-compat","fire-core-compat"),i(Ri,"@firebase/analytics","fire-analytics"),i(Ri,"@firebase/analytics-compat","fire-analytics-compat"),i(Ri,"@firebase/app-check","fire-app-check"),i(Ri,"@firebase/app-check-compat","fire-app-check-compat"),i(Ri,"@firebase/auth","fire-auth"),i(Ri,"@firebase/auth-compat","fire-auth-compat"),i(Ri,"@firebase/database","fire-rtdb"),i(Ri,"@firebase/database-compat","fire-rtdb-compat"),i(Ri,"@firebase/functions","fire-fn"),i(Ri,"@firebase/functions-compat","fire-fn-compat"),i(Ri,"@firebase/installations","fire-iid"),i(Ri,"@firebase/installations-compat","fire-iid-compat"),i(Ri,"@firebase/messaging","fire-fcm"),i(Ri,"@firebase/messaging-compat","fire-fcm-compat"),i(Ri,"@firebase/performance","fire-perf"),i(Ri,"@firebase/performance-compat","fire-perf-compat"),i(Ri,"@firebase/remote-config","fire-rc"),i(Ri,"@firebase/remote-config-compat","fire-rc-compat"),i(Ri,"@firebase/storage","fire-gcs"),i(Ri,"@firebase/storage-compat","fire-gcs-compat"),i(Ri,"@firebase/firestore","fire-fst"),i(Ri,"@firebase/firestore-compat","fire-fst-compat"),i(Ri,"fire-js","fire-js"),i(Ri,"firebase","fire-js-all"),Ri),Wi=new Map,Gi=new Map;function Qi(e,t){try{e.container.addComponent(t)}catch(vR){qi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),vR)}}function $i(e,t){e.container.addOrOverwriteComponent(t)}function Ji(e){var t=e.name;if(Gi.has(t))return qi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Gi.set(t,e);var n,r=Pr(Wi.values());try{for(r.s();!(n=r.n()).done;){Qi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Yi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ki;Yi(e,t).clearInstance(n)}function Zi(){Gi.clear()}var ea=(i(Li={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(Li,"bad-app-name","Illegal App name: '{$appName}"),i(Li,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),i(Li,"app-deleted","Firebase App named '{$appName}' already deleted"),i(Li,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),i(Li,"invalid-log-argument","First argument to `onLog` must be null or a function."),i(Li,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),i(Li,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),i(Li,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),i(Li,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Li),ta=new Yr("app","Firebase",ea),na=function(){function e(t,n,r){var i=this;Be(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",(function(){return i}),"PUBLIC"))}return qe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}]),e}(),ra="9.8.3";function ia(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ki,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ta.create("bad-app-name",{appName:String(i)});var a=Wi.get(i);if(a){if(ti(e,a.options)&&ti(r,a.config))return a;throw ta.create("duplicate-app",{appName:i})}var o,u=new vi(i),s=Pr(Gi.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new na(e,r,u);return Wi.set(i,l),l}function aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki,t=Wi.get(e);if(!t)throw ta.create("no-app",{appName:e});return t}function oa(){return Array.from(Wi.values())}function ua(e){return sa.apply(this,arguments)}function sa(){return sa=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Wi.has(n)){e.next=6;break}return Wi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ca(e,t,n){var r,i=null!==(r=Hi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void qi.warn(u.join(" "))}Ji(new li("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function la(e,t){if(null!==e&&"function"!==typeof e)throw ta.create("invalid-log-argument");!function(e,t){var n,r=Pr(mi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=yi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:pi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function fa(e){var t;t=e,mi.forEach((function(e){e.setLogLevel(t)}))}var ha="firebase-heartbeat-store",da=null;function pa(){return da||(da=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Di(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Di(u.result),e.oldVersion,e.newVersion,Di(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ha)}}).catch((function(e){throw ta.create("storage-open",{originalErrorMessage:e.message})}))),da}function va(e){return ma.apply(this,arguments)}function ma(){return ma=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pa();case 3:return r=e.sent,e.abrupt("return",r.transaction(ha).objectStore(ha).get(ka(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ta.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ma.apply(this,arguments)}function ya(e,t){return ga.apply(this,arguments)}function ga(){return ga=Dr(Or().mark((function e(t,n){var r,i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pa();case 3:return i=e.sent,a=i.transaction(ha,"readwrite"),o=a.objectStore(ha),e.next=8,o.put(n,ka(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),ta.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ga.apply(this,arguments)}function ka(e){return"".concat(e.name,"!").concat(e.options.appId)}var ba=function(){function e(t){var n=this;Be(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ia(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return qe(e,[{key:"triggerHeartbeat",value:function(){var e=Dr(Or().mark((function e(){var t,n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=wa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Dr(Or().mark((function e(){var t,n,r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=wa(),n=xa(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Fr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wa(){return(new Date).toISOString().substring(0,10)}function xa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Pr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Sa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Sa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ea,_a,Ia=function(){function e(t){Be(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return qe(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($r()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,va(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ya(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ya(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ue(r.heartbeats),Ue(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Sa(e){return Fr(JSON.stringify({version:2,heartbeats:e})).length}Ea="",Ji(new li("platform-logger",(function(e){return new Ui(e)}),"PRIVATE")),Ji(new li("heartbeat",(function(e){return new ba(e)}),"PRIVATE")),ca(Bi,zi,Ea),ca(Bi,zi,"esm2017"),ca("fire-js","");var Ta=function(){function e(t,n){var r=this;Be(this,e),this._delegate=t,this.firebase=n,Qi(t,new li("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return qe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ua(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Qi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){$i(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ca=(i(_a={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(_a,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_a),Na=new Yr("app-compat","Firebase",Ca);var Oa=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ia(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ei(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ca,setLogLevel:fa,onLog:la,apps:null,SDK_VERSION:ra,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ji(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Na.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ur(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ei(n,e=e||Ki))throw Na.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ta);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ur(n,e)},createSubscribe:oi,ErrorFactory:Yr,deepExtend:Ur}),n}(),Aa=new wi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Aa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Da=self.firebase.SDK_VERSION;Da&&Da.indexOf("LITE")>=0&&Aa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Pa=Oa;!function(e){ca("@firebase/app-compat","0.1.27",e)}();Pa.registerVersion("firebase","9.8.3","app-compat");function Ra(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var La;Object.create;var Ma="facebook.com",ja="github.com",Fa="google.com",Va="password",Ua="twitter.com",Ba="EMAIL_SIGNIN",za="PASSWORD_RESET",qa="RECOVER_EMAIL",Ka="REVERT_SECOND_FACTOR_ADDITION",Ha="VERIFY_AND_CHANGE_EMAIL",Wa="VERIFY_EMAIL";function Ga(){return i({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Qa=function(){var e;return i(e={},"admin-restricted-operation","This operation is restricted to administrators only."),i(e,"argument-error",""),i(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),i(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),i(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),i(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),i(e,"cordova-not-ready","Cordova framework is not ready."),i(e,"cors-unsupported","This browser is not supported."),i(e,"credential-already-in-use","This credential is already associated with a different user account."),i(e,"custom-token-mismatch","The custom token corresponds to a different audience."),i(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),i(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),i(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),i(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),i(e,"email-already-in-use","The email address is already in use by another account."),i(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),i(e,"expired-action-code","The action code has expired."),i(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),i(e,"internal-error","An internal AuthError has occurred."),i(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),i(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),i(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),i(e,"invalid-auth-event","An internal AuthError has occurred."),i(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),i(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),i(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),i(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),i(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),i(e,"invalid-email","The email address is badly formatted."),i(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),i(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),i(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),i(e,"invalid-credential","The supplied auth credential is malformed or has expired."),i(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),i(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),i(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),i(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),i(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),i(e,"wrong-password","The password is invalid or the user does not have a password."),i(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),i(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),i(e,"invalid-provider-id","The specified provider ID is invalid."),i(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),i(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),i(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),i(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),i(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),i(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),i(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),i(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),i(e,"missing-continue-uri","A continue URL must be provided in the request."),i(e,"missing-iframe-start","An internal AuthError has occurred."),i(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),i(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),i(e,"missing-multi-factor-info","No second factor identifier is provided."),i(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),i(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),i(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),i(e,"app-deleted","This instance of FirebaseApp has been deleted."),i(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),i(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),i(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),i(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),i(e,"no-auth-event","An internal AuthError has occurred."),i(e,"no-such-provider","User was not linked to an account with the given provider."),i(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),i(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),i(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),i(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),i(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),i(e,"provider-already-linked","User can only be linked to one identity for the given provider."),i(e,"quota-exceeded","The project's quota for this operation has been exceeded."),i(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),i(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),i(e,"rejected-credential","The request contains malformed or mismatching credentials."),i(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),i(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),i(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),i(e,"timeout","The operation has timed out."),i(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),i(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),i(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),i(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),i(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),i(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),i(e,"unverified-email","The operation requires a verified email."),i(e,"user-cancelled","The user did not grant your application the permissions it requested."),i(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),i(e,"user-disabled","The user account has been disabled by an administrator."),i(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),i(e,"user-signed-out",""),i(e,"weak-password","The password must be 6 characters long or more."),i(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),i(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},$a=Ga,Ja=new Yr("auth","Firebase",Ga()),Ya=new wi("@firebase/auth");function Xa(e){if(Ya.logLevel<=pi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ya.error.apply(Ya,["Auth (".concat(ra,"): ").concat(e)].concat(n))}}function Za(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ro.apply(void 0,[e].concat(n))}function eo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ro.apply(void 0,[e].concat(n))}function to(e,t,n){var r=Object.assign(Object.assign({},$a()),i({},t,n));return new Yr("auth","Firebase",r).create(t,{appName:e.name})}function no(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Za(e,"argument-error"),to(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ro(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Ue(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Ue(o)))}return Ja.create.apply(Ja,[e].concat(n))}function io(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ro.apply(void 0,[t].concat(r))}}function ao(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Xa(t),new Error(t)}function oo(e,t){e||ao(t)}var uo=new Map;function so(e){oo(e instanceof Function,"Expected a class definition");var t=uo.get(e);return t?(oo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,uo.set(e,t),t)}function co(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function lo(){return"http:"===fo()||"https:"===fo()}function fo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ho=function(){function e(t,n){Be(this,e),this.shortDelay=t,this.longDelay=n,oo(n>t,"Short delay should be less than long delay!"),this.isMobile=Kr()||Gr()}return qe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(lo()||Wr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function po(e,t){oo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var vo=function(){function e(){Be(this,e)}return qe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),mo=(i(La={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),i(La,"MISSING_CUSTOM_TOKEN","internal-error"),i(La,"INVALID_IDENTIFIER","invalid-email"),i(La,"MISSING_CONTINUE_URI","internal-error"),i(La,"INVALID_PASSWORD","wrong-password"),i(La,"MISSING_PASSWORD","internal-error"),i(La,"EMAIL_EXISTS","email-already-in-use"),i(La,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),i(La,"INVALID_IDP_RESPONSE","invalid-credential"),i(La,"INVALID_PENDING_TOKEN","invalid-credential"),i(La,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),i(La,"MISSING_REQ_TYPE","internal-error"),i(La,"EMAIL_NOT_FOUND","user-not-found"),i(La,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),i(La,"EXPIRED_OOB_CODE","expired-action-code"),i(La,"INVALID_OOB_CODE","invalid-action-code"),i(La,"MISSING_OOB_CODE","internal-error"),i(La,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),i(La,"INVALID_ID_TOKEN","invalid-user-token"),i(La,"TOKEN_EXPIRED","user-token-expired"),i(La,"USER_NOT_FOUND","user-token-expired"),i(La,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),i(La,"INVALID_CODE","invalid-verification-code"),i(La,"INVALID_SESSION_INFO","invalid-verification-id"),i(La,"INVALID_TEMPORARY_PROOF","invalid-credential"),i(La,"MISSING_SESSION_INFO","missing-verification-id"),i(La,"SESSION_EXPIRED","code-expired"),i(La,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),i(La,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),i(La,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),i(La,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),i(La,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),i(La,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),i(La,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),i(La,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),i(La,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),i(La,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),i(La,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),La),yo=new ho(3e4,6e4);function go(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ko(e,t,n,r){return bo.apply(this,arguments)}function bo(){return bo=Dr(Or().mark((function e(t,n,r,i){var a,o=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",wo(t,a,Dr(Or().mark((function e(){var a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ri(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",vo.fetch()(Io(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function wo(e,t,n){return xo.apply(this,arguments)}function xo(){return(xo=Dr(Or().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},mo),n),e.prev=2,a=new So(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw To(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Pe(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw To(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw To(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw To(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw to(t,d,h);case 34:Za(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Jr)){e.next=41;break}throw e.t0;case 41:Za(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Eo(e,t,n,r){return _o.apply(this,arguments)}function _o(){return _o=Dr(Or().mark((function e(t,n,r,i){var a,o,u=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ko(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Za(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function Io(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?po(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var So=function(){function e(t){var n=this;Be(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(eo(n.auth,"network-request-failed"))}),yo.get())}))}return qe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function To(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=eo(e,t,r);return i.customData._tokenResponse=n,i}function Co(e,t){return No.apply(this,arguments)}function No(){return(No=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t){return Po.apply(this,arguments)}function Po(){return(Po=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(vR){}}function Lo(){return Lo=Dr(Or().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ci(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,io((a=jo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ro(Mo(a.auth_time)),issuedAtTime:Ro(Mo(a.iat)),expirationTime:Ro(Mo(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Mo(e){return 1e3*Number(e)}function jo(e){var t=Pe(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Xa("JWT malformed, contained fewer than 3 sections"),null;try{var a=Vr(r);return a?JSON.parse(a):(Xa("Failed to decode base64 JWT payload"),null)}catch(vR){return Xa("Caught error parsing JWT payload as JSON",vR),null}}function Fo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=Dr(Or().mark((function e(t,n){var r=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Jr&&Uo(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Vo.apply(this,arguments)}function Uo(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Bo=function(){function e(t){Be(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return qe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Dr(Or().mark((function t(){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),zo=function(){function e(t,n){Be(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return qe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function qo(e){return Ko.apply(this,arguments)}function Ko(){return Ko=Dr(Or().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Fo(t,Do(r,{idToken:i}));case 6:io(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Go(o.providerUserInfo):[],s=Wo(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new zo(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Ho(){return(Ho=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ci(t),e.next=3,qo(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ue(n),Ue(t))}function Go(e){return e.map((function(e){var t=e.providerId,n=Ra(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Qo(e,t){return $o.apply(this,arguments)}function $o(){return($o=Dr(Or().mark((function e(t,n){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(t,{},Dr(Or().mark((function e(){var r,i,a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ri({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Io(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",vo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jo=function(){function e(){Be(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return qe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){io(e.idToken,"internal-error"),io("undefined"!==typeof e.idToken,"internal-error"),io("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=jo(e);return io(t,"internal-error"),io("undefined"!==typeof t.exp,"internal-error"),io("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Dr(Or().mark((function e(t){var n,r=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],io(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Dr(Or().mark((function e(t,n){var r,i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qo(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ao("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(io("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(io("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(io("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Yo(e,t){io("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Xo=function(){function e(t){Be(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ra(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Ue(a.providerData):[],this.metadata=new zo(a.createdAt||void 0,a.lastLoginAt||void 0)}return qe(e,[{key:"getIdToken",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(io(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Lo.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ho.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(io(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){io(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Dr(Or().mark((function e(t){var n,r,i=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,qo(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Fo(this,Co(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;io(k&&E,t,"internal-error");var _=Jo.fromJSON(this.name,E);io("string"===typeof k,t,"internal-error"),Yo(f,t.name),Yo(h,t.name),io("boolean"===typeof b,t,"internal-error"),io("boolean"===typeof w,t,"internal-error"),Yo(d,t.name),Yo(p,t.name),Yo(v,t.name),Yo(m,t.name),Yo(y,t.name),Yo(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Dr(Or().mark((function t(n,r){var i,a,o,u=arguments;return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Jo).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,qo(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Zo=function(){function e(){Be(this,e),this.type="NONE",this.storage={}}return qe(e,[{key:"_isAvailable",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Zo.type="NONE";var eu=Zo;function tu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var nu=function(){function e(t,n,r){Be(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=tu(this.userKey,a.apiKey,o),this.fullPersistenceKey=tu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return qe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Xo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Dr(Or().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(so(eu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||so(eu),u=tu(i,n.config.apiKey,n.name),s=null,c=Pr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Xo._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ru(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cu(t))return"Blackberry";if(lu(t))return"Webos";if(au(t))return"Safari";if((t.includes("chrome/")||ou(t))&&!t.includes("edge/"))return"Chrome";if(su(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return/firefox\//i.test(e)}function au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return/crios\//i.test(e)}function uu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return/iemobile/i.test(e)}function su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return/android/i.test(e)}function cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return/blackberry/i.test(e)}function lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return/webos/i.test(e)}function fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return/iphone|ipad|ipod/i.test(e)}function hu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return fu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function du(){return Qr()&&10===document.documentMode}function pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return fu(e)||su(e)||lu(e)||cu(e)||/windows phone/i.test(e)||uu(e)}function vu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ru(qr());break;case"Worker":t="".concat(ru(qr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ra,"/").concat(r)}var mu=function(){function e(t){Be(this,e),this.auth=t,this.queue=[]}return qe(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(vR){r(vR)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Dr(Or().mark((function e(t){var n,r,i,a,o,u,s,c;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Pr(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Pr(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),yu=function(){function e(t,n,r){Be(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ku(this),this.idTokenSubscription=new ku(this),this.beforeStateQueue=new mu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ja,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return qe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=so(t)),this._initializationPromise=this.queue(Dr(Or().mark((function r(){var i,a;return Or().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,nu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Dr(Or().mark((function e(t){var n,r,i,a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return io(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qo(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ci(t):null)&&io(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Dr(Or().mark((function e(t){var n,r=this,i=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&io(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Dr(Or().mark((function n(){return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(so(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Yr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Dr(Or().mark((function e(t,n){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return io(n=t&&so(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,nu.create(this,[so(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Dr(Or().mark((function e(t){var n=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return io(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return io(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Dr(Or().mark((function e(){var t,n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gu(e){return ci(e)}var ku=function(){function e(t){var n=this;Be(this,e),this.auth=t,this.observer=null,this.addObserver=oi((function(e){return n.observer=e}))}return qe(e,[{key:"next",get:function(){return io(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function bu(e,t,n){var r=gu(e);io(r._canInitEmulator,r,"emulator-config-failed"),io(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=wu(t),o=function(e){var t=wu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:xu(r.substr(a.length+1))}}var o=Pe(r.split(":"),2);return{host:o[0],port:xu(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function wu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Eu=function(){function e(t,n){Be(this,e),this.providerId=t,this.signInMethod=n}return qe(e,[{key:"toJSON",value:function(){return ao("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ao("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ao("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ao("not implemented")}}]),e}();function _u(e,t){return Iu.apply(this,arguments)}function Iu(){return(Iu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:resetPassword",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Tu.apply(this,arguments)}function Tu(){return(Tu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(e,t){return Nu.apply(this,arguments)}function Nu(){return(Nu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:update",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e,t){return Au.apply(this,arguments)}function Au(){return(Au=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithPassword",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:sendOobCode",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ru(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Du(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e,t){return ju.apply(this,arguments)}function ju(){return(ju=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Du(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t){return Vu.apply(this,arguments)}function Vu(){return(Vu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Du(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Du(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t){return qu.apply(this,arguments)}function qu(){return(qu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithEmailLink",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(e,t){return Hu.apply(this,arguments)}function Hu(){return(Hu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithEmailLink",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wu=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Be(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return qe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ou(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",zu(t,{email:this._email,oobCode:this._password}));case 5:Za(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Su(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ku(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Za(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Eu);function Gu(e,t){return Qu.apply(this,arguments)}function Qu(){return(Qu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithIdp",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $u=function(e){Dt(n,e);var t=jt(n);function n(){var e;return Be(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return qe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ri(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Za("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ra(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Eu);function Ju(e,t){return Yu.apply(this,arguments)}function Yu(){return(Yu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:sendVerificationCode",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(){return(Xu=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithPhoneNumber",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(){return(Zu=Dr(Or().mark((function e(t,n){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(t,"POST","/v1/accounts:signInWithPhoneNumber",go(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw To(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var es=i({},"USER_NOT_FOUND","user-not-found");function ts(){return(ts=Dr(Or().mark((function e(t,n){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithPhoneNumber",go(t,r),es));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ns=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this,"phone","phone")).params=e,r}return qe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Xu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Zu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ts.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Eu);var rs=function(){function e(t){var n,r,i,a,o,u;Be(this,e);var s=ii(ai(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);io(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return qe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ii(ai(e)).link,n=t?ii(ai(t)).deep_link_id:null,r=ii(ai(e)).deep_link_id;return(r?ii(ai(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(dT){return null}}}]),e}();var is=function(){function e(){Be(this,e),this.providerId=e.PROVIDER_ID}return qe(e,null,[{key:"credential",value:function(e,t){return Wu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=rs.parseLink(t);return io(n,"argument-error"),Wu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();is.PROVIDER_ID="password",is.EMAIL_PASSWORD_SIGN_IN_METHOD="password",is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var as=function(){function e(t){Be(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return qe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),os=function(e){Dt(n,e);var t=jt(n);function n(){var e;return Be(this,n),(e=t.apply(this,arguments)).scopes=[],e}return qe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ue(this.scopes)}}]),n}(as),us=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return io(e.idToken||e.accessToken,"argument-error"),$u._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return io("providerId"in t&&"signInMethod"in t,"argument-error"),$u._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(vR){return null}}}]),n}(os),ss=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.call(this,"facebook.com")}return qe(n,null,[{key:"credential",value:function(e){return $u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(dT){return null}}}]),n}(os);ss.FACEBOOK_SIGN_IN_METHOD="facebook.com",ss.PROVIDER_ID="facebook.com";var cs=function(e){Dt(n,e);var t=jt(n);function n(){var e;return Be(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return qe(n,null,[{key:"credential",value:function(e,t){return $u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(dT){return null}}}]),n}(os);cs.GOOGLE_SIGN_IN_METHOD="google.com",cs.PROVIDER_ID="google.com";var ls=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.call(this,"github.com")}return qe(n,null,[{key:"credential",value:function(e){return $u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(dT){return null}}}]),n}(os);ls.GITHUB_SIGN_IN_METHOD="github.com",ls.PROVIDER_ID="github.com";var fs=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return qe(n,[{key:"_getIdTokenResponse",value:function(e){return Gu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Eu),hs=function(e){Dt(n,e);var t=jt(n);function n(e){return Be(this,n),io(e.startsWith("saml."),"argument-error"),t.call(this,e)}return qe(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=fs.fromJSON(e);return io(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return fs._create(r,n)}catch(vR){return null}}}]),n}(as),ds=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.call(this,"twitter.com")}return qe(n,null,[{key:"credential",value:function(e,t){return $u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(dT){return null}}}]),n}(os);function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signUp",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ds.TWITTER_SIGN_IN_METHOD="twitter.com",ds.PROVIDER_ID="twitter.com";var ms=function(){function e(t){Be(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return qe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Dr(Or().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Xo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ys(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Dr(Or().mark((function t(n,r,i){var a;return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ys(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ys(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function gs(){return gs=Dr(Or().mark((function e(t){var n,r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ms({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ps(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ms._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}var ks=function(e){Dt(n,e);var t=jt(n);function n(e,r,i,a){var o,u;return Be(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,Lt.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return qe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Jr);function bs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ks._fromErrorAndOperation(e,n,t,r);throw n}))}function ws(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function xs(e,t){return Es.apply(this,arguments)}function Es(){return Es=Dr(Or().mark((function e(t,n){var r,i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ci(t),e.next=3,Ss(!0,r,n);case 3:return e.t0=Oo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ws(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function _s(e,t){return Is.apply(this,arguments)}function Is(){return Is=Dr(Or().mark((function e(t,n){var r,i,a=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Fo,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ms._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Ss(e,t,n){return Ts.apply(this,arguments)}function Ts(){return(Ts=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo(n);case 2:i=ws(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",io(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cs(e,t){return Ns.apply(this,arguments)}function Ns(){return Ns=Dr(Or().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Fo(t,bs(i,a,n,t),r);case 6:return io((o=e.sent).idToken,i,"internal-error"),io(u=jo(o.idToken),i,"internal-error"),s=u.sub,io(t.uid===s,i,"user-mismatch"),e.abrupt("return",ms._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Za(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ns.apply(this,arguments)}function Os(e,t){return As.apply(this,arguments)}function As(){return As=Dr(Or().mark((function e(t,n){var r,i,a,o,u=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,bs(t,i,n);case 4:return a=e.sent,e.next=7,ms._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Ds(e,t){return Ps.apply(this,arguments)}function Ps(){return(Ps=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(gu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rs(e,t){return Ls.apply(this,arguments)}function Ls(){return(Ls=Dr(Or().mark((function e(t,n){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ci(t),e.next=3,Ss(!1,r,n.providerId);case 3:return e.abrupt("return",_s(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(e,t){return js.apply(this,arguments)}function js(){return(js=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cs(ci(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t){return Vs.apply(this,arguments)}function Vs(){return(Vs=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eo(t,"POST","/v1/accounts:signInWithCustomToken",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(){return(Us=Dr(Or().mark((function e(t,n){var r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,Fs(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ms._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bs=function(){function e(t,n){Be(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return qe(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?zs._fromServerResponse(e,t):Za(e,"internal-error")}}]),e}(),zs=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return qe(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bs);function qs(e,t,n){var r;io((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),io("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(io(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(io(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ks(){return(Ks=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ci(t),a={requestType:"PASSWORD_RESET",email:n},r&&qs(i,a,r),e.next=5,Mu(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(){return(Hs=Dr(Or().mark((function e(t,n,r){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u(ci(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(){return(Ws=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(ci(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t){return Qs.apply(this,arguments)}function Qs(){return(Qs=Dr(Or().mark((function e(t,n){var r,i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ci(t),e.next=3,_u(r,{oobCode:n});case 3:i=e.sent,io(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return io(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:io(i.mfaInfo,r,"internal-error");case 13:io(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Bs._fromServerResponse(gu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $s(){return($s=Dr(Or().mark((function e(t,n){var r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(ci(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Js(e,t,n){return Ys.apply(this,arguments)}function Ys(){return(Ys=Dr(Or().mark((function e(t,n,r){var i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),e.next=3,ps(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ms._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xs(){return(Xs=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ci(t),a={requestType:"EMAIL_SIGNIN",email:n},io(r.handleCodeInApp,i,"argument-error"),r&&qs(i,a,r),e.next=6,Fu(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zs(){return(Zs=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ci(t),io((a=is.credentialWithLink(n,r||co()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ds(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return(tc=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:createAuthUri",go(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nc(){return(nc=Dr(Or().mark((function e(t,n){var r,i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lo()?co():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ec(ci(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rc(){return(rc=Dr(Or().mark((function e(t,n){var r,i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ci(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&qs(r.auth,a,n),e.next=8,Ru(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ic(){return(ic=Dr(Or().mark((function e(t,n,r){var i,a,o,u;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ci(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&qs(i.auth,o,r),e.next=8,Uu(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return(oc=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ko(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(){return(uc=Dr(Or().mark((function e(t,n){var r,i,a,o,u,s,c;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ci(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Fo(a,ac(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e,t,n){return cc.apply(this,arguments)}function cc(){return(cc=Dr(Or().mark((function e(t,n,r){var i,a,o,u;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Fo(t,Su(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lc=qe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Be(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),fc=function(e){Dt(n,e);var t=jt(n);function n(e,r,i,a){var o;return Be(this,n),(o=t.call(this,e,r,i)).username=a,o}return qe(n)}(lc),hc=function(e){Dt(n,e);var t=jt(n);function n(e,r){return Be(this,n),t.call(this,e,"facebook.com",r)}return qe(n)}(lc),dc=function(e){Dt(n,e);var t=jt(n);function n(e,r){return Be(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return qe(n)}(fc),pc=function(e){Dt(n,e);var t=jt(n);function n(e,r){return Be(this,n),t.call(this,e,"google.com",r)}return qe(n)}(lc),vc=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){return Be(this,n),t.call(this,e,"twitter.com",r,i)}return qe(n)}(fc);function mc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=jo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new lc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new hc(a,i);case"github.com":return new dc(a,i);case"google.com":return new pc(a,i);case"twitter.com":return new vc(a,i,e.screenName||null);case"custom":case"anonymous":return new lc(a,null);default:return new lc(a,r,i)}}(n)}var yc=function(){function e(t,n){Be(this,e),this.type=t,this.credential=n}return qe(e,[{key:"toJSON",value:function(){return{multiFactorSession:i({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),gc=function(){function e(t,n,r){Be(this,e),this.session=t,this.hints=n,this.signInResolver=r}return qe(e,[{key:"resolveSignIn",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=gu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Bs._fromServerResponse(r,e)}));io(i.mfaPendingCredential,r,"internal-error");var o=yc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Dr(Or().mark((function e(t){var a,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ms._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return io(n.user,r,"internal-error"),e.abrupt("return",ms._forOperation(n.user,n.operationType,u));case 17:Za(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function kc(e,t){return ko(e,"POST","/v2/accounts/mfaEnrollment:start",go(e,t))}var bc=function(){function e(t){var n=this;Be(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Bs._fromServerResponse(t.auth,e)})))}))}return qe(e,[{key:"getSession",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=yc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Dr(Or().mark((function e(t,n){var r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Fo(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Dr(Or().mark((function e(t){var n,r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Fo(this.user,ko(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",go(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),wc=new WeakMap;var xc="__sak",Ec=function(){function e(t,n){Be(this,e),this.storageRetriever=t,this.type=n}return qe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch(dT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var _c=function(e){Dt(n,e);var t=jt(n);function n(){var e;return Be(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=qr();return au(e)||fu(e)}()&&function(){try{return!(!window||window===window.top)}catch(vR){return!1}}(),e.fallbackToPolling=pu(),e._shouldAllowMigration=!0,e}return qe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);du()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Dr(Or().mark((function e(t,r){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(Ct(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Dr(Or().mark((function e(t){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(Ct(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(Ct(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ec);_c.type="LOCAL";var Ic=_c,Sc=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return qe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ec);Sc.type="SESSION";var Tc=Sc;function Cc(e){return Promise.all(e.map(function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Nc=function(){function e(t){Be(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return qe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Dr(Or().mark((function e(t){var n,r,i,a,o,u,s,c;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Cc(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Oc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Nc.receivers=[];var Ac=function(){function e(t){Be(this,e),this.target=t,this.handlers=new Set}return qe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Dr(Or().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Oc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Dc(){return window}function Pc(){return"undefined"!==typeof Dc().WorkerGlobalScope&&"function"===typeof Dc().importScripts}function Rc(){return Lc.apply(this,arguments)}function Lc(){return(Lc=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Mc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var jc="firebaseLocalStorageDb",Fc="firebaseLocalStorage",Vc="fbase_key",Uc=function(){function e(t){Be(this,e),this.request=t}return qe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Bc(e,t){return e.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function zc(){var e=indexedDB.deleteDatabase(jc);return new Uc(e).toPromise()}function qc(){var e=indexedDB.open(jc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Fc,{keyPath:Vc})}catch(vR){n(vR)}})),e.addEventListener("success",Dr(Or().mark((function n(){var r;return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Fc)){n.next=12;break}return r.close(),n.next=5,zc();case 5:return n.t0=t,n.next=8,qc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Kc(e,t,n){return Hc.apply(this,arguments)}function Hc(){return Hc=Dr(Or().mark((function e(t,n,r){var a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Bc(t,!0).put((i(a={},Vc,n),i(a,"value",r),a)),e.abrupt("return",new Uc(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Wc(e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=Dr(Or().mark((function e(t,n){var r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bc(t,!1).get(n),e.next=3,new Uc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Qc(e,t){var n=Bc(e,!0).delete(t);return new Uc(n).toPromise()}var $c=function(){function e(){Be(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return qe(e,[{key:"_openDb",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,qc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Dr(Or().mark((function e(){var t=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Nc._getInstance(Pc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Dr(Or().mark((function e(n,r){var i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Dr(Or().mark((function e(){var t,n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ac(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Mc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,qc();case 5:return t=e.sent,e.next=8,Kc(t,xc,"1");case 8:return e.next=10,Qc(t,xc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Dr(Or().mark((function e(t,n){var r=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Kc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Wc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Dr(Or().mark((function e(t){var n=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Qc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Dr(Or().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Bc(e,!1).getAll();return new Uc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Pr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Dr(Or().mark((function t(){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();$c.type="LOCAL";var Jc=$c;function Yc(e,t){return ko(e,"POST","/v2/accounts/mfaSignIn:start",go(e,t))}function Xc(e){return Zc.apply(this,arguments)}function Zc(){return(Zc=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=eo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function tl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var nl=1e12,rl=function(){function e(t){Be(this,e),this.auth=t,this.counter=nl,this._widgets=new Map}return qe(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new il(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||nl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||nl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||nl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),il=function(){function e(t,n,r){var i=this;Be(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;io(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return qe(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(vR){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(vR){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var al=tl("rcb"),ol=new ho(3e4,6e4),ul="https://www.google.com/recaptcha/api.js?",sl=function(){function e(){Be(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dc().grecaptcha}return qe(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return io(cl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Dc().grecaptcha):new Promise((function(r,i){var a=Dc().setTimeout((function(){i(eo(e,"network-request-failed"))}),ol.get());Dc()[al]=function(){Dc().clearTimeout(a),delete Dc()[al];var o=Dc().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(eo(e,"internal-error"))},el("".concat(ul,"?").concat(ri({onload:al,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(eo(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Dc().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function cl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ll=function(){function e(){Be(this,e)}return qe(e,[{key:"load",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new rl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),fl="recaptcha",hl={theme:"light",type:"image"},dl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},hl),r=arguments.length>2?arguments[2]:void 0;Be(this,e),this.parameters=n,this.type=fl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gu(r),this.isInvisible="invisible"===this.parameters.size,io("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;io(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ll:new sl,this.validateStartingState()}return qe(e,[{key:"verify",value:function(){var e=Dr(Or().mark((function e(){var t,n,r,i=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(vR){return Promise.reject(vR)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){io(!this.parameters.sitekey,this.auth,"argument-error"),io(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),io("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Dc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){io(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Dr(Or().mark((function e(){var t,n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io(lo()&&!Pc(),this.auth,"internal-error"),e.next=3,pl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Xc(this.auth);case 8:io(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return io(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function pl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var vl=function(){function e(t,n){Be(this,e),this.verificationId=t,this.onConfirmation=n}return qe(e,[{key:"confirm",value:function(e){var t=ns._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ml(){return(ml=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),e.next=3,bl(i,n,ci(r));case 3:return a=e.sent,e.abrupt("return",new vl(a,(function(e){return Ds(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yl(e,t,n){return gl.apply(this,arguments)}function gl(){return(gl=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ci(t),e.next=3,Ss(!1,i,"phone");case 3:return e.next=5,bl(i.auth,n,ci(r));case 5:return a=e.sent,e.abrupt("return",new vl(a,(function(e){return Rs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kl(){return(kl=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ci(t),e.next=3,bl(i.auth,n,ci(r));case 3:return a=e.sent,e.abrupt("return",new vl(a,(function(e){return Ms(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bl(e,t,n){return wl.apply(this,arguments)}function wl(){return wl=Dr(Or().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,io("string"===typeof a,t,"argument-error"),io(r.type===fl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return io("enroll"===u.type,t,"internal-error"),e.next=13,kc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return io("signin"===u.type,t,"internal-error"),io(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Yc(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ju(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),wl.apply(this,arguments)}function xl(){return(xl=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s(ci(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var El=function(){function e(t){Be(this,e),this.providerId=e.PROVIDER_ID,this.auth=gu(t)}return qe(e,[{key:"verifyPhoneNumber",value:function(e,t){return bl(this.auth,e,ci(t))}}],[{key:"credential",value:function(e,t){return ns._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ns._fromTokenResponse(n,r):null}}]),e}();function _l(e,t){return t?so(t):(io(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}El.PROVIDER_ID="phone",El.PHONE_SIGN_IN_METHOD="phone";var Il=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this,"custom","custom")).params=e,r}return qe(n,[{key:"_getIdTokenResponse",value:function(e){return Gu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Eu);function Sl(e){return Os(e.auth,new Il(e),e.bypassAuthState)}function Tl(e){var t=e.auth,n=e.user;return io(n,t,"internal-error"),Cs(n,new Il(e),e.bypassAuthState)}function Cl(e){return Nl.apply(this,arguments)}function Nl(){return(Nl=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,io(r=t.user,n,"internal-error"),e.abrupt("return",_s(r,new Il(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ol=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Be(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return qe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Dr(Or().mark((function t(n,r){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Dr(Or().mark((function e(t){var n,r,i,a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sl;case"linkViaPopup":case"linkViaRedirect":return Cl;case"reauthViaPopup":case"reauthViaRedirect":return Tl;default:Za(this.auth,"internal-error")}}},{key:"resolve",value:function(e){oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Al=new ho(2e3,1e4);function Dl(e,t,n){return Pl.apply(this,arguments)}function Pl(){return(Pl=Dr(Or().mark((function e(t,n,r){var i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),no(t,n,as),a=_l(i,r),o=new jl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rl(){return(Rl=Dr(Or().mark((function e(t,n,r){var i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return no((i=ci(t)).auth,n,as),a=_l(i.auth,r),o=new jl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(e,t,n){return Ml.apply(this,arguments)}function Ml(){return(Ml=Dr(Or().mark((function e(t,n,r){var i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return no((i=ci(t)).auth,n,as),a=_l(i.auth,r),o=new jl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jl=function(e){Dt(n,e);var t=jt(n);function n(e,r,i,a,o){var u;return Be(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,Lt.Z)(u),u}return qe(n,[{key:"executeNotNull",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return io(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Dr(Or().mark((function e(){var t,n=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oo(1===this.filter.length,"Popup operations only handle one event"),t=Oc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(eo(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(eo(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(eo(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Al.get())}()}}]),n}(Ol);jl.currentPopupAction=null;var Fl=new Map,Vl=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Be(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return qe(n,[{key:"execute",value:function(){var e=Dr(Or().mark((function e(){var t,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Fl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ul(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ot(Ct(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Fl.set(this.auth._key(),t);case 21:return this.bypassAuthState||Fl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Dr(Or().mark((function e(t){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ot(Ct(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ot(Ct(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ol);function Ul(e,t){return Bl.apply(this,arguments)}function Bl(){return(Bl=Dr(Or().mark((function e(t,n){var r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(n),i=Hl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zl(e,t){return ql.apply(this,arguments)}function ql(){return(ql=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hl(t)._set(Wl(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e,t){Fl.set(e._key(),t)}function Hl(e){return so(e._redirectPersistence)}function Wl(e){return tu("pendingRedirect",e.config.apiKey,e.name)}function Gl(e,t,n){return function(e,t,n){return Ql.apply(this,arguments)}(e,t,n)}function Ql(){return(Ql=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),no(t,n,as),a=_l(i,r),e.next=5,zl(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $l(e,t,n){return function(e,t,n){return Jl.apply(this,arguments)}(e,t,n)}function Jl(){return(Jl=Dr(Or().mark((function e(t,n,r){var i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return no((i=ci(t)).auth,n,as),a=_l(i.auth,r),e.next=5,zl(a,i.auth);case 5:return e.next=7,rf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yl(e,t,n){return function(e,t,n){return Xl.apply(this,arguments)}(e,t,n)}function Xl(){return(Xl=Dr(Or().mark((function e(t,n,r){var i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return no((i=ci(t)).auth,n,as),a=_l(i.auth,r),e.next=5,Ss(!1,i,n.providerId);case 5:return e.next=7,zl(a,i.auth);case 7:return e.next=9,rf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(e,t){return ef.apply(this,arguments)}function ef(){return(ef=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gu(t)._initializationPromise;case 2:return e.abrupt("return",tf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e,t){return nf.apply(this,arguments)}function nf(){return nf=Dr(Or().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=gu(t),a=_l(i,n),o=new Vl(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),nf.apply(this,arguments)}function rf(e){return af.apply(this,arguments)}function af(){return(af=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var of=function(){function e(t){Be(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return qe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!sf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(eo(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(uf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function uf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function sf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function cf(e){return lf.apply(this,arguments)}function lf(){return lf=Dr(Or().mark((function e(t){var n,r=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ko(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}var ff=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hf=/^https?/;function df(){return(df=Dr(Or().mark((function e(t){var n,r,i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cf(t);case 4:n=e.sent,r=n.authorizedDomains,i=Pr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!pf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Za(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function pf(e){var t=co(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!hf.test(r))return!1;if(ff.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var vf=new ho(3e4,6e4);function mf(){var e=Dc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ue(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var yf=null;function gf(e){return yf=yf||function(e){return new Promise((function(t,n){var r,i,a;function o(){mf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){mf(),n(eo(e,"network-request-failed"))},timeout:vf.get()})}if(null===(i=null===(r=Dc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Dc().gapi)||void 0===a?void 0:a.load)){var u=tl("iframefcb");return Dc()[u]=function(){gapi.load?o():n(eo(e,"network-request-failed"))},el("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw yf=null,e}))}(e),yf}var kf=new ho(5e3,15e3),bf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xf(e){var t=e.config;io(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?po(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ra},i=wf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ri(r).slice(1))}function Ef(e){return _f.apply(this,arguments)}function _f(){return _f=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gf(t);case 2:return n=e.sent,io(r=Dc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:xf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bf,dontclear:!0},(function(e){return new Promise(function(){var n=Dr(Or().mark((function n(r,i){var a,o,u;return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Dc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=eo(t,"network-request-failed"),o=Dc().setTimeout((function(){i(a)}),kf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}var If={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sf="_blank",Tf="http://localhost",Cf=function(){function e(t){Be(this,e),this.window=t,this.associatedEvent=null}return qe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(vR){}}}]),e}();function Nf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},If),{width:r.toString(),height:i.toString(),top:a,left:o}),c=qr().toLowerCase();n&&(u=ou(c)?Sf:n),iu(c)&&(t=t||Tf,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Pe(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(hu(c)&&"_self"!==u)return Of(t||"",u),new Cf(null);var f=window.open(t||"",u,l);io(f,e,"popup-blocked");try{f.focus()}catch(vR){}return new Cf(f)}function Of(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Af="__/auth/handler",Df="emulator/auth/handler";function Pf(e,t,n,r,i,a){io(e.config.authDomain,e,"auth-domain-config-required"),io(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ra,eventId:i};if(t instanceof as){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Pe(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof os){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Af);return po(t,Df)}(e),"?").concat(ri(d).slice(1))}var Rf="webStorageSupport",Lf=function(){function e(){Be(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tc,this._completeRedirectFn=tf,this._overrideRedirectResult=Kl}return qe(e,[{key:"_openPopup",value:function(){var e=Dr(Or().mark((function e(t,n,r,i){var a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Pf(t,n,r,co(),i),e.abrupt("return",Nf(t,o,Oc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Dr(Or().mark((function e(t,n,r,i){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Pf(t,n,r,co(),i),Dc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(oo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ef(t);case 2:return n=e.sent,r=new of(t),n.register("authEvent",(function(e){return io(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Rf,{type:Rf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Za(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return df.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return pu()||au()||fu()}}]),e}(),Mf=Lf,jf=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this,"phone")).credential=e,r}return qe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ko(e,"POST","/v2/accounts/mfaEnrollment:finalize",go(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ko(e,"POST","/v2/accounts/mfaSignIn:finalize",go(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Be(this,e),this.factorId=t}return qe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ao("unexpected MultiFactorSessionType")}}}]),e}()),Ff=function(){function e(){Be(this,e)}return qe(e,null,[{key:"assertion",value:function(e){return jf._fromCredential(e)}}]),e}();Ff.FACTOR_ID="phone";var Vf,Uf="@firebase/auth",Bf="0.20.3",zf=function(){function e(t){Be(this,e),this.auth=t,this.internalListeners=new Map}return qe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){io(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function qf(){return window}Vf="Browser",Ji(new li("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){io(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),io(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Vf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vu(Vf)},i=new yu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(so);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ji(new li("auth-internal",(function(e){return function(e){return new zf(e)}(gu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ca(Uf,Bf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Vf)),ca(Uf,Bf,"esm2017");function Kf(e,t,n){return Hf.apply(this,arguments)}function Hf(){return Hf=Dr(Or().mark((function e(t,n,r){var i,a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qf(),o=a.BuildInfo,oo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Yf(n.sessionId);case 4:return u=e.sent,s={},fu()?s.ibi=o.packageName:su()?s.apn=o.packageName:Za(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Pf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Wf(){return(Wf=Dr(Or().mark((function e(t){var n,r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qf(),r=n.BuildInfo,i={},fu()?i.iosBundleId=r.packageName:su()?i.androidPackageName=r.packageName:Za(t,"operation-not-supported-in-this-environment"),e.next=5,cf(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(e){var t=qf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Qf(e,t,n){return $f.apply(this,arguments)}function $f(){return $f=Dr(Or().mark((function e(t,n,r){var i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qf(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(eo(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),su()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),$f.apply(this,arguments)}function Jf(e){var t,n,r,i,a,o,u,s,c,l,f=qf();io("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),io("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),io("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),io("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),io("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Yf(e){return Xf.apply(this,arguments)}function Xf(){return(Xf=Dr(Or().mark((function e(t){var n,r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(e){if(oo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var eh=function(e){Dt(n,e);var t=jt(n);function n(){var e;return Be(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return qe(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ot(Ct(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(of);function th(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:oh(),postBody:null,tenantId:e.tenantId,error:eo(e,"no-auth-event")}}function nh(e,t){return uh()._set(sh(e),t)}function rh(e){return ih.apply(this,arguments)}function ih(){return(ih=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uh()._get(sh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,uh()._remove(sh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ah(e,t){var n,r,i=function(e){var t=ch(e),n=t.link?decodeURIComponent(t.link):void 0,r=ch(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ch(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ch(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(vR){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?eo(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function oh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function uh(){return so(Ic)}function sh(e){return tu("authEvent",e.config.apiKey,e.name)}function ch(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Ne(t=n)||Ve(t)||Ae(t)||De();r[0];return ii(r.slice(1).join("?"))}var lh=function(){function e(){Be(this,e),this._redirectPersistence=Tc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tf,this._overrideRedirectResult=Kl}return qe(e,[{key:"_initialize",value:function(){var e=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new eh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Za(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Dr(Or().mark((function e(t,n,r,i){var a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Fl.clear(),e.next=10,this._originValidation(t);case 10:return o=th(t,r,i),e.next=13,nh(t,o);case 13:return e.next=15,Kf(t,o,n);case 15:return u=e.sent,e.next=18,Gf(u);case 18:return s=e.sent,e.abrupt("return",Qf(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=qf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Dr(Or().mark((function n(){return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,rh(e);case 2:t.onEvent(hh());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Dr(Or().mark((function n(r){var i,a;return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,rh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=ah(i,r.url)),t.onEvent(a||hh());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");qf().handleOpenURL=function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(vR){console.error(vR)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),fh=lh;function hh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:eo("no-auth-event")}}function dh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ph(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return!("file:"!==dh()&&"ionic:"!==dh()&&"capacitor:"!==dh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function vh(){return Qr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function mh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return/Edge\/\d+/.test(e)}function yh(){try{var e=self.localStorage,t=Oc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr();return vh()||mh(e)}()||$r()}catch(vR){return gh()&&$r()}return!1}function gh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function kh(){return("http:"===dh()||"https:"===dh()||Wr()||ph())&&!(Gr()||Hr())&&yh()&&!gh()}function bh(){return ph()&&"undefined"!==typeof document}function wh(){return xh.apply(this,arguments)}function xh(){return(xh=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Eh={LOCAL:"local",NONE:"none",SESSION:"session"},_h=io,Ih="persistence";function Sh(e,t){_h(Object.values(Eh).includes(t),e,"invalid-persistence-type"),Gr()?_h(t!==Eh.SESSION,e,"unsupported-persistence-type"):Hr()?_h(t===Eh.NONE,e,"unsupported-persistence-type"):gh()?_h(t===Eh.NONE||t===Eh.LOCAL&&$r(),e,"unsupported-persistence-type"):_h(t===Eh.NONE||yh(),e,"unsupported-persistence-type")}function Th(e){return Ch.apply(this,arguments)}function Ch(){return(Ch=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Nh(),r=tu(Ih,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(vR){return null}}var Oh=io,Ah=function(){function e(){Be(this,e),this.browserResolver=so(Mf),this.cordovaResolver=so(fh),this.underlyingResolver=null,this._redirectPersistence=Tc,this._completeRedirectFn=tf,this._overrideRedirectResult=Kl}return qe(e,[{key:"_initialize",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Dr(Or().mark((function e(t,n,r,i){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Dr(Or().mark((function e(t,n,r,i){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return bh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Oh(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dh(e){return e.unwrap()}function Ph(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Fh(e,function(e,t){var n,r=ci(e),i=t;return io(t.customData.operationType,r,"argument-error"),io(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),gc._fromError(r,i)}(e,t));else if(r){var i=Rh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Rh(e){var t=(e instanceof Jr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Jr)&&"temporaryProof"in t&&"phoneNumber"in t)return El.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Va)return null;switch(r){case Fa:n=cs;break;case Ma:n=ss;break;case ja:n=ls;break;case Ua:n=ds;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?fs._create(r,u):$u._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new us(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Jr?n.credentialFromError(e):n.credentialFromResult(e)}function Lh(e,t){return t.catch((function(t){throw t instanceof Jr&&Ph(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Rh(t)),additionalUserInfo:mc(e),user:Vh.getOrCreate(r)}}))}function Mh(e,t){return jh.apply(this,arguments)}function jh(){return(jh=Dr(Or().mark((function e(t,n){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Lh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fh=function(){function e(t,n){Be(this,e),this.resolver=n,this.auth=t.wrapped()}return qe(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Lh(Dh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Vh=function(){function e(t){Be(this,e),this._delegate=t,this.multiFactor=function(e){var t=ci(e);return wc.has(t)||wc.set(t,bc._fromUser(t)),wc.get(t)}(t)}return qe(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lh(this.auth,Rs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mh(this.auth,yl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lh(this.auth,Ll(this._delegate,t,Ah)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Th(gu(this.auth));case 2:return e.abrupt("return",Yl(this._delegate,t,Ah));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lh(this.auth,Ms(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Mh(this.auth,function(e,t,n){return kl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Lh(this.auth,function(e,t,n){return Rl.apply(this,arguments)}(this._delegate,e,Ah))}},{key:"reauthenticateWithRedirect",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Th(gu(this.auth));case 2:return e.abrupt("return",$l(this._delegate,t,Ah));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return rc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return sc(ci(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return sc(ci(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return xl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return uc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ic.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Vh.USER_MAP=new WeakMap;var Uh=io,Bh=function(){function e(t,n){if(Be(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Uh(r,"invalid-api-key",{appName:t.name}),Uh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ah:void 0;this._delegate=n.initialize({options:{persistence:qh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Qa),this.linkUnderlyingAuth()}return qe(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Vh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){bu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ws.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Gs(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Hs.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lh(this._delegate,Js(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return nc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=rs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uh(kh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Zl(this._delegate,Ah);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Lh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){gu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=zh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=zh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Xs.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ks.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sh(this._delegate,t),e.t0=t,e.next=e.t0===Eh.SESSION?4:e.t0===Eh.LOCAL?6:e.t0===Eh.NONE?11:13;break;case 4:return n=Tc,e.abrupt("break",14);case 6:return e.next=8,so(Jc)._isAvailable();case 8:return r=e.sent,n=r?Jc:Ic,e.abrupt("break",14);case 11:return n=eu,e.abrupt("break",14);case 13:return e.abrupt("return",Za("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Lh(this._delegate,function(e){return gs.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Lh(this._delegate,Ds(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Lh(this._delegate,function(e,t){return Us.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Lh(this._delegate,function(e,t,n){return Ds(ci(e),is.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Lh(this._delegate,function(e,t,n){return Zs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Mh(this._delegate,function(e,t,n){return ml.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uh(kh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Lh(this._delegate,Dl(this._delegate,t,Ah)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uh(kh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Th(this._delegate);case 3:return e.abrupt("return",Gl(this._delegate,t,Ah));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return $s.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function zh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Vh.getOrCreate(e))},error:t,complete:n}}function qh(e,t){var n=function(e,t){var n=Nh();if(!n)return[];var r=tu(Ih,e,t);switch(n.getItem(r)){case Eh.NONE:return[eu];case Eh.LOCAL:return[Jc,Tc];case Eh.SESSION:return[Tc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Jc)||n.push(Jc),"undefined"!==typeof window)for(var r=0,i=[Ic,Tc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(eu)||n.push(eu),n}Bh.Persistence=Eh;var Kh=function(){function e(){Be(this,e),this.providerId="phone",this._delegate=new El(Dh(Pa.auth()))}return qe(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return El.credential(e,t)}}]),e}();Kh.PHONE_SIGN_IN_METHOD=El.PHONE_SIGN_IN_METHOD,Kh.PROVIDER_ID=El.PROVIDER_ID;var Hh,Wh=io,Gh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pa.app();Be(this,e),Wh(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new dl(t,n,i.auth()),this.type=this._delegate.type}return qe(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Hh=Pa).INTERNAL.registerComponent(new li("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Bh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ba,PASSWORD_RESET:za,RECOVER_EMAIL:qa,REVERT_SECOND_FACTOR_ADDITION:Ka,VERIFY_AND_CHANGE_EMAIL:Ha,VERIFY_EMAIL:Wa}},EmailAuthProvider:is,FacebookAuthProvider:ss,GithubAuthProvider:ls,GoogleAuthProvider:cs,OAuthProvider:us,SAMLAuthProvider:hs,PhoneAuthProvider:Kh,PhoneMultiFactorGenerator:Ff,RecaptchaVerifier:Gh,TwitterAuthProvider:ds,Auth:Bh,AuthCredential:Eu,Error:Jr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Hh.registerVersion("@firebase/auth-compat","0.2.16");var Qh,$h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jh={},Yh=Yh||{},Xh=$h||self;function Zh(){}function ed(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function td(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nd="closure_uid_"+(1e9*Math.random()>>>0),rd=0;function id(e,t,n){return e.call.apply(e.bind,arguments)}function ad(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function od(e,t,n){return(od=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?id:ad).apply(null,arguments)}function ud(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function sd(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function cd(){this.s=this.s,this.o=this.o}var ld={};cd.prototype.s=!1,cd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,nd)&&e[nd]||(e[nd]=++rd)}(this);delete ld[e]}},cd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var fd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},hd=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function dd(e){return Array.prototype.concat.apply([],arguments)}function pd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function vd(e){return/^[\s\xa0]*$/.test(e)}var md,yd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function gd(e,t){return-1!=e.indexOf(t)}function kd(e,t){return e<t?-1:e>t?1:0}e:{var bd=Xh.navigator;if(bd){var wd=bd.userAgent;if(wd){md=wd;break e}}md=""}function xd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ed(e){var t={};for(var n in e)t[n]=e[n];return t}var _d="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Id(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<_d.length;a++)n=_d[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Sd(e){return Sd[" "](e),e}Sd[" "]=Zh;var Td,Cd=gd(md,"Opera"),Nd=gd(md,"Trident")||gd(md,"MSIE"),Od=gd(md,"Edge"),Ad=Od||Nd,Dd=gd(md,"Gecko")&&!(gd(md.toLowerCase(),"webkit")&&!gd(md,"Edge"))&&!(gd(md,"Trident")||gd(md,"MSIE"))&&!gd(md,"Edge"),Pd=gd(md.toLowerCase(),"webkit")&&!gd(md,"Edge");function Rd(){var e=Xh.document;return e?e.documentMode:void 0}e:{var Ld="",Md=function(){var e=md;return Dd?/rv:([^\);]+)(\)|;)/.exec(e):Od?/Edge\/([\d\.]+)/.exec(e):Nd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Pd?/WebKit\/(\S+)/.exec(e):Cd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Md&&(Ld=Md?Md[1]:""),Nd){var jd=Rd();if(null!=jd&&jd>parseFloat(Ld)){Td=String(jd);break e}}Td=Ld}var Fd,Vd={};function Ud(){return function(e){var t=Vd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=yd(String(Td)).split("."),n=yd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=kd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||kd(0==a[2].length,0==o[2].length)||kd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Xh.document&&Nd){var Bd=Rd();Fd=Bd||(parseInt(Td,10)||void 0)}else Fd=void 0;var zd=Fd,qd=function(){if(!Xh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xh.addEventListener("test",Zh,t),Xh.removeEventListener("test",Zh,t)}catch(n){}return e}();function Kd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Hd(e,t){if(Kd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dd){e:{try{Sd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Wd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hd.Z.h.call(this)}}Kd.prototype.h=function(){this.defaultPrevented=!0},sd(Hd,Kd);var Wd={2:"touch",3:"pen",4:"mouse"};Hd.prototype.h=function(){Hd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gd="closure_listenable_"+(1e6*Math.random()|0),Qd=0;function $d(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Qd,this.ca=this.fa=!1}function Jd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Yd(e){this.src=e,this.g={},this.h=0}function Xd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=fd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Jd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Zd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Yd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Zd(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new $d(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ep="closure_lm_"+(1e6*Math.random()|0),tp={};function np(e,t,n,r,i){if(r&&r.once)return ip(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)np(e,t[a],n,r,i);return null}return n=fp(n),e&&e[Gd]?e.N(t,n,td(r)?!!r.capture:!!r,i):rp(e,t,n,!1,r,i)}function rp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=td(i)?!!i.capture:!!i,u=cp(e);if(u||(e[ep]=u=new Yd(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=sp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(up(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ip(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ip(e,t[a],n,r,i);return null}return n=fp(n),e&&e[Gd]?e.O(t,n,td(r)?!!r.capture:!!r,i):rp(e,t,n,!0,r,i)}function ap(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ap(e,t[a],n,r,i);else r=td(r)?!!r.capture:!!r,n=fp(n),e&&e[Gd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Zd(a=e.g[t],n,r,i))&&(Jd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=cp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zd(t,n,r,i)),(n=-1<e?t[e]:null)&&op(n))}function op(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Gd])Xd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(up(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=cp(t))?(Xd(n,e),0==n.h&&(n.src=null,t[ep]=null)):Jd(e)}}}function up(e){return e in tp?tp[e]:tp[e]="on"+e}function sp(e,t){if(e.ca)e=!0;else{t=new Hd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&op(e),e=n.call(r,t)}return e}function cp(e){return(e=e[ep])instanceof Yd?e:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function fp(e){return"function"===typeof e?e:(e[lp]||(e[lp]=function(t){return e.handleEvent(t)}),e[lp])}function hp(){cd.call(this),this.i=new Yd(this),this.P=this,this.I=null}function dp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Kd(t,e);else if(t instanceof Kd)t.target=t.target||e;else{var i=t;Id(t=new Kd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=pp(o,r,!0,t)&&i}if(i=pp(o=t.g=e,r,!0,t)&&i,i=pp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=pp(o=t.g=n[a],r,!1,t)&&i}function pp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Xd(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}sd(hp,cd),hp.prototype[Gd]=!0,hp.prototype.removeEventListener=function(e,t,n,r){ap(this,e,t,n,r)},hp.prototype.M=function(){if(hp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jd(n[r]);delete t.g[e],t.h--}}this.I=null},hp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},hp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var vp=Xh.JSON.stringify;function mp(){var e=_p,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var yp,gp=function(){function e(){Be(this,e),this.h=this.g=null}return qe(e,[{key:"add",value:function(e,t){var n=kp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),kp=new(function(){function e(t,n){Be(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return qe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new bp}),(function(e){return e.reset()})),bp=function(){function e(){Be(this,e),this.next=this.g=this.h=null}return qe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function wp(e){Xh.setTimeout((function(){throw e}),0)}function xp(e,t){yp||function(){var e=Xh.Promise.resolve(void 0);yp=function(){e.then(Ip)}}(),Ep||(yp(),Ep=!0),_p.add(e,t)}var Ep=!1,_p=new gp;function Ip(){for(var e;e=mp();){try{e.h.call(e.g)}catch(n){wp(n)}var t=kp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ep=!1}function Sp(e,t){hp.call(this),this.h=e||1,this.g=t||Xh,this.j=od(this.kb,this),this.l=Date.now()}function Tp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Cp(e,t,n){if("function"===typeof e)n&&(e=od(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=od(e.handleEvent,e)}return 2147483647<Number(t)?-1:Xh.setTimeout(e,t||0)}function Np(e){e.g=Cp((function(){e.g=null,e.i&&(e.i=!1,Np(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}sd(Sp,hp),(Qh=Sp.prototype).da=!1,Qh.S=null,Qh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dp(this,"tick"),this.da&&(Tp(this),this.start()))}},Qh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qh.M=function(){Sp.Z.M.call(this),Tp(this),delete this.g};var Op=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return qe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Np(this)}},{key:"M",value:function(){Ot(Ct(n.prototype),"M",this).call(this),this.g&&(Xh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(cd);function Ap(e){cd.call(this),this.h=e,this.g={}}sd(Ap,cd);var Dp=[];function Pp(e,t,n,r){Array.isArray(n)||(n&&(Dp[0]=n.toString()),n=Dp);for(var i=0;i<n.length;i++){var a=np(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Rp(e){xd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&op(e)}),e),e.g={}}function Lp(){this.g=!0}function Mp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return vp(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ap.prototype.M=function(){Ap.Z.M.call(this),Rp(this)},Ap.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lp.prototype.Aa=function(){this.g=!1},Lp.prototype.info=function(){};var jp={},Fp=null;function Vp(){return Fp=Fp||new hp}function Up(e){Kd.call(this,jp.Ma,e)}function Bp(e){var t=Vp();dp(t,new Up(t,e))}function zp(e,t){Kd.call(this,jp.STAT_EVENT,e),this.stat=t}function qp(e){var t=Vp();dp(t,new zp(t,e))}function Kp(e,t){Kd.call(this,jp.Na,e),this.size=t}function Hp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Xh.setTimeout((function(){e()}),t)}jp.Ma="serverreachability",sd(Up,Kd),jp.STAT_EVENT="statevent",sd(zp,Kd),jp.Na="timingevent",sd(Kp,Kd);var Wp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Gp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Qp(){}function $p(e){return e.h||(e.h=e.i())}function Jp(){}Qp.prototype.h=null;var Yp,Xp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zp(){Kd.call(this,"d")}function ev(){Kd.call(this,"c")}function tv(){}function nv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ap(this),this.P=iv,e=Ad?125:void 0,this.W=new Sp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rv}function rv(){this.i=null,this.g="",this.h=!1}sd(Zp,Kd),sd(ev,Kd),sd(tv,Qp),tv.prototype.g=function(){return new XMLHttpRequest},tv.prototype.i=function(){return{}},Yp=new tv;var iv=45e3,av={},ov={};function uv(e,t,n){e.K=1,e.v=Ov(_v(t)),e.s=n,e.U=!0,sv(e,null)}function sv(e,t){e.F=Date.now(),hv(e),e.A=_v(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),qv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new rv,e.g=Hm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Op(od(e.Ia,e,e.g),e.O)),Pp(e.V,e.g,"readystatechange",e.gb),t=e.H?Ed(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Bp(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function cv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function lv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=fv(e,n))==ov){4==t&&(e.o=4,qp(14),i=!1),Mp(e.j,e.m,null,"[Incomplete Response]");break}if(r==av){e.o=4,qp(15),Mp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Mp(e.j,e.m,r,null),yv(e,r)}cv(e)&&r!=ov&&r!=av&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,qp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),jm(t),t.L=!0,qp(11))):(Mp(e.j,e.m,n,"[Invalid Chunked Response]"),mv(e),vv(e))}function fv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ov:(n=Number(t.substring(n,r)),isNaN(n)?av:(r+=1)+n>t.length?ov:(t=t.substr(r,n),e.C=r+n,t))}function hv(e){e.Y=Date.now()+e.P,dv(e,e.P)}function dv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Hp(od(e.eb,e),t)}function pv(e){e.B&&(Xh.clearTimeout(e.B),e.B=null)}function vv(e){0==e.l.G||e.I||Um(e.l,e)}function mv(e){pv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Tp(e.W),Rp(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function yv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Yv(n.i,e)))if(n.I=e.N,!e.J&&Yv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Vm(n),Cm(n)}Mm(n),qp(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Hp(od(n.ab,n),6e3));if(1>=Jv(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else zm(n,11)}else if((e.J||n.g==e)&&Vm(n),!vd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(gd(l,"spdy")||gd(l,"quic")||gd(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Xv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Nv(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Km(r,r.H?r.la:null,r.W),d.J){Zv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(pv(p),hv(p)),r.g=d}else Lm(r);0<n.l.length&&Am(n)}else"stop"!=a[0]&&"close"!=a[0]||zm(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?zm(n,7):Tm(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Bp(4)}catch(a){}}function gv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ed(e)||"string"===typeof e)hd(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ed(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ed(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function kv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function bv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];wv(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)wv(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function wv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Qh=nv.prototype).setTimeout=function(e){this.P=e},Qh.gb=function(e){e=e.target;var t=this.L;t&&3==xm(e)?t.l():this.Ia(e)},Qh.Ia=function(e){try{if(e==this.g)e:{var t=xm(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ad||this.g&&(this.h.h||this.g.ga()||Em(this.g)))){this.I||4!=t||7==n||Bp(8==n||0>=r?3:2),pv(this);var i=this.g.ba();this.N=i;t:if(cv(this)){var a=Em(this.g);e="";var o=a.length,u=4==xm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){mv(this),vv(this);var s="";break t}this.h.i=new Xh.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,qp(12),mv(this),vv(this);break e}Mp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yv(this,i)}this.U?(lv(this,t,s),Ad&&this.i&&3==t&&(Pp(this.V,this.W,"tick",this.fb),this.W.start())):(Mp(this.j,this.m,s,null),yv(this,s)),4==t&&mv(this),this.i&&!this.I&&(4==t?Um(this.l,this):(this.i=!1,hv(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,qp(12)):(this.o=0,qp(13)),mv(this),vv(this)}}}catch(t){}},Qh.fb=function(){if(this.g){var e=xm(this.g),t=this.g.ga();this.C<t.length&&(pv(this),lv(this,e,t),this.i&&4!=e&&hv(this))}},Qh.cancel=function(){this.I=!0,mv(this)},Qh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Bp(3),qp(17)),mv(this),this.o=2,vv(this)):dv(this,this.Y-e)},(Qh=kv.prototype).R=function(){bv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Qh.T=function(){return bv(this),this.g.concat()},Qh.get=function(e,t){return wv(this.h,e)?this.h[e]:t},Qh.set=function(e,t){wv(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Qh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var xv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ev(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ev){this.g=void 0!==t?t:e.g,Iv(this,e.j),this.s=e.s,Sv(this,e.i),Tv(this,e.m),this.l=e.l,t=e.h;var n=new Vv;n.i=t.i,t.g&&(n.g=new kv(t.g),n.h=t.h),Cv(this,n),this.o=e.o}else e&&(n=String(e).match(xv))?(this.g=!!t,Iv(this,n[1]||"",!0),this.s=Av(n[2]||""),Sv(this,n[3]||"",!0),Tv(this,n[4]),this.l=Av(n[5]||"",!0),Cv(this,n[6]||"",!0),this.o=Av(n[7]||"")):(this.g=!!t,this.h=new Vv(null,this.g))}function _v(e){return new Ev(e)}function Iv(e,t,n){e.j=n?Av(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Sv(e,t,n){e.i=n?Av(t,!0):t}function Tv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Cv(e,t,n){t instanceof Vv?(e.h=t,function(e,t){t&&!e.j&&(Uv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Bv(this,t),qv(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Dv(t,jv)),e.h=new Vv(t,e.g))}function Nv(e,t,n){e.h.set(t,n)}function Ov(e){return Nv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Av(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ev.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Dv(t,Rv,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Dv(t,Rv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dv(n,"/"==n.charAt(0)?Mv:Lv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Dv(n,Fv)),e.join("")};var Rv=/[#\/\?@]/g,Lv=/[#\?:]/g,Mv=/[#\?]/g,jv=/[#\?@]/g,Fv=/#/g;function Vv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Uv(e){e.g||(e.g=new kv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Bv(e,t){Uv(e),t=Kv(e,t),wv(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,wv((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&bv(e)))}function zv(e,t){return Uv(e),t=Kv(e,t),wv(e.g.h,t)}function qv(e,t,n){Bv(e,t),0<n.length&&(e.i=null,e.g.set(Kv(e,t),pd(n)),e.h+=n.length)}function Kv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Qh=Vv.prototype).add=function(e,t){Uv(this),this.i=null,e=Kv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Qh.forEach=function(e,t){Uv(this),this.g.forEach((function(n,r){hd(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Qh.T=function(){Uv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Qh.R=function(e){Uv(this);var t=[];if("string"===typeof e)zv(this,e)&&(t=dd(t,this.g.get(Kv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=dd(t,e[n])}return t},Qh.set=function(e,t){return Uv(this),this.i=null,zv(this,e=Kv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Qh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Qh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Hv=qe((function e(t,n){Be(this,e),this.h=t,this.g=n}));function Wv(e){this.l=e||Qv,Xh.PerformanceNavigationTiming?e=0<(e=Xh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Xh.g&&Xh.g.Ea&&Xh.g.Ea()&&Xh.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gv,Qv=10;function $v(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Jv(e){return e.h?1:e.g?e.g.size:0}function Yv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xv(e,t){e.g?e.g.add(t):e.h=t}function Zv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function em(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Pr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return pd(e.i)}function tm(){}function nm(){this.g=new tm}function rm(e,t,n){var r=n||"";try{gv(e,(function(e,n){var i=e;td(e)&&(i=vp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(vR){throw t.push(r+"type="+encodeURIComponent("_badmap")),vR}}function im(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function am(e){this.l=e.$b||null,this.j=e.ib||!1}function om(e,t){hp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wv.prototype.cancel=function(){if(this.i=em(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Pr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},tm.prototype.stringify=function(e){return Xh.JSON.stringify(e,void 0)},tm.prototype.parse=function(e){return Xh.JSON.parse(e,void 0)},sd(am,Qp),am.prototype.g=function(){return new om(this.l,this.j)},am.prototype.i=(Gv={},function(){return Gv}),sd(om,hp);var um=0;function sm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function cm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,lm(e)}function lm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Qh=om.prototype).open=function(e,t){if(this.readyState!=um)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,lm(this)},Qh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Xh).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Qh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cm(this)),this.readyState=um},Qh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,lm(this)),this.g&&(this.readyState=3,lm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Xh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Qh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cm(this):lm(this),3==this.readyState&&sm(this)}},Qh.Ua=function(e){this.g&&(this.response=this.responseText=e,cm(this))},Qh.Ta=function(e){this.g&&(this.response=e,cm(this))},Qh.ha=function(){this.g&&cm(this)},Qh.setRequestHeader=function(e,t){this.v.append(e,t)},Qh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Qh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(om.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fm=Xh.JSON.parse;function hm(e){hp.call(this),this.headers=new kv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dm,this.K=this.L=!1}sd(hm,hp);var dm="",pm=/^https?$/i,vm=["POST","PUT"];function mm(e){return"content-type"==e.toLowerCase()}function ym(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gm(e),bm(e)}function gm(e){e.D||(e.D=!0,dp(e,"complete"),dp(e,"error"))}function km(e){if(e.h&&"undefined"!=typeof Yh&&(!e.C[1]||4!=xm(e)||2!=e.ba()))if(e.v&&4==xm(e))Cp(e.Fa,0,e);else if(dp(e,"readystatechange"),4==xm(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(xv)[1]||null;if(!a&&Xh.self&&Xh.self.location){var o=Xh.self.location.protocol;a=o.substr(0,o.length-1)}i=!pm.test(a?a.toLowerCase():"")}t=i}if(t)dp(e,"complete"),dp(e,"success");else{e.m=6;try{var u=2<xm(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",gm(e)}}finally{bm(e)}}}function bm(e,t){if(e.g){wm(e);var n=e.g,r=e.C[0]?Zh:null;e.g=null,e.C=null,t||dp(e,"ready");try{n.onreadystatechange=r}catch(vR){}}}function wm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Xh.clearTimeout(e.A),e.A=null)}function xm(e){return e.g?e.g.readyState:0}function Em(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function _m(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return xd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Nv(e,t,n))}function Im(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Sm(e){this.za=0,this.l=[],this.h=new Lp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Im("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Im("baseRetryDelayMs",5e3,e),this.$a=Im("retryDelaySeedMs",1e4,e),this.Ya=Im("forwardChannelMaxRetries",2,e),this.ra=Im("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Wv(e&&e.concurrentRequestLimit),this.Ca=new nm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Tm(e){if(Nm(e),3==e.G){var t=e.V++,n=_v(e.F);Nv(n,"SID",e.J),Nv(n,"RID",t),Nv(n,"TYPE","terminate"),Pm(e,n),(t=new nv(e,e.h,t,void 0)).K=2,t.v=Ov(_v(n)),n=!1,Xh.navigator&&Xh.navigator.sendBeacon&&(n=Xh.navigator.sendBeacon(t.v.toString(),"")),!n&&Xh.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hv(t)}qm(e)}function Cm(e){e.g&&(jm(e),e.g.cancel(),e.g=null)}function Nm(e){Cm(e),e.u&&(Xh.clearTimeout(e.u),e.u=null),Vm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Xh.clearTimeout(e.m),e.m=null)}function Om(e,t){e.l.push(new Hv(e.Za++,t)),3==e.G&&Am(e)}function Am(e){$v(e.i)||e.m||(e.m=!0,xp(e.Ha,e),e.C=0)}function Dm(e,t){var n;n=t?t.m:e.V++;var r=_v(e.F);Nv(r,"SID",e.J),Nv(r,"RID",n),Nv(r,"AID",e.U),Pm(e,r),e.o&&e.s&&_m(r,e.o,e.s),n=new nv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Rm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Xv(e.i,n),uv(n,r,t)}function Pm(e,t){e.j&&gv({},(function(e,n){Nv(t,n,e)}))}function Rm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?od(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{rm(l,o,"req"+c+"_")}catch(ky){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Lm(e){e.g||e.u||(e.Y=1,xp(e.Ga,e),e.A=0)}function Mm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Hp(od(e.Ga,e),Bm(e,e.A)),e.A++,!0)}function jm(e){null!=e.B&&(Xh.clearTimeout(e.B),e.B=null)}function Fm(e){e.g=new nv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=_v(e.oa);Nv(t,"RID","rpc"),Nv(t,"SID",e.J),Nv(t,"CI",e.N?"0":"1"),Nv(t,"AID",e.U),Pm(e,t),Nv(t,"TYPE","xmlhttp"),e.o&&e.s&&_m(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ov(_v(t)),n.s=null,n.U=!0,sv(n,e)}function Vm(e){null!=e.v&&(Xh.clearTimeout(e.v),e.v=null)}function Um(e,t){var n=null;if(e.g==t){Vm(e),jm(e),e.g=null;var r=2}else{if(!Yv(e.i,t))return;n=t.D,Zv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;dp(r=Vp(),new Kp(r,n,t,i)),Am(e)}else Lm(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Jv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Hp(od(e.Ha,e,t),Bm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Mm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zm(e,5);break;case 4:zm(e,10);break;case 3:zm(e,6);break;default:zm(e,2)}}function Bm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function zm(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=od(e.jb,e);n||(n=new Ev("//www.google.com/images/cleardot.gif"),Xh.location&&"http"==Xh.location.protocol||Iv(n,"https"),Ov(n)),function(e,t){var n=new Lp;if(Xh.Image){var r=new Image;r.onload=ud(im,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ud(im,n,r,"TestLoadImage: error",!1,t),r.onabort=ud(im,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ud(im,n,r,"TestLoadImage: timeout",!1,t),Xh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else qp(2);e.G=0,e.j&&e.j.va(t),qm(e),Nm(e)}function qm(e){e.G=0,e.I=-1,e.j&&(0==em(e.i).length&&0==e.l.length||(e.i.i.length=0,pd(e.l),e.l.length=0),e.j.ua())}function Km(e,t,n){var r=function(e){return e instanceof Ev?_v(e):new Ev(e,void 0)}(n);if(""!=r.i)t&&Sv(r,t+"."+r.i),Tv(r,r.m);else{var i=Xh.location;r=function(e,t,n,r){var i=new Ev(null,void 0);return e&&Iv(i,e),t&&Sv(i,t),n&&Tv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&xd(e.aa,(function(e,t){Nv(r,t,e)})),t=e.D,n=e.sa,t&&n&&Nv(r,t,n),Nv(r,"VER",e.ma),Pm(e,r),r}function Hm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new hm(new am({ib:!0})):new hm(e.qa)).L=e.H,t}function Wm(){}function Gm(){if(Nd&&!(10<=Number(zd)))throw Error("Environmental error: no available transport.")}function Qm(e,t){hp.call(this),this.g=new Sm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!vd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ym(this)}function $m(e){Zp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jm(){ev.call(this),this.status=1}function Ym(e){this.g=e}(Qh=hm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yp.g(),this.C=this.u?$p(this.u):$p(Yp),this.g.onreadystatechange=od(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void ym(this,a)}e=n||"";var i=new kv(this.headers);r&&gv(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=mm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Xh.FormData&&e instanceof Xh.FormData,!(0<=fd(vm,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wm(this),0<this.B&&((this.K=function(e){return Nd&&Ud()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=od(this.pa,this)):this.A=Cp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){ym(this,a)}},Qh.pa=function(){"undefined"!=typeof Yh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dp(this,"timeout"),this.abort(8))},Qh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,dp(this,"complete"),dp(this,"abort"),bm(this))},Qh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bm(this,!0)),hm.Z.M.call(this)},Qh.Fa=function(){this.s||(this.F||this.v||this.l?km(this):this.cb())},Qh.cb=function(){km(this)},Qh.ba=function(){try{return 2<xm(this)?this.g.status:-1}catch(Gv){return-1}},Qh.ga=function(){try{return this.g?this.g.responseText:""}catch(Gv){return""}},Qh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fm(t)}},Qh.Da=function(){return this.m},Qh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Qh=Sm.prototype).ma=8,Qh.G=1,Qh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Qh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new nv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Id(n=Ed(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Rm(this,t,r),Nv(i=_v(this.F),"RID",e),Nv(i,"CVER",22),this.D&&Nv(i,"X-HTTP-Session-Id",this.D),Pm(this,i),this.o&&n&&_m(i,this.o,n),Xv(this.i,t),this.Ra&&Nv(i,"TYPE","init"),this.ja?(Nv(i,"$req",r),Nv(i,"SID","null"),t.$=!0,uv(t,i,null)):uv(t,i,r),this.G=2}}else 3==this.G&&(e?Dm(this,e):0==this.l.length||$v(this.i)||Dm(this))},Qh.Ga=function(){if(this.u=null,Fm(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Hp(od(this.bb,this),e)}},Qh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qp(10),Cm(this),Fm(this))},Qh.ab=function(){null!=this.v&&(this.v=null,Cm(this),Mm(this),qp(19))},Qh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),qp(2)):(this.h.info("Failed to ping google.com"),qp(1))},(Qh=Wm.prototype).xa=function(){},Qh.wa=function(){},Qh.va=function(){},Qh.ua=function(){},Qh.Oa=function(){},Gm.prototype.g=function(e,t){return new Qm(e,t)},sd(Qm,hp),Qm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),xp(od(e.hb,e,t))),qp(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Km(e,null,e.W),Am(e)},Qm.prototype.close=function(){Tm(this.g)},Qm.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Om(this.g,t)}else this.v?((t={}).__data__=vp(e),Om(this.g,t)):Om(this.g,e)},Qm.prototype.M=function(){this.g.j=null,delete this.j,Tm(this.g),delete this.g,Qm.Z.M.call(this)},sd($m,Zp),sd(Jm,ev),sd(Ym,Wm),Ym.prototype.xa=function(){dp(this.g,"a")},Ym.prototype.wa=function(e){dp(this.g,new $m(e))},Ym.prototype.va=function(e){dp(this.g,new Jm(e))},Ym.prototype.ua=function(){dp(this.g,"b")},Gm.prototype.createWebChannel=Gm.prototype.g,Qm.prototype.send=Qm.prototype.u,Qm.prototype.open=Qm.prototype.m,Qm.prototype.close=Qm.prototype.close,Wp.NO_ERROR=0,Wp.TIMEOUT=8,Wp.HTTP_ERROR=6,Gp.COMPLETE="complete",Jp.EventType=Xp,Xp.OPEN="a",Xp.CLOSE="b",Xp.ERROR="c",Xp.MESSAGE="d",hp.prototype.listen=hp.prototype.N,hm.prototype.listenOnce=hm.prototype.O,hm.prototype.getLastError=hm.prototype.La,hm.prototype.getLastErrorCode=hm.prototype.Da,hm.prototype.getStatus=hm.prototype.ba,hm.prototype.getResponseJson=hm.prototype.Qa,hm.prototype.getResponseText=hm.prototype.ga,hm.prototype.send=hm.prototype.ea;var Xm=Jh.createWebChannelTransport=function(){return new Gm},Zm=Jh.getStatEventTarget=function(){return Vp()},ey=Jh.ErrorCode=Wp,ty=Jh.EventType=Gp,ny=Jh.Event=jp,ry=Jh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iy=Jh.FetchXmlHttpFactory=am,ay=Jh.WebChannel=Jp,oy=Jh.XhrIo=hm,uy="@firebase/firestore",sy=function(){function e(t){Be(this,e),this.uid=t}return qe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();sy.UNAUTHENTICATED=new sy(null),sy.GOOGLE_CREDENTIALS=new sy("google-credentials-uid"),sy.FIRST_PARTY=new sy("first-party-uid"),sy.MOCK_USER=new sy("mock-user");var cy="9.8.3",ly=new wi("@firebase/firestore");function fy(){return ly.logLevel}function hy(e){if(ly.logLevel<=pi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vy);ly.debug.apply(ly,["Firestore (".concat(cy,"): ").concat(e)].concat(Ue(i)))}}function dy(e){if(ly.logLevel<=pi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vy);ly.error.apply(ly,["Firestore (".concat(cy,"): ").concat(e)].concat(Ue(i)))}}function py(e){if(ly.logLevel<=pi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vy);ly.warn.apply(ly,["Firestore (".concat(cy,"): ").concat(e)].concat(Ue(i)))}}function vy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function my(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(cy,") INTERNAL ASSERTION FAILED: ")+e;throw dy(t),new Error(t)}function yy(e,t){e||my()}function gy(e,t){return e}var ky={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},by=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return qe(n)}(Jr),wy=qe((function e(){var t=this;Be(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),xy=qe((function e(t,n){Be(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ey=function(){function e(){Be(this,e)}return qe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sy.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),_y=function(){function e(t){Be(this,e),this.token=t,this.changeListener=null}return qe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Iy=function(){function e(t){Be(this,e),this.t=t,this.currentUser=sy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return qe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new wy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new wy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){hy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(hy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(hy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(yy("string"==typeof n.accessToken),new xy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return yy(null===e||"string"==typeof e),new sy(e)}}]),e}(),Sy=qe((function e(t,n,r){Be(this,e),this.type="FirstParty",this.user=sy.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Ty=function(){function e(t,n,r){Be(this,e),this.h=t,this.l=n,this.m=r}return qe(e,[{key:"getToken",value:function(){return Promise.resolve(new Sy(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sy.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Cy=qe((function e(t){Be(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ny=function(){function e(t){Be(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return qe(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&hy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,hy("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){hy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):hy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(yy("string"==typeof t.token),e.p=t.token,new Cy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Oy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ay=function(){function e(){Be(this,e)}return qe(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Oy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Dy(e,t){return e<t?-1:e>t?1:0}function Py(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ry(e){return e+"\0"}var Ly=function(){function e(t,n){if(Be(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new by(ky.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new by(ky.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new by(ky.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new by(ky.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return qe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Dy(this.nanoseconds,e.nanoseconds):Dy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),My=function(){function e(t){Be(this,e),this.timestamp=t}return qe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ly(0,0))}},{key:"max",value:function(){return new e(new Ly(253402300799,999999999))}}]),e}(),jy=function(){function e(t,n,r){Be(this,e),void 0===n?n=0:n>t.length&&my(),void 0===r?r=t.length-n:r>t.length-n&&my(),this.segments=t,this.offset=n,this.len=r}return qe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Fy=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new by(ky.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Ue(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(jy),Vy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uy=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Vy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new by(ky.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new by(ky.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new by(ky.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new by(ky.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(jy),By=function(){function e(t){Be(this,e),this.path=t}return qe(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Fy.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Fy.fromString(t))}},{key:"fromName",value:function(t){return new e(Fy.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Fy.emptyPath())}},{key:"comparator",value:function(e,t){return Fy.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Fy(t.slice()))}}]),e}(),zy=qe((function e(t,n,r,i){Be(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function qy(e){return e.fields.find((function(e){return 2===e.kind}))}function Ky(e){return e.fields.filter((function(e){return 2!==e.kind}))}zy.UNKNOWN_ID=-1;var Hy=qe((function e(t,n){Be(this,e),this.fieldPath=t,this.kind=n})),Wy=function(){function e(t,n){Be(this,e),this.sequenceNumber=t,this.offset=n}return qe(e,null,[{key:"empty",value:function(){return new e(0,$y.min())}}]),e}();function Gy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=My.fromTimestamp(1e9===r?new Ly(n+1,0):new Ly(n,r));return new $y(i,By.empty(),t)}function Qy(e){return new $y(e.readTime,e.key,-1)}var $y=function(){function e(t,n,r){Be(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return qe(e,null,[{key:"min",value:function(){return new e(My.min(),By.empty(),-1)}},{key:"max",value:function(){return new e(My.max(),By.empty(),-1)}}]),e}();function Jy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=By.comparator(e.documentKey,t.documentKey))?n:Dy(e.largestBatchId,t.largestBatchId)}var Yy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xy=function(){function e(){Be(this,e),this.onCommittedListeners=[]}return qe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Zy(e){return eg.apply(this,arguments)}function eg(){return eg=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ky.FAILED_PRECONDITION&&t.message===Yy){e.next=2;break}throw t;case 2:hy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}var tg=function(){function e(t){var n=this;Be(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return qe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&my(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Pr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ng=function(){function e(t,n){var r=this;Be(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new wy,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new ag(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=lg(e.target.error);r.T.reject(new ag(t,n))}}return qe(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(hy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ug(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ag(n,t)}}}]),e}(),rg=function(){function e(t,n,r){Be(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(qr())&&dy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return qe(e,[{key:"k",value:function(){var e=Dr(Or().mark((function e(t){var n=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return hy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ag(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new by(ky.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new by(ky.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ag(t,n))},i.onupgradeneeded=function(e){hy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){hy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Dr(Or().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Or().mark((function e(){var n,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.k(t);case 2:return c.db=e.sent,n=ng.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),tg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,hy("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return hy("SimpleDb","Removing database:",e),sg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!$r())return!1;if(e.S())return!0;var t=qr(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ig=function(){function e(t){Be(this,e),this.$=t,this.B=!1,this.L=null}return qe(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return sg(this.$.delete())}}]),e}(),ag=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,ky.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return qe(n)}(by);function og(e){return"IndexedDbTransactionError"===e.name}var ug=function(){function e(t){Be(this,e),this.store=t}return qe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(hy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(hy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sg(n)}},{key:"add",value:function(e){return hy("SimpleDb","ADD",this.store.name,e,e),sg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return sg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),hy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return hy("SimpleDb","DELETE",this.store.name,e),sg(this.store.delete(e))}},{key:"count",value:function(){return hy("SimpleDb","COUNT",this.store.name),sg(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new tg((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new tg((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){hy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new tg((function(n,r){t.onerror=function(e){var t=lg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new tg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ig(i),o=t(i.primaryKey,i.value,a);if(o instanceof tg){var u=o.catch((function(e){return a.done(),tg.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return tg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function sg(e){return new tg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=lg(e.target.error);n(t)}}))}var cg=!1;function lg(e){var t=rg.v(qr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new by("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return cg||(cg=!0,setTimeout((function(){throw r}),0)),r}}return e}var fg=function(){function e(t,n){Be(this,e),this.asyncQueue=t,this.X=n,this.task=null}return qe(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;hy("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=hy,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!og(e.t4)){e.next=17;break}hy("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Zy(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),hg=function(){function e(t,n){Be(this,e),this.localStore=t,this.persistence=n}return qe(e,[{key:"tt",value:function(){var e=Dr(Or().mark((function e(){var t,n=this,r=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return tg.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return hy("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return hy("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Qy(t);Jy(r,n)>0&&(n=r)})),new $y(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),dg=function(){function e(t,n){var r=this;Be(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return qe(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function pg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}dg.ot=-1;var yg=function(){function e(t,n){Be(this,e),this.comparator=t,this.root=n||kg.EMPTY}return qe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new gg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new gg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new gg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new gg(this.root,e,this.comparator,!0)}}]),e}(),gg=function(){function e(t,n,r,i){Be(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return qe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),kg=function(){function e(t,n,r,i,a){Be(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return qe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw my();if(this.right.isRed())throw my();var e=this.left.check();if(e!==this.right.check())throw my();return e+(this.isRed()?0:1)}}]),e}();kg.EMPTY=null,kg.RED=!0,kg.BLACK=!1,kg.EMPTY=new(function(){function e(){Be(this,e),this.size=0}return qe(e,[{key:"key",get:function(){throw my()}},{key:"value",get:function(){throw my()}},{key:"color",get:function(){throw my()}},{key:"left",get:function(){throw my()}},{key:"right",get:function(){throw my()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new kg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var bg=function(){function e(t){Be(this,e),this.comparator=t,this.data=new yg(this.comparator)}return qe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new wg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new wg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),wg=function(){function e(t){Be(this,e),this.iter=t}return qe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function xg(e){return e.hasNext()?e.getNext():void 0}var Eg=function(){function e(t){Be(this,e),this.fields=t,t.sort(Uy.comparator)}return qe(e,[{key:"unionWith",value:function(t){var n,r=new bg(Uy.comparator),i=Pr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Pr(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Pr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Py(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var _g=function(e){function t(e){Be(this,t),this.binaryString=e}return qe(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Dy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();_g.EMPTY_BYTE_STRING=new _g("");var Ig=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sg(e){if(yy(!!e),"string"==typeof e){var t=0,n=Ig.exec(e);if(yy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Tg(e.seconds),nanos:Tg(e.nanos)}}function Tg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cg(e){return"string"==typeof e?_g.fromBase64String(e):_g.fromUint8Array(e)}function Ng(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Og(e){var t=e.mapValue.fields.__previous_value__;return Ng(t)?Og(t):t}function Ag(e){var t=Sg(e.mapValue.fields.__local_write_time__.timestampValue);return new Ly(t.seconds,t.nanos)}var Dg=qe((function e(t,n,r,i,a,o,u,s){Be(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Pg=function(){function e(t,n){Be(this,e),this.projectId=t,this.database=n||"(default)"}return qe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Rg(e){return null==e}function Lg(e){return 0===e&&1/e==-1/0}function Mg(e){return"number"==typeof e&&Number.isInteger(e)&&!Lg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var jg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fg={nullValue:"NULL_VALUE"};function Vg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ng(e)?4:Zg(e)?9007199254740991:10:my()}function Ug(e,t){if(e===t)return!0;var n=Vg(e);if(n!==Vg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ag(e).isEqual(Ag(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Sg(e.timestampValue),r=Sg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cg(e.bytesValue).isEqual(Cg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tg(e.geoPointValue.latitude)===Tg(t.geoPointValue.latitude)&&Tg(e.geoPointValue.longitude)===Tg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tg(e.integerValue)===Tg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Tg(e.doubleValue),r=Tg(t.doubleValue);return n===r?Lg(n)===Lg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Py(e.arrayValue.values||[],t.arrayValue.values||[],Ug);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(pg(n)!==pg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ug(n[i],r[i])))return!1;return!0}(e,t);default:return my()}}function Bg(e,t){return void 0!==(e.values||[]).find((function(e){return Ug(e,t)}))}function zg(e,t){if(e===t)return 0;var n=Vg(e),r=Vg(t);if(n!==r)return Dy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Tg(e.integerValue||e.doubleValue),r=Tg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qg(e.timestampValue,t.timestampValue);case 4:return qg(Ag(e),Ag(t));case 5:return Dy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Cg(e),r=Cg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Dy(n[i],r[i]);if(0!==a)return a}return Dy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Dy(Tg(e.latitude),Tg(t.latitude));return 0!==n?n:Dy(Tg(e.longitude),Tg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=zg(n[i],r[i]);if(a)return a}return Dy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===jg.mapValue&&t===jg.mapValue)return 0;if(e===jg.mapValue)return 1;if(t===jg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Dy(r[o],a[o]);if(0!==u)return u;var s=zg(n[r[o]],i[a[o]]);if(0!==s)return s}return Dy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw my()}}function qg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Dy(e,t);var n=Sg(e),r=Sg(t),i=Dy(n.seconds,r.seconds);return 0!==i?i:Dy(n.nanos,r.nanos)}function Kg(e){return Hg(e)}function Hg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Sg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Cg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,By.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Pr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Hg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Pr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Hg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):my();var t,n}function Wg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gg(e){return!!e&&"integerValue"in e}function Qg(e){return!!e&&"arrayValue"in e}function $g(e){return!!e&&"nullValue"in e}function Jg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yg(e){return!!e&&"mapValue"in e}function Xg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return vg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Zg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ek(e){return"nullValue"in e?Fg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Wg(Pg.empty(),By.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:my()}function tk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Wg(Pg.empty(),By.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?jg:my()}function nk(e,t){var n=zg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function rk(e,t){var n=zg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ik=function(){function e(t){Be(this,e),this.value=t}return qe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Yg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xg(t)}},{key:"setAll",value:function(e){var t=this,n=Uy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Yg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ug(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Yg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){vg(t,(function(t,n){return e[t]=n}));var r,i=Pr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ak(e){var t=[];return vg(e.fields,(function(e,n){var r=new Uy([e]);if(Yg(n)){var i=ak(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Pr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Eg(t)}var ok=function(){function e(t,n,r,i,a,o){Be(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return qe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ik.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ik.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=My.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,My.min(),My.min(),ik.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,My.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,My.min(),ik.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,My.min(),ik.empty(),2)}}]),e}(),uk=qe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Be(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function sk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new uk(e,t,n,r,i,a,o)}function ck(e){var t=gy(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Kg(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Rg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Kg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Kg(e)})).join(",")),t.ut=n}return t.ut}function lk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Sk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ug(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ck(e.startAt,t.startAt)&&Ck(e.endAt,t.endAt)}function fk(e){return By.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function hk(e,t){return e.filters.filter((function(e){return e instanceof vk&&e.field.isEqual(t)}))}function dk(e,t,n){var r,i=Fg,a=!0,o=Pr(hk(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Fg,c=!0;switch(u.op){case"<":case"<=":s=ek(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Fg}nk({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];nk({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function pk(e,t,n){var r,i=jg,a=!0,o=Pr(hk(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=jg,c=!0;switch(u.op){case">=":case">":s=tk(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=jg}rk({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];rk({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var vk=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return qe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(zg(t,this.value)):null!==t&&Vg(this.value)===Vg(t)&&this.at(zg(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return my()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new mk(e,t,r):"array-contains"===t?new bk(e,r):"in"===t?new wk(e,r):"not-in"===t?new xk(e,r):"array-contains-any"===t?new Ek(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new yk(e,n):new gk(e,n)}}]),n}(function(){return qe((function e(){Be(this,e)}))}()),mk=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this,e,r,i)).key=By.fromName(i.referenceValue),a}return qe(n,[{key:"matches",value:function(e){var t=By.comparator(e.key,this.key);return this.at(t)}}]),n}(vk),yk=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e,"in",r)).keys=kk("in",r),i}return qe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vk),gk=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e,"not-in",r)).keys=kk("not-in",r),i}return qe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(vk);function kk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return By.fromName(e.referenceValue)}))}var bk=function(e){Dt(n,e);var t=jt(n);function n(e,r){return Be(this,n),t.call(this,e,"array-contains",r)}return qe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Qg(t)&&Bg(t.arrayValue,this.value)}}]),n}(vk),wk=function(e){Dt(n,e);var t=jt(n);function n(e,r){return Be(this,n),t.call(this,e,"in",r)}return qe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Bg(this.value.arrayValue,t)}}]),n}(vk),xk=function(e){Dt(n,e);var t=jt(n);function n(e,r){return Be(this,n),t.call(this,e,"not-in",r)}return qe(n,[{key:"matches",value:function(e){if(Bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Bg(this.value.arrayValue,t)}}]),n}(vk),Ek=function(e){Dt(n,e);var t=jt(n);function n(e,r){return Be(this,n),t.call(this,e,"array-contains-any",r)}return qe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Bg(t.value.arrayValue,e)}))}}]),n}(vk),_k=qe((function e(t,n){Be(this,e),this.position=t,this.inclusive=n})),Ik=qe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Be(this,e),this.field=t,this.dir=n}));function Sk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Tk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?By.comparator(By.fromName(o.referenceValue),n.key):zg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ck(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ug(e.position[n],t.position[n]))return!1;return!0}var Nk=qe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Be(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Ok(e,t,n,r,i,a,o,u){return new Nk(e,t,n,r,i,a,o,u)}function Ak(e){return new Nk(e)}function Dk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pk(e){var t,n=Pr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Rk(e){return null!==e.collectionGroup}function Lk(e){var t=gy(e);if(null===t.lt){t.lt=[];var n=Pk(t),r=Dk(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Ik(n)),t.lt.push(new Ik(Uy.keyField(),"asc"));else{var i,a=!1,o=Pr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Ik(Uy.keyField(),s))}}}return t.lt}function Mk(e){var t=gy(e);if(!t.ft)if("F"===t.limitType)t.ft=sk(t.path,t.collectionGroup,Lk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Pr(Lk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ik(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new _k(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new _k(t.startAt.position,t.startAt.inclusive):null;t.ft=sk(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function jk(e,t,n){return new Nk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fk(e,t){return lk(Mk(e),Mk(t))&&e.limitType===t.limitType}function Vk(e){return"".concat(ck(Mk(e)),"|lt:").concat(e.limitType)}function Uk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Kg(t.value));var t})).join(", "),"]")),Rg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Kg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Kg(e)})).join(",")),"Target(".concat(t,")")}(Mk(e)),"; limitType=").concat(e.limitType,")")}function Bk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):By.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Pr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Pr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Tk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Lk(e),t))&&!(e.endAt&&!function(e,t,n){var r=Tk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Lk(e),t))}(e,t)}function zk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qk(e){return function(t,n){var r,i=!1,a=Pr(Lk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Kk(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Kk(e,t,n){var r=e.field.isKeyField()?By.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zg(r,i):my()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return my()}}function Hk(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(t)?"-0":t}}function Wk(e){return{integerValue:""+e}}function Gk(e,t){return Mg(t)?Wk(t):Hk(e,t)}var Qk=qe((function e(){Be(this,e),this._=void 0}));function $k(e,t,n){return e instanceof Xk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zk?eb(e,t):e instanceof tb?nb(e,t):function(e,t){var n=Yk(e,t),r=ib(n)+ib(e._t);return Gg(n)&&Gg(e._t)?Wk(r):Hk(e.wt,r)}(e,t)}function Jk(e,t,n){return e instanceof Zk?eb(e,t):e instanceof tb?nb(e,t):n}function Yk(e,t){return e instanceof rb?Gg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xk=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n)}(Qk),Zk=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this)).elements=e,r}return qe(n)}(Qk);function eb(e,t){var n,r=ab(t),i=Pr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ug(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tb=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this)).elements=e,r}return qe(n)}(Qk);function nb(e,t){var n,r=ab(t),i=Pr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ug(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rb=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this)).wt=e,i._t=r,i}return qe(n)}(Qk);function ib(e){return Tg(e.integerValue||e.doubleValue)}function ab(e){return Qg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ob=qe((function e(t,n){Be(this,e),this.field=t,this.transform=n}));var ub=qe((function e(t,n){Be(this,e),this.version=t,this.transformResults=n})),sb=function(){function e(t,n){Be(this,e),this.updateTime=t,this.exists=n}return qe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lb=qe((function e(){Be(this,e)}));function fb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Eb(e.key,sb.none()):new mb(e.key,e.data,sb.none());var n,r=e.data,i=ik.empty(),a=new bg(Uy.comparator),o=Pr(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new yb(e.key,i,new Eg(a.toArray()),sb.none())}function hb(e,t,n){e instanceof mb?function(e,t,n){var r=e.value.clone(),i=kb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yb?function(e,t,n){if(cb(e.precondition,t)){var r=kb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function db(e,t,n,r){return e instanceof mb?function(e,t,n,r){if(!cb(e.precondition,t))return n;var i=e.value.clone(),a=bb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yb?function(e,t,n,r){if(!cb(e.precondition,t))return n;var i=bb(e.fieldTransforms,r,t),a=t.data;return a.setAll(gb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return cb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function pb(e,t){var n,r=null,i=Pr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Yk(a.transform,o||null);null!=u&&(null===r&&(r=ik.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function vb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Py(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zk&&t instanceof Zk||e instanceof tb&&t instanceof tb?Py(e.elements,t.elements,Ug):e instanceof rb&&t instanceof rb?Ug(e._t,t._t):e instanceof Xk&&t instanceof Xk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var mb=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Be(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return qe(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lb),yb=function(e){Dt(n,e);var t=jt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Be(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return qe(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(lb);function gb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function kb(e,t,n){var r=new Map;yy(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Jk(o,u,n[i]))}return r}function bb(e,t,n){var r,i=new Map,a=Pr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,$k(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var wb,xb,Eb=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return qe(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lb),_b=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return qe(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lb),Ib=qe((function e(t){Be(this,e),this.count=t}));function Sb(e){switch(e){default:return my();case ky.CANCELLED:case ky.UNKNOWN:case ky.DEADLINE_EXCEEDED:case ky.RESOURCE_EXHAUSTED:case ky.INTERNAL:case ky.UNAVAILABLE:case ky.UNAUTHENTICATED:return!1;case ky.INVALID_ARGUMENT:case ky.NOT_FOUND:case ky.ALREADY_EXISTS:case ky.PERMISSION_DENIED:case ky.FAILED_PRECONDITION:case ky.ABORTED:case ky.OUT_OF_RANGE:case ky.UNIMPLEMENTED:case ky.DATA_LOSS:return!0}}function Tb(e){if(void 0===e)return dy("GRPC error has no .code"),ky.UNKNOWN;switch(e){case wb.OK:return ky.OK;case wb.CANCELLED:return ky.CANCELLED;case wb.UNKNOWN:return ky.UNKNOWN;case wb.DEADLINE_EXCEEDED:return ky.DEADLINE_EXCEEDED;case wb.RESOURCE_EXHAUSTED:return ky.RESOURCE_EXHAUSTED;case wb.INTERNAL:return ky.INTERNAL;case wb.UNAVAILABLE:return ky.UNAVAILABLE;case wb.UNAUTHENTICATED:return ky.UNAUTHENTICATED;case wb.INVALID_ARGUMENT:return ky.INVALID_ARGUMENT;case wb.NOT_FOUND:return ky.NOT_FOUND;case wb.ALREADY_EXISTS:return ky.ALREADY_EXISTS;case wb.PERMISSION_DENIED:return ky.PERMISSION_DENIED;case wb.FAILED_PRECONDITION:return ky.FAILED_PRECONDITION;case wb.ABORTED:return ky.ABORTED;case wb.OUT_OF_RANGE:return ky.OUT_OF_RANGE;case wb.UNIMPLEMENTED:return ky.UNIMPLEMENTED;case wb.DATA_LOSS:return ky.DATA_LOSS;default:return my()}}(xb=wb||(wb={}))[xb.OK=0]="OK",xb[xb.CANCELLED=1]="CANCELLED",xb[xb.UNKNOWN=2]="UNKNOWN",xb[xb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xb[xb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xb[xb.NOT_FOUND=5]="NOT_FOUND",xb[xb.ALREADY_EXISTS=6]="ALREADY_EXISTS",xb[xb.PERMISSION_DENIED=7]="PERMISSION_DENIED",xb[xb.UNAUTHENTICATED=16]="UNAUTHENTICATED",xb[xb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xb[xb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xb[xb.ABORTED=10]="ABORTED",xb[xb.OUT_OF_RANGE=11]="OUT_OF_RANGE",xb[xb.UNIMPLEMENTED=12]="UNIMPLEMENTED",xb[xb.INTERNAL=13]="INTERNAL",xb[xb.UNAVAILABLE=14]="UNAVAILABLE",xb[xb.DATA_LOSS=15]="DATA_LOSS";var Cb=function(){function e(t,n){Be(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return qe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Pr(n);try{for(i.s();!(r=i.n()).done;){var a=Pe(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){vg(this.inner,(function(t,n){var r,i=Pr(n);try{for(i.s();!(r=i.n()).done;){var a=Pe(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return mg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Nb=new yg(By.comparator);function Ob(){return Nb}var Ab=new yg(By.comparator);function Db(){for(var e=Ab,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Pb(e){var t=Ab;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Rb(){return Mb()}function Lb(){return Mb()}function Mb(){return new Cb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var jb=new yg(By.comparator),Fb=new bg(By.comparator);function Vb(){for(var e=Fb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ub=new bg(Dy);function Bb(){return Ub}var zb=function(){function e(t,n,r,i,a){Be(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return qe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,qb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(My.min(),r,Bb(),Ob(),Vb())}}]),e}(),qb=function(){function e(t,n,r,i,a){Be(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return qe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(_g.EMPTY_BYTE_STRING,n,Vb(),Vb(),Vb())}}]),e}(),Kb=qe((function e(t,n,r,i){Be(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Hb=qe((function e(t,n){Be(this,e),this.targetId=t,this.It=n})),Wb=qe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_g.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Be(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gb=function(){function e(){Be(this,e),this.Tt=0,this.Et=Jb(),this.At=_g.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return qe(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Vb(),t=Vb(),n=Vb();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:my()}})),new qb(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Jb()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Qb=function(){function e(t){Be(this,e),this.Mt=t,this.Ft=new Map,this.$t=Ob(),this.Bt=$b(),this.Lt=new bg(Dy)}return qe(e,[{key:"Ut",value:function(e){var t,n=Pr(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Pr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:my()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(fk(i))if(0===n){var a=new By(i.path);this.Kt(t,a,ok.newNoDocument(a,My.min()))}else yy(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&fk(a.target)){var o=new By(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,ok.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Vb();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new zb(e,n,this.Lt,this.$t,r);return this.$t=Ob(),this.Bt=$b(),this.Lt=new bg(Dy),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Gb,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new bg(Dy),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||hy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Gb),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function $b(){return new yg(By.comparator)}function Jb(){return new yg(By.comparator)}var Yb={asc:"ASCENDING",desc:"DESCENDING"},Xb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zb=qe((function e(t,n){Be(this,e),this.databaseId=t,this.dt=n}));function ew(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tw(e,t){return e.dt?t.toBase64():t.toUint8Array()}function nw(e,t){return ew(e,t.toTimestamp())}function rw(e){return yy(!!e),My.fromTimestamp(function(e){var t=Sg(e);return new Ly(t.seconds,t.nanos)}(e))}function iw(e,t){return function(e){return new Fy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function aw(e){var t=Fy.fromString(e);return yy(Cw(t)),t}function ow(e,t){return iw(e.databaseId,t.path)}function uw(e,t){var n=aw(t);if(n.get(1)!==e.databaseId.projectId)throw new by(ky.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new by(ky.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new By(fw(n))}function sw(e,t){return iw(e.databaseId,t)}function cw(e){var t=aw(e);return 4===t.length?Fy.emptyPath():fw(t)}function lw(e){return new Fy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fw(e){return yy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hw(e,t,n){return{name:ow(e,t),fields:n.value.mapValue.fields}}function dw(e,t,n){var r=uw(e,t.name),i=rw(t.updateTime),a=new ik({mapValue:{fields:t.fields}}),o=ok.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function pw(e,t){return"found"in t?function(e,t){yy(!!t.found),t.found.name,t.found.updateTime;var n=uw(e,t.found.name),r=rw(t.found.updateTime),i=new ik({mapValue:{fields:t.found.fields}});return ok.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){yy(!!t.missing),yy(!!t.readTime);var n=uw(e,t.missing),r=rw(t.readTime);return ok.newNoDocument(n,r)}(e,t):my()}function vw(e,t){var n;if(t instanceof mb)n={update:hw(e,t.key,t.value)};else if(t instanceof Eb)n={delete:ow(e,t.key)};else if(t instanceof yb)n={update:hw(e,t.key,t.data),updateMask:Tw(t.fieldMask)};else{if(!(t instanceof _b))return my();n={verify:ow(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rb)return{fieldPath:t.field.canonicalString(),increment:n._t};throw my()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:my()}(e,t.precondition)),n}function mw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sb.updateTime(rw(e.updateTime)):void 0!==e.exists?sb.exists(e.exists):sb.none()}(t.currentDocument):sb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)yy("REQUEST_TIME"===t.setToServerValue),n=new Xk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Zk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tb(i)}else"increment"in t?n=new rb(e,t.increment):my();var a=Uy.fromServerFormat(t.fieldPath);return new ob(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=uw(e,t.update.name),a=new ik({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Eg(t.map((function(e){return Uy.fromServerFormat(e)})))}(t.updateMask);return new yb(i,a,o,n,r)}return new mb(i,a,n,r)}if(t.delete){var u=uw(e,t.delete);return new Eb(u,n)}if(t.verify){var s=uw(e,t.verify);return new _b(s,n)}return my()}function yw(e,t){return{documents:[sw(e,t.path)]}}function gw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Jg(e.value))return{unaryFilter:{field:Ew(e.field),op:"IS_NAN"}};if($g(e.value))return{unaryFilter:{field:Ew(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jg(e.value))return{unaryFilter:{field:Ew(e.field),op:"IS_NOT_NAN"}};if($g(e.value))return{unaryFilter:{field:Ew(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ew(e.field),op:xw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ew(e.field),direction:ww(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Rg(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kw(e){var t=cw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yy(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=bw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ik(_w(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Rg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new _k(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new _k(n,t)}(n.endAt)),Ok(t,i,u,o,s,"F",c,l)}function bw(e){return e?void 0!==e.unaryFilter?[Sw(e)]:void 0!==e.fieldFilter?[Iw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return bw(e)})).reduce((function(e,t){return e.concat(t)})):my():[]}function ww(e){return Yb[e]}function xw(e){return Xb[e]}function Ew(e){return{fieldPath:e.canonicalString()}}function _w(e){return Uy.fromServerFormat(e.fieldPath)}function Iw(e){return vk.create(_w(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return my()}}(e.fieldFilter.op),e.fieldFilter.value)}function Sw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_w(e.unaryFilter.field);return vk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_w(e.unaryFilter.field);return vk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_w(e.unaryFilter.field);return vk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_w(e.unaryFilter.field);return vk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return my()}}function Tw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Cw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Nw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Aw(t)),t=Ow(e.get(n),t);return Aw(t)}function Ow(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Aw(e){return e+"\x01\x01"}function Dw(e){var t=e.length;if(yy(t>=2),2===t)return yy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Fy.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&my(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:my()}a=o+2}return new Fy(r)}var Pw=["userId","batchId"];function Rw(e,t){return[e,Nw(t)]}function Lw(e,t,n){return[e,Nw(t),n]}var Mw={},jw=["prefixPath","collectionGroup","readTime","documentId"],Fw=["prefixPath","collectionGroup","documentId"],Vw=["collectionGroup","readTime","prefixPath","documentId"],Uw=["canonicalId","targetId"],Bw=["targetId","path"],zw=["path","targetId"],qw=["collectionId","parent"],Kw=["indexId","uid"],Hw=["uid","sequenceNumber"],Ww=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gw=["indexId","uid","orderedDocumentKey"],Qw=["userId","collectionPath","documentId"],$w=["userId","collectionPath","largestBatchId"],Jw=["userId","collectionGroup","largestBatchId"],Yw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Xw=[].concat(Ue(Yw),["documentOverlays"]),Zw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ex=Zw,tx=[].concat(ex,["indexConfiguration","indexState","indexEntries"]),nx=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return qe(n)}(Xy);function rx(e,t){var n=gy(e);return rg.N(n.ee,t)}var ix=function(){function e(t,n,r,i){Be(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return qe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&hb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Pr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=db(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Pr(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=db(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Lb();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=fb(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(My.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Vb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Py(this.mutations,e.mutations,(function(e,t){return vb(e,t)}))&&Py(this.baseMutations,e.baseMutations,(function(e,t){return vb(e,t)}))}}]),e}(),ax=function(){function e(t,n,r,i){Be(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return qe(e,null,[{key:"from",value:function(t,n,r){yy(t.mutations.length===r.length);for(var i=jb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ox=function(){function e(t,n){Be(this,e),this.largestBatchId=t,this.mutation=n}return qe(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ux=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:My.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:My.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_g.EMPTY_BYTE_STRING;Be(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return qe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),sx=qe((function e(t){Be(this,e),this.ne=t}));function cx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ow(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ew(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fx(t.version)};else{if(!t.isUnknownDocument())return my();r.unknownDocument={path:n.path.toArray(),version:fx(t.version)}}return r}function lx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hx(e){var t=new Ly(e.seconds,e.nanoseconds);return My.fromTimestamp(t)}function dx(e,t){for(var n=(t.baseMutations||[]).map((function(t){return mw(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return mw(e.ne,t)})),u=Ly.fromMillis(t.localWriteTimeMs);return new ix(t.batchId,u,n,o)}function px(e){var t,n,r=hx(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?hx(e.lastLimboFreeSnapshotVersion):My.min();return void 0!==e.query.documents?(yy(1===(n=e.query).documents.length),t=Mk(Ak(cw(n.documents[0])))):t=function(e){return Mk(kw(e))}(e.query),new ux(t,e.targetId,0,e.lastListenSequenceNumber,r,i,_g.fromBase64String(e.resumeToken))}function vx(e,t){var n,r=fx(t.snapshotVersion),i=fx(t.lastLimboFreeSnapshotVersion);n=fk(t.target)?yw(e.ne,t.target):gw(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ck(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function mx(e){var t=kw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jk(t,t.limit,"L"):t}function yx(e,t){return new ox(t.largestBatchId,mw(e.ne,t.overlayMutation))}function gx(e,t){var n=t.path.lastSegment();return[e,Nw(t.path.popLast()),n]}function kx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:fx(r.readTime),documentKey:Nw(r.documentKey.path),largestBatchId:r.largestBatchId}}var bx=function(){function e(){Be(this,e)}return qe(e,[{key:"getBundleMetadata",value:function(e,t){return wx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:hx(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return wx(e).put({bundleId:(n=t).id,createTime:fx(rw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return xx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:mx(t.bundledQuery),readTime:hx(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return xx(e).put(function(e){return{name:e.name,readTime:fx(rw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function wx(e){return rx(e,"bundles")}function xx(e){return rx(e,"namedQueries")}var Ex=function(){function e(t,n){Be(this,e),this.wt=t,this.userId=n}return qe(e,[{key:"getOverlay",value:function(e,t){var n=this;return _x(e).get(gx(this.userId,t)).next((function(e){return e?yx(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Rb();return tg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ox(t,a);i.push(r.ie(e,o))})),tg.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Nw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(_x(e).W("collectionPathOverlayIndex",i))})),tg.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Rb(),a=Nw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return _x(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Pr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=yx(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Rb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _x(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=yx(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return _x(e).put(function(e,t,n){var r=Pe(gx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:vw(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function _x(e){return rx(e,"documentOverlays")}var Ix=function(){function e(){Be(this,e)}return qe(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Tg(e.integerValue));else if("doubleValue"in e){var n=Tg(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Lg(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Cg(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Zg(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):my()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Pr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),By.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Sx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Tx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Sx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ix.ye=new Ix;var Cx=function(){function e(){Be(this,e),this.buffer=new Uint8Array(1024),this.position=0}return qe(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Pr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Pr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Tx(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Tx(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Nx=function(){function e(t){Be(this,e),this.Me=t}return qe(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),Ox=function(){function e(t){Be(this,e),this.Me=t}return qe(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Ax=function(){function e(){Be(this,e),this.Me=new Cx,this.Fe=new Nx(this.Me),this.$e=new Ox(this.Me)}return qe(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Dx=function(){function e(t,n,r,i){Be(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return qe(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Px(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Rx(e.arrayValue,t.arrayValue))?n:0!==(n=Rx(e.directionalValue,t.directionalValue))?n:By.comparator(e.documentKey,t.documentKey)}function Rx(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Lx=function(){function e(t){Be(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Pr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return qe(e,[{key:"Ge",value:function(e){var t=qy(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Ky(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Pr(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Mx=function(){function e(){Be(this,e),this.ze=new jx}return qe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),tg.resolve()}},{key:"getCollectionParents",value:function(e,t){return tg.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return tg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return tg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return tg.resolve(null)}},{key:"getIndexType",value:function(e,t){return tg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return tg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return tg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return tg.resolve($y.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return tg.resolve($y.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return tg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return tg.resolve()}}]),e}(),jx=function(){function e(){Be(this,e),this.index={}}return qe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bg(Fy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new bg(Fy.comparator)).toArray()}}]),e}(),Fx=new Uint8Array(0),Vx=function(){function e(t,n){Be(this,e),this.user=t,this.databaseId=n,this.He=new jx,this.Je=new Cb((function(e){return ck(e)}),(function(e,t){return lk(e,t)})),this.uid=t.uid||""}return qe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:Nw(i)};return Ux(e).put(a)}return tg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ry(t),""],!1,!0);return Ux(e).K(r).next((function(e){var r,i=Pr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Dw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=zx(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=qx(e);return a.next((function(e){o.put(kx(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=zx(e),r=qx(e),i=Bx(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Bx(e),i=!0,a=new Map;return tg.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Vb(),o=[];return tg.forEach(a,(function(i,a){var u;hy("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ck(t)));var s=function(e,t){var n=qy(t);if(void 0===n)return null;var r,i=Pr(hk(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Pr(Ky(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Pr(hk(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Pr(Ky(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?dk(e,o.fieldPath,e.startAt):pk(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _k(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Pr(Ky(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?pk(e,o.fieldPath,e.endAt):dk(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _k(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return tg.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=By.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return tg.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):Fx,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,Ue(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new Dx(e,By.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Dx(e,By.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Lx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Pr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return tg.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new bg(Uy.comparator),r=!1,i=Pr(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Pr(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new Ax,i=Pr(Ky(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);Ix.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new Ax;return Ix.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Ax;return Ix.ye.re(Wg(this.databaseId,t),n.Be(function(e){var t=Ky(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ax);var i,a=0,o=Pr(Ky(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Pr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&Qg(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);Ix.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=Ue(e),a=[],o=Pr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Pr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Ax;f.seed(l.Oe()),Ix.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof vk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=zx(e),i=qx(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return tg.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Wy(t.sequenceNumber,new $y(hx(t.readTime),new By(Dw(t.documentKey)),t.largestBatchId)):Wy.empty(),r=e.fields.map((function(e){var t=Pe(e,2),n=t[0],r=t[1];return new Hy(Uy.fromServerFormat(n),r)}));return new zy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Dy(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=zx(e),a=qx(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return tg.forEach(t,(function(t){return a.put(kx(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return tg.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?tg.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),tg.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?tg.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return Bx(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return Bx(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=Bx(e),i=new bg(Px);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new Dx(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new bg(Px),r=this.on(t,e);if(null==r)return n;var i=qy(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Qg(a)){var o,u=Pr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Dx(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Dx(t.indexId,e.key,Fx,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;hy("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=xg(a),s=xg(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=xg(o)):l?(i(u),u=xg(a)):(u=xg(a),s=xg(o))}}(r,i,Px,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),tg.waitFor(o)}},{key:"ln",value:function(e){var t=1;return qx(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Px(e,t)})).filter((function(e,t,n){return!t||0!==Px(e,n[t-1])}));var r=[];r.push(e);var i,a=Pr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Px(o,e),s=Px(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Fx,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Fx,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Kx)}},{key:"getMinOffset",value:function(e,t){var n=this;return tg.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||my()}))})).next(Kx)}}]),e}();function Ux(e){return rx(e,"collectionParents")}function Bx(e){return rx(e,"indexEntries")}function zx(e){return rx(e,"indexConfiguration")}function qx(e){return rx(e,"indexState")}function Kx(e){yy(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Jy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $y(t.readTime,t.documentKey,n)}var Hx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wx=function(){function e(t,n,r){Be(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return qe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Gx(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){yy(1===u)})));var c,l=[],f=Pr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Lw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return tg.waitFor(a).next((function(){return l}))}function Qx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw my();t=e.noDocument}return JSON.stringify(t).length}Wx.DEFAULT_COLLECTION_PERCENTILE=10,Wx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wx.DEFAULT=new Wx(41943040,Wx.DEFAULT_COLLECTION_PERCENTILE,Wx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wx.DISABLED=new Wx(-1,0,0);var $x=function(){function e(t,n,r,i){Be(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return qe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yx(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Xx(e),o=Yx(e);return o.add({}).next((function(u){yy("number"==typeof u);var s,c=new ix(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return vw(e.ne,t)})),i=n.mutations.map((function(t){return vw(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new bg((function(e,t){return Dy(e.canonicalString(),t.canonicalString())})),d=Pr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Lw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Mw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),tg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Yx(e).get(t).next((function(e){return e?(yy(e.userId===n.userId),dx(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?tg.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Yx(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(yy(t.batchId>=r),a=dx(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yx(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yx(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return dx(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Rw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Xx(e).J({range:i},(function(r,i,o){var u=Pe(r,3),s=u[0],c=u[1],l=u[2],f=Dw(c);if(s===n.userId&&t.path.isEqual(f))return Yx(e).get(l).next((function(e){if(!e)throw my();yy(e.userId===n.userId),a.push(dx(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bg(Dy),i=[];return t.forEach((function(t){var a=Rw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Xx(e).J({range:o},(function(e,i,a){var o=Pe(e,3),u=o[0],s=o[1],c=o[2],l=Dw(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),tg.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Rw(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new bg(Dy);return Xx(e).J({range:o},(function(e,t,a){var o=Pe(e,3),s=o[0],c=o[1],l=o[2],f=Dw(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Yx(e).get(t).next((function(e){if(null===e)throw my();yy(e.userId===n.userId),r.push(dx(n.wt,e))})))})),tg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Gx(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),tg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return tg.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Xx(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Dw(e[1]);i.push(a)}else r.done()})).next((function(){yy(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Jx(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return Zx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return yy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Jx(e,t,n){var r=Rw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Xx(e).J({range:a,H:!0},(function(e,n,r){var a=Pe(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Yx(e){return rx(e,"mutations")}function Xx(e){return rx(e,"documentMutations")}function Zx(e){return rx(e,"mutationQueues")}var eE=function(){function e(t){Be(this,e),this.En=t}return qe(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),tE=function(){function e(t,n){Be(this,e),this.referenceDelegate=t,this.wt=n}return qe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new eE(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return My.fromTimestamp(new Ly(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return nE(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return yy(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return nE(e).J((function(o,u){var s=px(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return tg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return nE(e).J((function(e,n){var r=px(n);t(r)}))}},{key:"bn",value:function(e){return rE(e).get("targetGlobalKey").next((function(e){return yy(null!==e),e}))}},{key:"Pn",value:function(e,t){return rE(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return nE(e).put(vx(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ck(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nE(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=px(n);lk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=iE(e);return t.forEach((function(t){var o=Nw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),tg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=iE(e);return tg.forEach(t,(function(t){var a=Nw(t.path);return tg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=iE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=iE(e),i=Vb();return r.J({range:n,H:!0},(function(e,t,n){var r=Dw(e[1]),a=new By(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Nw(t.path),r=IDBKeyRange.bound([n],[Ry(n)],!1,!0),i=0;return iE(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=Pe(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return nE(e).get(t).next((function(e){return e?px(e):null}))}}]),e}();function nE(e){return rx(e,"targets")}function rE(e){return rx(e,"targetGlobal")}function iE(e){return rx(e,"targetDocuments")}function aE(e,t){var n=Pe(e,2),r=n[0],i=n[1],a=Pe(t,2),o=a[0],u=a[1],s=Dy(r,o);return 0===s?Dy(i,u):s}var oE=function(){function e(t){Be(this,e),this.Sn=t,this.buffer=new bg(aE),this.Dn=0}return qe(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();aE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),uE=function(){function e(t,n,r){Be(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return qe(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;hy("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!og(e.t0)){e.next=12;break}hy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Zy(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),sE=function(){function e(t,n){Be(this,e),this.On=t,this.params=n}return qe(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return tg.resolve(dg.ot);var r=new oE(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(hy("LruGarbageCollector","Garbage collection skipped; disabled"),tg.resolve(Hx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(hy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Hx):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(hy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),fy()<=pi.DEBUG&&hy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),tg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),cE=function(){function e(t,n){Be(this,e),this.db=t,this.garbageCollector=function(e,t){return new sE(e,t)}(this,n)}return qe(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return lE(e,n)}},{key:"removeReference",value:function(e,t,n){return lE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return lE(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return Zx(e).Y((function(r){return Jx(e,r,t).next((function(e){return e&&(n=!0),tg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,My.min()),iE(e).delete([0,Nw(o.path)])}))}));i.push(s)}})).next((function(){return tg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return lE(e,t)}},{key:"Ln",value:function(e,t){var n,r=iE(e),i=dg.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=Pe(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==dg.ot&&t(new By(Dw(n)),i),i=s,n=u):i=dg.ot})).next((function(){i!==dg.ot&&t(new By(Dw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function lE(e,t){return iE(e).put(function(e,t){return{targetId:0,path:Nw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var fE=function(){function e(){Be(this,e),this.changes=new Cb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return qe(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ok.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?tg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),hE=function(){function e(t){Be(this,e),this.wt=t}return qe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return mE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return mE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ok.newInvalidDocument(t);return mE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(yE(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:ok.newInvalidDocument(t)};return mE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(yE(t))},(function(e,i){r={document:n.Kn(t,i),size:Qx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ob();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=Ob(),i=new yg(By.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,Qx(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return tg.resolve();var r=new bg(kE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(yE(r.first()),yE(r.last())),a=r.getIterator(),o=a.getNext();return mE(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=By.fromSegments([].concat(Ue(t.prefixPath),[t.collectionGroup,t.documentId]));o&&kE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(yE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),lx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mE(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Ob(),i=Pr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(By.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ob(),o=gE(t,n),u=gE(t,$y.max());return mE(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(By.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new pE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return vE(e).get("remoteDocumentGlobalKey").next((function(e){return yy(!!e),e}))}},{key:"qn",value:function(e,t){return vE(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=dw(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=By.fromSegments(t.noDocument.path),i=hx(t.noDocument.readTime);n=ok.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return my();var a=By.fromSegments(t.unknownDocument.path),o=hx(t.unknownDocument.version);n=ok.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ly(e[0],e[1]);return My.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(My.min()))return n}return ok.newInvalidDocument(e)}}]),e}();function dE(e){return new hE(e)}var pE=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Cb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return qe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new bg((function(e,t){return Dy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=cx(t.zn.wt,o);i=i.add(a.path.popLast());var c=Qx(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=cx(t.zn.wt,o.convertToNoDocument(My.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),tg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(fE);function vE(e){return rx(e,"remoteDocumentGlobal")}function mE(e){return rx(e,"remoteDocumentsV14")}function yE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function gE(e,t){var n=t.documentKey.path.toArray();return[e,lx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Dy(n[a],r[a]))return i;return(i=Dy(n.length,r.length))||((i=Dy(n[n.length-2],r[r.length-2]))||Dy(n[n.length-1],r[r.length-1]))}var bE=qe((function e(t,n){Be(this,e),this.overlayedDocument=t,this.mutatedFields=n})),wE=function(){function e(t,n,r,i){Be(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return qe(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&db(r.mutation,e,Eg.empty(),Ly.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Vb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vb(),i=Rb();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Db();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Rb();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Vb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ob(),a=Mb(),o=Mb();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof yb)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),db(o.mutation,t,o.mutation.getFieldMask(),Ly.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new bE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Mb(),i=new yg((function(e,t){return e-t})),a=Vb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Pr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Eg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Vb()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Lb();c.forEach((function(e){if(!a.has(e)){var n=fb(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return tg.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return By.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):tg.resolve(Rb()),u=-1,s=a;return o.next((function(t){return tg.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?tg.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Vb())})).next((function(e){return{batchId:u,changes:Pb(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new By(t)).next((function(e){var t=Db();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Db();return this.indexManager.getCollectionParents(e,i).next((function(o){return tg.forEach(o,(function(o){var u=function(e,t){return new Nk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,ok.newInvalidDocument(n)))}));var n=Db();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&db(a.mutation,i,Eg.empty(),Ly.now()),Bk(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):tg.resolve(ok.newInvalidDocument(t))}}]),e}(),xE=function(){function e(t){Be(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return qe(e,[{key:"getBundleMetadata",value:function(e,t){return tg.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:rw(n.createTime)}),tg.resolve()}},{key:"getNamedQuery",value:function(e,t){return tg.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:mx(e.bundledQuery),readTime:rw(e.readTime)}}(t)),tg.resolve()}}]),e}(),EE=function(){function e(){Be(this,e),this.overlays=new yg(By.comparator),this.Xn=new Map}return qe(e,[{key:"getOverlay",value:function(e,t){return tg.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Rb();return tg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),tg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),tg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Rb(),i=t.length+1,a=new By(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return tg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new yg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Rb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Rb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return tg.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ox(t,n));var a=this.Xn.get(t);void 0===a&&(a=Vb(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),_E=function(){function e(){Be(this,e),this.Zn=new bg(IE.ts),this.es=new bg(IE.ns)}return qe(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new IE(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new IE(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new By(new Fy([])),r=new IE(n,e),i=new IE(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new By(new Fy([])),n=new IE(t,e),r=new IE(t,e+1),i=Vb();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new IE(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),IE=function(){function e(t,n){Be(this,e),this.key=t,this.ls=n}return qe(e,null,[{key:"ts",value:function(e,t){return By.comparator(e.key,t.key)||Dy(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Dy(e.ls,t.ls)||By.comparator(e.key,t.key)}}]),e}(),SE=function(){function e(t,n){Be(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new bg(IE.ts)}return qe(e,[{key:"checkEmpty",value:function(e){return tg.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ix(i,t,n,r);this.mutationQueue.push(a);var o,u=Pr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new IE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return tg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return tg.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return tg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return tg.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return tg.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new IE(t,0),i=new IE(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),tg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bg(Dy);return t.forEach((function(e){var t=new IE(e,0),i=new IE(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),tg.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;By.isDocumentKey(i)||(i=i.child(""));var a=new IE(new By(i),0),o=new bg(Dy);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),tg.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;yy(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return tg.forEach(t.mutations,(function(i){var a=new IE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new IE(t,0),r=this.ds.firstAfterOrEqual(n);return tg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,tg.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),TE=function(){function e(t){Be(this,e),this.ps=t,this.docs=new yg(By.comparator),this.size=0}return qe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return tg.resolve(n?n.document.mutableCopy():ok.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ob();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ok.newInvalidDocument(e))})),tg.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ob(),i=new By(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Jy(Qy(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return tg.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){my()}},{key:"Is",value:function(e,t){return tg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new CE(this)}},{key:"getSize",value:function(e){return tg.resolve(this.size)}}]),e}(),CE=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this)).zn=e,r}return qe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),tg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(fE),NE=function(){function e(t){Be(this,e),this.persistence=t,this.Ts=new Cb((function(e){return ck(e)}),lk),this.lastRemoteSnapshotVersion=My.min(),this.highestTargetId=0,this.Es=0,this.As=new _E,this.targetCount=0,this.Rs=eE.An()}return qe(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),tg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return tg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return tg.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),tg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),tg.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new eE(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,tg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),tg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,tg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),tg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return tg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return tg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),tg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),tg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),tg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return tg.resolve(n)}},{key:"containsKey",value:function(e,t){return tg.resolve(this.As.containsKey(t))}}]),e}(),OE=function(){function e(t,n){var r=this;Be(this,e),this.bs={},this.overlays={},this.Ps=new dg(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new NE(this),this.indexManager=new Mx,this.remoteDocumentCache=new TE((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new sx(n),this.Ds=new xE(this.wt)}return qe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new EE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new SE(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;hy("MemoryPersistence","Starting transaction:",e);var i=new AE(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return tg.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),AE=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return qe(n)}(Xy),DE=function(){function e(t){Be(this,e),this.persistence=t,this.ks=new _E,this.Os=null}return qe(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw my()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),tg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),tg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),tg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tg.forEach(this.Fs,(function(r){var i=By.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,My.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return tg.or([function(){return tg.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),PE=function(){function e(t){Be(this,e),this.wt=t}return qe(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new ng("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pw,{unique:!0}),e.createObjectStore("documentMutations")}(e),RE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=tg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),RE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:My.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return tg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Qw});t.createIndex("collectionPathOverlayIndex",$w,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Jw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:jw});t.createIndex("documentKeyIndex",Fw),t.createIndex("collectionGroupIndex",Vw)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Kw}).createIndex("sequenceNumberIndex",Hw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ww}).createIndex("documentKeyIndex",Gw,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=Qx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return tg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return tg.forEach(r,(function(r){yy(r.userId===n.userId);var i=dx(t.wt,r);return Gx(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Fy(n),o=function(e){return[0,Nw(e)]}(a);r.push(t.get(o).next((function(n){return n?tg.resolve():function(n){return t.put({targetId:0,path:Nw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return tg.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:qw});var n=t.store("collectionParents"),r=new jx,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Nw(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Fy(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=Pe(e,3),r=(n[0],n[1]),a=(n[2],Dw(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=px(r),a=vx(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new By(Fy.fromString(i.document.name).popFirst(5)):i.noDocument?By.fromSegments(i.noDocument.path):i.unknownDocument?By.fromSegments(i.unknownDocument.path):my()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return tg.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=dE(this.wt),a=new OE(DE.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Vb();dx(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),tg.forEach(r,(function(e,r){var o=new sy(r),u=Ex.se(n.wt,o),s=a.getIndexManager(o),c=$x.se(o,n.wt,s,a.referenceDelegate);return new wE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new nx(t,dg.ot),e).next()}))}))}}]),e}();function RE(e){e.createObjectStore("targetDocuments",{keyPath:Bw}).createIndex("documentTargetsIndex",zw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Uw,{unique:!0}),e.createObjectStore("targetGlobal")}var LE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ME=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Be(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new by(ky.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cE(this,i),this.ei=n+"main",this.wt=new sx(s),this.ni=new rg(this.ei,this.Hs,new PE(this.wt)),this.Vs=new tE(this.referenceDelegate,this.wt),this.remoteDocumentCache=dE(this.wt),this.Ds=new bx,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&dy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return qe(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new by(ky.FAILED_PRECONDITION,LE);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new dg(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Dr(Or().mark((function n(r){return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Dr(Or().mark((function t(n){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return FE(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(og(t))return hy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return hy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return jE(e).get("owner").next((function(e){return tg.resolve(t.di(e))}))}},{key:"_i",value:function(e){return FE(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Dr(Or().mark((function e(){var t,n,r,i,a=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=rx(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return tg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Pr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?tg.resolve(!0):jE(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new by(ky.FAILED_PRECONDITION,LE);return!1}}return!(!t.networkEnabled||!t.inForeground)||FE(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&hy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Dr(Or().mark((function e(){var t=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new nx(e,dg.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return FE(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return $x.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Vx(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ex.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;hy("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?tx:14===i?ex:13===i?Zw:12===i?Xw:11===i?Yw:void my();return this.ni.runTransaction(e,o,u,(function(i){return a=new nx(i,r.Ps?r.Ps.next():dg.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw dy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new by(ky.FAILED_PRECONDITION,Yy);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return jE(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new by(ky.FAILED_PRECONDITION,LE)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jE(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=jE(e);return n.get("owner").next((function(e){return t.di(e)?(hy("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):tg.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(dy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Hr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return hy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return dy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(sd){dy("Failed to set zombie client id.",sd)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(sd){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return rg.V()}}]),e}();function jE(e){return rx(e,"owner")}function FE(e){return rx(e,"clientMetadata")}function VE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var UE=function(){function e(t,n,r,i){Be(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return qe(e,null,[{key:"Vi",value:function(t,n){var r,i=Vb(),a=Vb(),o=Pr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),BE=function(){function e(){Be(this,e),this.Si=!1}return qe(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return tg.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(My.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(fy()<=pi.DEBUG&&hy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Uk(t)),i.Mi(e,o,t,Gy(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new bg(qk(e));return t.forEach((function(t,r){Bk(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return fy()<=pi.DEBUG&&hy("QueryEngine","Using full collection scan to execute query:",Uk(t)),this.Di.getDocumentsMatchingQuery(e,t,$y.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),zE=function(){function e(t,n,r,i){Be(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new yg(Dy),this.Bi=new Cb((function(e){return ck(e)}),lk),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return qe(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wE(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function qE(e,t,n,r){return new zE(e,t,n,r)}function KE(e,t){return HE.apply(this,arguments)}function HE(){return HE=Dr(Or().mark((function e(t,n){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gy(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Vb(),s=Pr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Pr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Pr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Pr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}function WE(e,t){var n=gy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=tg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);yy(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Vb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function GE(e){var t=gy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function QE(e,t){var n=gy(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(_g.EMPTY_BYTE_STRING,My.min()).withLastLimboFreeSnapshotVersion(My.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=Ob(),s=Vb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($E(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(My.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return tg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function $E(e,t,n){var r=Vb(),i=Vb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ob();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(My.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):hy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function JE(e,t){var n=gy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function YE(e,t){var n=gy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,tg.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new ux(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function XE(e,t,n){return ZE.apply(this,arguments)}function ZE(){return ZE=Dr(Or().mark((function e(t,n,r){var i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gy(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),og(e.t1)){e.next=12;break}throw e.t1;case 12:hy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ZE.apply(this,arguments)}function e_(e,t,n){var r=gy(e),i=My.min(),a=Vb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=gy(e),i=r.Bi.get(n);return void 0!==i?tg.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Mk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:My.min(),n?a:Vb())})).next((function(e){return r_(r,zk(t),e),{documents:e,ji:a}}))}))}function t_(e,t){var n=gy(e),r=gy(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function n_(e,t){var n=gy(e),r=n.Li.get(t)||My.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Gy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return r_(n,t,e),e}))}function r_(e,t,n){var r=My.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function i_(e,t,n,r){return a_.apply(this,arguments)}function a_(){return a_=Dr(Or().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=gy(t),o=Vb(),u=Ob(),s=Pr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,YE(a,function(e){return Mk(Ak(Fy.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $E(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t){return u_.apply(this,arguments)}function u_(){return u_=Dr(Or().mark((function e(t,n){var r,i,a,o=arguments;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Vb(),e.next=3,YE(t,Mk(mx(n.bundledQuery)));case 3:return i=e.sent,a=gy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=rw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(_g.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),u_.apply(this,arguments)}function s_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function c_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function l_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var f_=function(){function e(t,n,r,i){Be(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return qe(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new by(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(dy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),h_=function(){function e(t,n,r){Be(this,e),this.targetId=t,this.state=n,this.error=r}return qe(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new by(i.error.code,i.error.message))),a?new e(t,i.state,r):(dy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),d_=function(){function e(t,n){Be(this,e),this.clientId=t,this.activeTargetIds=n}return qe(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Mg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(dy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),p_=function(){function e(t,n){Be(this,e),this.clientId=t,this.onlineState=n}return qe(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(dy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),v_=function(){function e(){Be(this,e),this.activeTargetIds=Bb()}return qe(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),m_=function(){function e(t,n,r,i,a){Be(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new yg(Dy),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=s_(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new v_),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return qe(e,[{key:"start",value:function(){var e=Dr(Or().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Pr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(s_(this.persistenceKey,i)))&&(o=d_.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Pr(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(l_(this.persistenceKey,e));if(n){var r=h_.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(l_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return hy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){hy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){hy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(hy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void dy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Dr(Or().mark((function e(){var r,i,a,o,u,s,c;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=dg.ot;if(null!=e)try{var n=JSON.parse(e);yy("number"==typeof n),t=n}catch(e){dy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==dg.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new f_(this.currentUser,e,t,n),i=c_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=c_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=l_(this.persistenceKey,e),i=new h_(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return d_.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return f_.Ji(new sy(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return h_.Ji(r,t)}},{key:"wr",value:function(e){return p_.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:hy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Bb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),y_=function(){function e(){Be(this,e),this.Fr=new v_,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return qe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new v_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),g_=function(){function e(){Be(this,e)}return qe(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),k_=function(){function e(){var t=this;Be(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return qe(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){hy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Pr(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){hy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Pr(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),b_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},w_=function(){function e(t){Be(this,e),this.jr=t.jr,this.Wr=t.Wr}return qe(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),x_=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return qe(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new oy;o.listenOnce(ty.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ey.NO_ERROR:var t=o.getResponseJson();hy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ey.TIMEOUT:hy("Connection",'RPC "'+e+'" timed out'),a(new by(ky.DEADLINE_EXCEEDED,"Request time out"));break;case ey.HTTP_ERROR:var n=o.getStatus();if(hy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ky).indexOf(t)>=0?t:ky.UNKNOWN}(r.status);a(new by(u,r.message))}else a(new by(ky.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new by(ky.UNAVAILABLE,"Connection failed."));break;default:my()}}finally{hy("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xm(),a=Zm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new iy({})),this.uo(o.initMessageHeaders,t,n),Kr()||Gr()||qr().indexOf("Electron/")>=0||Qr()||qr().indexOf("MSAppHost/")>=0||Wr()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");hy("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new w_({jr:function(e){l?hy("Connection","Not sending because WebChannel is closed:",e):(c||(hy("Connection","Opening WebChannel transport."),s.open(),c=!0),hy("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ay.EventType.OPEN,(function(){l||hy("Connection","WebChannel transport opened.")})),h(s,ay.EventType.CLOSE,(function(){l||(l=!0,hy("Connection","WebChannel transport closed"),f.eo())})),h(s,ay.EventType.ERROR,(function(e){l||(l=!0,py("Connection","WebChannel transport errored:",e),f.eo(new by(ky.UNAVAILABLE,"The operation could not be completed")))})),h(s,ay.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];yy(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){hy("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=wb[e];if(void 0!==t)return Tb(t)}(a),u=i.message;void 0===o&&(o=ky.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new by(o,u)),s.close()}else hy("Connection","WebChannel received:",n),f.no(n)}})),h(a,ny.STAT_EVENT,(function(e){e.stat===ry.PROXY?hy("Connection","Detected buffering proxy"):e.stat===ry.NOPROXY&&hy("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Be(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return qe(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);hy("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return hy("RestConnection","Received: ",e),e}),(function(t){throw py("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=b_[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function E_(){return"undefined"!=typeof window?window:null}function __(){return"undefined"!=typeof document?document:null}function I_(e){return new Zb(e,!0)}var S_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Be(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return qe(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&hy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),T_=function(){function e(t,n,r,i,a,o,u,s){Be(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new S_(t,n)}return qe(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===ky.RESOURCE_EXHAUSTED?(dy(n.toString()),dy("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===ky.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Pe(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new by(ky.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Dr(Or().mark((function t(){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return hy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(hy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),C_=function(e){Dt(n,e);var t=jt(n);function n(e,r,i,a,o,u){var s;return Be(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return qe(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:my()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(yy(void 0===t||"string"==typeof t),_g.fromBase64String(t||"")):(yy(void 0===t||t instanceof Uint8Array),_g.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ky.UNKNOWN:Tb(e.code);return new by(t,e.message||"")}(o);n=new Wb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=uw(e,s.document.name),l=rw(s.document.updateTime),f=new ik({mapValue:{fields:s.document.fields}}),h=ok.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Kb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=uw(e,v.document),y=v.readTime?rw(v.readTime):My.min(),g=ok.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Kb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=uw(e,b.document),x=b.removedTargetIds||[];n=new Kb([],x,w,null)}else{if(!("filter"in t))return my();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new Ib(_),S=E.targetId;n=new Hb(S,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return My.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?My.min():t.readTime?rw(t.readTime):My.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=lw(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=fk(r)?{documents:yw(e,r)}:{query:gw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tw(e,t.resumeToken):t.snapshotVersion.compareTo(My.min())>0&&(n.readTime=ew(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return my()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=lw(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(T_),N_=function(e){Dt(n,e);var t=jt(n);function n(e,r,i,a,o,u){var s;return Be(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return qe(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Ot(Ct(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(yy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(yy(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rw(e.updateTime):rw(t);return n.isEqual(My.min())&&(n=rw(t)),new ub(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rw(e.commitTime);return this.listener.Jo(n,t)}return yy(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=lw(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return vw(t.wt,e)}))};this.Mo(n)}}]),n}(T_),O_=function(e){Dt(n,e);var t=jt(n);function n(e,r,i,a){var o;return Be(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return qe(n,[{key:"tu",value:function(){if(this.Zo)throw new by(ky.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Pe(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ky.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new by(ky.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Pe(i,2),o=a[0],u=a[1];return r.bo.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ky.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new by(ky.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return qe((function e(){Be(this,e)}))}()),A_=function(){function e(t,n){Be(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return qe(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(dy(t),this.su=!1):hy("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),D_=qe((function e(t,n,r,i,a){var o=this;Be(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=q_(o),!e.t0){e.next=5;break}return hy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gy(t)).lu.add(4),e.next=4,L_(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,P_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new A_(r,i)}));function P_(e){return R_.apply(this,arguments)}function R_(){return R_=Dr(Or().mark((function e(t){var n,r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q_(t)){e.next=18;break}n=Pr(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),R_.apply(this,arguments)}function L_(e){return M_.apply(this,arguments)}function M_(){return M_=Dr(Or().mark((function e(t){var n,r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Pr(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),M_.apply(this,arguments)}function j_(e,t){var n=gy(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),z_(n)?B_(n):gI(n).Co()&&V_(n,t))}function F_(e,t){var n=gy(e),r=gI(n);n.hu.delete(t),r.Co()&&U_(n,t),0===n.hu.size&&(r.Co()?r.ko():q_(n)&&n._u.set("Unknown"))}function V_(e,t){e.wu.Nt(t.targetId),gI(e).Qo(t)}function U_(e,t){e.wu.Nt(t),gI(e).jo(t)}function B_(e){e.wu=new Qb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),gI(e).start(),e._u.iu()}function z_(e){return q_(e)&&!gI(e).Do()&&e.hu.size>0}function q_(e){return 0===gy(e).lu.size}function K_(e){e.wu=void 0}function H_(e){return W_.apply(this,arguments)}function W_(){return W_=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){V_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function G_(e,t){return Q_.apply(this,arguments)}function Q_(){return Q_=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K_(t),z_(t)?(t._u.uu(n),B_(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}function $_(e,t,n){return J_.apply(this,arguments)}function J_(){return J_=Dr(Or().mark((function e(t,n,r){var i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Wb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Dr(Or().mark((function e(t,n){var r,i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Pr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),hy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Y_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Kb?t.wu.Ut(n):n instanceof Hb?t.wu.zt(n):t.wu.Gt(n),r.isEqual(My.min())){e.next=29;break}return e.prev=14,e.next=17,GE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(_g.EMPTY_BYTE_STRING,n.snapshotVersion)),U_(e,t);var r=new ux(n.target,t,1,n.sequenceNumber);V_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),hy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Y_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),J_.apply(this,arguments)}function Y_(e,t,n){return X_.apply(this,arguments)}function X_(){return X_=Dr(Or().mark((function e(t,n,r){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(og(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,L_(t);case 5:t._u.set("Offline"),r||(r=function(){return GE(t.localStore)}),t.asyncQueue.enqueueRetryable(Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,P_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}function Z_(e,t){return t().catch((function(n){return Y_(e,n,t)}))}function eI(e){return tI.apply(this,arguments)}function tI(){return tI=Dr(Or().mark((function e(t){var n,r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gy(t),r=kI(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!nI(n)){e.next=19;break}return e.prev=3,e.next=6,JE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,rI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Y_(n,e.t0);case 17:e.next=2;break;case 19:iI(n)&&aI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),tI.apply(this,arguments)}function nI(e){return q_(e)&&e.au.length<10}function rI(e,t){e.au.push(t);var n=kI(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function iI(e){return q_(e)&&!kI(e).Do()&&e.au.length>0}function aI(e){kI(e).start()}function oI(e){return uI.apply(this,arguments)}function uI(){return uI=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kI(t).Xo();case 1:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function sI(e){return cI.apply(this,arguments)}function cI(){return cI=Dr(Or().mark((function e(t){var n,r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kI(t),r=Pr(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e,t,n){return fI.apply(this,arguments)}function fI(){return fI=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=ax.from(i,n,r),e.next=3,Z_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,eI(t);case 5:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return dI=Dr(Or().mark((function e(t,n){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&kI(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Dr(Or().mark((function e(t,n){var r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sb(i=n.code)||i===ky.ABORTED){e.next=7;break}return r=t.au.shift(),kI(t).No(),e.next=5,Z_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,eI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:iI(t)&&aI(t);case 5:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e,t){return vI.apply(this,arguments)}function vI(){return vI=Dr(Or().mark((function e(t,n){var r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=gy(t)).asyncQueue.verifyOperationInProgress(),hy("RemoteStore","RemoteStore received new credentials"),i=q_(r),r.lu.add(3),e.next=6,L_(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,P_(r);case 12:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e,t){return yI.apply(this,arguments)}function yI(){return yI=Dr(Or().mark((function e(t,n){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gy(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,P_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,L_(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e){return e.mu||(e.mu=function(e,t,n){var r=gy(e);return r.tu(),new C_(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:H_.bind(null,e),Jr:G_.bind(null,e),Go:$_.bind(null,e)}),e.fu.push(function(){var t=Dr(Or().mark((function t(n){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),z_(e)?B_(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:K_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function kI(e){return e.gu||(e.gu=function(e,t,n){var r=gy(e);return r.tu(),new N_(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:oI.bind(null,e),Jr:hI.bind(null,e),Yo:sI.bind(null,e),Jo:lI.bind(null,e)}),e.fu.push(function(){var t=Dr(Or().mark((function t(n){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,eI(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(hy("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var bI=function(){function e(t,n,r,i,a){Be(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return qe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new by(ky.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function wI(e,t){if(dy("AsyncQueue","".concat(t,": ").concat(e)),og(e))return new by(ky.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var xI=function(){function e(t){Be(this,e),this.comparator=t?function(e,n){return t(e,n)||By.comparator(e.key,n.key)}:function(e,t){return By.comparator(e.key,t.key)},this.keyedMap=Db(),this.sortedSet=new yg(this.comparator)}return qe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),EI=function(){function e(){Be(this,e),this.yu=new yg(By.comparator)}return qe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):my():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),_I=function(){function e(t,n,r,i,a,o,u,s){Be(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return qe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,xI.emptySet(n),a,r,i,!0,!1)}}]),e}(),II=qe((function e(){Be(this,e),this.Iu=void 0,this.listeners=[]})),SI=qe((function e(){Be(this,e),this.queries=new Cb((function(e){return Vk(e)}),Fk),this.onlineState="Unknown",this.Tu=new Set}));function TI(e,t){return CI.apply(this,arguments)}function CI(){return CI=Dr(Or().mark((function e(t,n){var r,i,a,o,u;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new II),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=wI(e.t0,"Initialization of query '".concat(Uk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&PI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),CI.apply(this,arguments)}function NI(e,t){return OI.apply(this,arguments)}function OI(){return OI=Dr(Or().mark((function e(t,n){var r,i,a,o,u;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function AI(e,t){var n,r=gy(e),i=!1,a=Pr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Pr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&PI(r)}function DI(e,t,n){var r=gy(e),i=r.queries.get(t);if(i){var a,o=Pr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function PI(e){e.Tu.forEach((function(e){e.next()}))}var RI=function(){function e(t,n,r){Be(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return qe(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Pr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new _I(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=_I.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),LI=function(){function e(t,n){Be(this,e),this.payload=t,this.byteLength=n}return qe(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),MI=function(){function e(t){Be(this,e),this.wt=t}return qe(e,[{key:"Wi",value:function(e){return uw(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?dw(this.wt,e.document,!1):ok.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return rw(e)}}]),e}(),jI=function(){function e(t,n,r){Be(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=FI(t)}return qe(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Fy.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new MI(this.wt),i=Pr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=Pr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Vb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Dr(Or().mark((function e(){var t,n,r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i_(this.localStore,new MI(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Pr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,o_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function FI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var VI=qe((function e(t){Be(this,e),this.key=t})),UI=qe((function e(t){Be(this,e),this.key=t})),BI=function(){function e(t,n){Be(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Vb(),this.mutatedKeys=Vb(),this.Lu=qk(t),this.Uu=new xI(this.Lu)}return qe(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new EI,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Bk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return my()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new _I(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new EI,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Vb(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new UI(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new VI(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Vb();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return _I.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),zI=qe((function e(t,n,r){Be(this,e),this.query=t,this.targetId=n,this.view=r})),qI=qe((function e(t){Be(this,e),this.key=t,this.Xu=!1})),KI=function(){function e(t,n,r,i,a,o){Be(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Cb((function(e){return Vk(e)}),Fk),this.ec=new Map,this.nc=new Set,this.sc=new yg(By.comparator),this.ic=new Map,this.rc=new _E,this.oc={},this.uc=new Map,this.cc=eE.Rn(),this.onlineState="Unknown",this.ac=void 0}return qe(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function HI(e,t){return WI.apply(this,arguments)}function WI(){return WI=Dr(Or().mark((function e(t,n){var r,i,a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FS(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,YE(r.localStore,Mk(n));case 8:return u=e.sent,r.isPrimaryClient&&j_(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,GI(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function GI(e,t,n,r){return QI.apply(this,arguments)}function QI(){return QI=Dr(Or().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Dr(Or().mark((function e(t,n,r,i){var a,o,u;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,e_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(pS(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,e_(t.localStore,n,!0);case 3:return a=e.sent,o=new BI(n,a.ji),u=o.Ku(a.documents),s=qb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),pS(t,r,c.zu),l=new zI(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function $I(e,t){return JI.apply(this,arguments)}function JI(){return JI=Dr(Or().mark((function e(t,n){var r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gy(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!Fk(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,XE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),F_(r.remoteStore,i.targetId),hS(r,i.targetId)})).catch(Zy);case 9:e.next=14;break;case 11:return hS(r,i.targetId),e.next=14,XE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function YI(e,t,n){return XI.apply(this,arguments)}function XI(){return XI=Dr(Or().mark((function e(t,n,r){var i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=VS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=gy(e),a=Ly.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Vb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Ob(),s=Vb();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Pr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=pb(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new yb(c.key,l,ak(l.value.mapValue),sb.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Pb(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new yg(Dy)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,yS(i,a.changes);case 9:return e.next=11,eI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=wI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),XI.apply(this,arguments)}function ZI(e,t){return eS.apply(this,arguments)}function eS(){return eS=Dr(Or().mark((function e(t,n){var r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gy(t),e.prev=1,e.next=4,QE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(yy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?yy(n.Xu):e.removedDocuments.size>0&&(yy(n.Xu),n.Xu=!1))})),e.next=8,yS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),eS.apply(this,arguments)}function tS(e,t,n){var r=gy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=gy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Pr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&PI(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function nS(e,t,n){return rS.apply(this,arguments)}function rS(){return rS=Dr(Or().mark((function e(t,n,r){var i,a,o,u,s,c;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=gy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new yg(By.comparator)).insert(o,ok.newNoDocument(o,My.min())),s=Vb().add(o),c=new zb(My.min(),new Map,new bg(Dy),u,s),e.next=9,ZI(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),mS(i),e.next=16;break;case 14:return e.next=16,XE(i.localStore,n,!1).then((function(){return hS(i,n,r)})).catch(Zy);case 16:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t){return aS.apply(this,arguments)}function aS(){return aS=Dr(Or().mark((function e(t,n){var r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gy(t),i=n.batch.batchId,e.prev=1,e.next=4,WE(r.localStore,n);case 4:return a=e.sent,fS(r,i,null),lS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,yS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),aS.apply(this,arguments)}function oS(e,t,n){return uS.apply(this,arguments)}function uS(){return uS=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gy(t),e.prev=1,e.next=4,function(e,t){var n=gy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return yy(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,fS(i,n,r),lS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,yS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),uS.apply(this,arguments)}function sS(e,t){return cS.apply(this,arguments)}function cS(){return cS=Dr(Or().mark((function e(t,n){var r,i,a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q_((r=gy(t)).remoteStore)||hy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=gy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=wI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),cS.apply(this,arguments)}function lS(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function fS(e,t,n){var r=gy(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function hS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Pr(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||dS(e,t)}))}function dS(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(F_(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),mS(e))}function pS(e,t,n){var r,i=Pr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof VI?(e.rc.addReference(a.key,t),vS(e,a)):a instanceof UI?(hy("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||dS(e,a.key)):my()}}catch(o){i.e(o)}finally{i.f()}}function vS(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(hy("SyncEngine","New document in limbo: "+n),e.nc.add(r),mS(e))}function mS(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new By(Fy.fromString(t)),r=e.cc.next();e.ic.set(r,new qI(n)),e.sc=e.sc.insert(n,r),j_(e.remoteStore,new ux(Mk(Ak(n.path)),r,2,dg.ot))}}function yS(e,t,n){return gS.apply(this,arguments)}function gS(){return gS=Dr(Or().mark((function e(t,n,r){var i,a,o,u;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gy(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=UE.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Dr(Or().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return tg.forEach(n,(function(t){return tg.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return tg.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),og(e.t0)){e.next=10;break}throw e.t0;case 10:hy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Pr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e,t){return bS.apply(this,arguments)}function bS(){return bS=Dr(Or().mark((function e(t,n){var r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=gy(t)).currentUser.isEqual(n)){e.next=11;break}return hy("SyncEngine","User change. New user:",n.toKey()),e.next=5,KE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new by(ky.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,yS(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e,t){var n=gy(e),r=n.ic.get(t);if(r&&r.Xu)return Vb().add(r.key);var i=Vb(),a=n.ec.get(t);if(!a)return i;var o,u=Pr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function xS(e,t){return ES.apply(this,arguments)}function ES(){return ES=Dr(Or().mark((function e(t,n){var r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gy(t),e.next=3,e_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&pS(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function _S(e,t){return IS.apply(this,arguments)}function IS(){return IS=Dr(Or().mark((function e(t,n){var r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gy(t),e.abrupt("return",n_(r.localStore,n).then((function(e){return yS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}function SS(e,t,n,r){return TS.apply(this,arguments)}function TS(){return TS=Dr(Or().mark((function e(t,n,r,i){var a,o;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gy(t),e.next=3,function(e,t){var n=gy(e),r=gy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):tg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,eI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(fS(a,n,i||null),lS(a,n),function(e,t){gy(gy(e).mutationQueue).In(t)}(a.localStore,n)):my();case 11:return e.next=13,yS(a,o);case 13:e.next=16;break;case 15:hy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function CS(e,t){return NS.apply(this,arguments)}function NS(){return NS=Dr(Or().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(FS(r=gy(t)),VS(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,OS(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,mI(r.remoteStore,!0);case 9:o=Pr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,j_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return hS(r,t),XE(r.localStore,t,!0)})),F_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,OS(r,c);case 21:return function(e){var t=gy(e);t.ic.forEach((function(e,n){F_(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new yg(By.comparator)}(r),r.ac=!1,e.next=25,mI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function OS(e,t,n){return AS.apply(this,arguments)}function AS(){return AS=Dr(Or().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=gy(t),a=[],o=[],u=Pr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,YE(i.localStore,Mk(f[0]));case 11:l=e.sent,h=Pr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,xS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,t_(i.localStore,c);case 36:return y=e.sent,e.next=39,YE(i.localStore,y);case 39:return l=e.sent,e.next=42,GI(i,DS(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),AS.apply(this,arguments)}function DS(e){return Ok(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function PS(e){var t=gy(e);return gy(gy(t.localStore).persistence).Ri()}function RS(e,t,n,r){return LS.apply(this,arguments)}function LS(){return LS=Dr(Or().mark((function e(t,n,r,i){var a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=gy(t)).ac){e.next=3;break}return e.abrupt("return",void hy("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,n_(a.localStore,zk(o[0]));case 10:return u=e.sent,s=zb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,yS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,XE(a.localStore,n,!0);case 17:return hS(a,n,i),e.abrupt("break",20);case 19:my();case 20:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e,t,n){return jS.apply(this,arguments)}function jS(){return jS=Dr(Or().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=FS(t)).ac){e.next=45;break}a=Pr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return hy("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,t_(i.localStore,u);case 12:return s=e.sent,e.next=15,YE(i.localStore,s);case 15:return c=e.sent,e.next=18,GI(i,DS(s),c.targetId,!1);case 18:j_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Pr(r),e.prev=30,h=Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,XE(i.localStore,t,!1).then((function(){F_(i.remoteStore,t),hS(i,t)})).catch(Zy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),jS.apply(this,arguments)}function FS(e){var t=gy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nS.bind(null,t),t.Zu.Go=AI.bind(null,t.eventManager),t.Zu.lc=DI.bind(null,t.eventManager),t}function VS(e){var t=gy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oS.bind(null,t),t}function US(e,t,n){var r=gy(e);(function(){var e=Dr(Or().mark((function e(t,n,r){var i,a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=gy(e),r=rw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(FI(i)),a=new jI(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,yS(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=gy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(py("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var BS=function(){function e(){Be(this,e),this.synchronizeTabs=!1}return qe(e,[{key:"initialize",value:function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=I_(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return qE(this.persistence,new BE,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new OE(DE.Ms,this.wt)}},{key:"dc",value:function(e){return new y_}},{key:"terminate",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zS=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return qe(n,[{key:"initialize",value:function(){var e=Dr(Or().mark((function e(t){var r=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(Ct(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,VS(this.yc.syncEngine);case 6:return e.next=8,eI(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return qE(this.persistence,new BE,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new uE(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new hg(t,this.persistence);return new fg(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=VE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wx.withCacheSize(this.cacheSizeBytes):Wx.DEFAULT;return new ME(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,E_(),__(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new y_}}]),n}(BS),qS=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return qe(n,[{key:"initialize",value:function(){var e=Dr(Or().mark((function e(t){var r,i=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(Ct(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof m_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:SS.bind(null,r),Or:RS.bind(null,r),Mr:MS.bind(null,r),Ri:PS.bind(null,r),Nr:_S.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CS(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=E_();if(!m_.V(t))throw new by(ky.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=VE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new m_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(zS),KS=function(){function e(){Be(this,e)}return qe(e,[{key:"initialize",value:function(){var e=Dr(Or().mark((function e(t,n){var r=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return tS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kS.bind(null,this.syncEngine),e.next=12,mI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new SI}},{key:"createDatastore",value:function(e){var t,n=I_(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new x_(t));return function(e,t,n,r){return new O_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return tS(o.syncEngine,e,0)},a=k_.V()?new k_:new g_,new D_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new KI(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gy(t),hy("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,L_(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function HS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Dr(Or().mark((function r(){var i;return Or().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var WS=function(){function e(t){Be(this,e),this.observer=t,this.muted=!1}return qe(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),GS=function(){function e(t,n){var r=this;Be(this,e),this.Ec=t,this.wt=n,this.metadata=new wy,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return qe(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Dr(Or().mark((function e(){var t,n,r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new LI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Dr(Or().mark((function e(){var t,n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Dr(Or().mark((function e(){var t,n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QS=function(){function e(t){Be(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return qe(e,[{key:"lookup",value:function(){var e=Dr(Or().mark((function e(t){var n,r=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new by(ky.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Dr(Or().mark((function e(t,n){var r,i,a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gy(t),i=lw(r.wt)+"/documents",a={documents:n.map((function(e){return ow(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=pw(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());yy(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Eb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Dr(Or().mark((function e(){var t,n=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=By.fromPath(t);n.mutations.push(new _b(r,n.precondition(r)))})),e.next=7,function(){var e=Dr(Or().mark((function e(t,n){var r,i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gy(t),i=lw(r.wt)+"/documents",a={writes:n.map((function(e){return vw(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw my();t=My.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new by(ky.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sb.updateTime(t):sb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(My.min()))throw new by(ky.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sb.updateTime(t)}return sb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),$S=function(){function e(t,n,r,i,a){Be(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new S_(this.asyncQueue,"transaction_retry")}return qe(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Dr(Or().mark((function t(){var n,r;return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new QS(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Rg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Sb(t)}return!1}}]),e}(),JS=function(){function e(t,n,r,i){var a=this;Be(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sy.UNAUTHENTICATED,this.clientId=Ay.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return hy("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return qe(e,[{key:"getConfiguration",value:function(){var e=Dr(Or().mark((function e(){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new by(ky.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new wy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Dr(Or().mark((function n(){var r;return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=wI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function YS(e,t){return XS.apply(this,arguments)}function XS(){return XS=Dr(Or().mark((function e(t,n){var r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),hy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,KE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function ZS(e,t){return eT.apply(this,arguments)}function eT(){return eT=Dr(Or().mark((function e(t,n){var r,i;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,tT(t);case 3:return r=e.sent,hy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return pI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return pI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),eT.apply(this,arguments)}function tT(e){return nT.apply(this,arguments)}function nT(){return nT=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return hy("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,YS(t,new BS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e){return iT.apply(this,arguments)}function iT(){return iT=Dr(Or().mark((function e(t){return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return hy("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ZS(t,new KS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e){return tT(e).then((function(e){return e.persistence}))}function oT(e){return tT(e).then((function(e){return e.localStore}))}function uT(e){return rT(e).then((function(e){return e.remoteStore}))}function sT(e){return rT(e).then((function(e){return e.syncEngine}))}function cT(e){return lT.apply(this,arguments)}function lT(){return lT=Dr(Or().mark((function e(t){var n,r;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=HI.bind(null,n.syncEngine),r.onUnlisten=$I.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wy;return e.asyncQueue.enqueueAndForget(Dr(Or().mark((function i(){return Or().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new WS({next:function(a){t.enqueueAndForget((function(){return NI(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new by(ky.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new by(ky.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new RI(Ak(n.path),a,{includeMetadataChanges:!0,Du:!0});return TI(e,o)},i.next=3,cT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function hT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wy;return e.asyncQueue.enqueueAndForget(Dr(Or().mark((function i(){return Or().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new WS({next:function(n){t.enqueueAndForget((function(){return NI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new by(ky.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new RI(n,a,{includeMetadataChanges:!0,Du:!0});return TI(e,o)},i.next=3,cT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var dT=new Map;function pT(e,t,n){if(!n)throw new by(ky.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function vT(e,t,n,r){if(!0===t&&!0===r)throw new by(ky.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function mT(e){if(!By.isDocumentKey(e))throw new by(ky.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function yT(e){if(By.isDocumentKey(e))throw new by(ky.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":my()}function kT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new by(ky.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gT(e);throw new by(ky.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function bT(e,t){if(t<=0)throw new by(ky.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var wT=function(){function e(t){var n;if(Be(this,e),void 0===t.host){if(void 0!==t.ssl)throw new by(ky.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new by(ky.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,vT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return qe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),xT=function(){function e(t,n,r){Be(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,t instanceof Pg?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new by(ky.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pg(e.options.projectId)}(t))}return qe(e,[{key:"app",get:function(){if(!this._app)throw new by(ky.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new by(ky.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ey;switch(e.type){case"gapi":var t=e.client;return yy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ty(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new by(ky.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=dT.get(e);t&&(hy("ComponentProvider","Removing Datastore"),dT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ET(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=kT(e,xT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&py("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=sy.MOCK_USER;else{o=zr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new by(ky.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new sy(s)}e._authCredentials=new _y(new xy(o,u))}}var _T=function(){function e(t,n,r){Be(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return qe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ST(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),IT=function(){function e(t,n,r){Be(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return qe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ST=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this,e,r,Ak(i)))._path=i,a.type="collection",a}return qe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new _T(this.firestore,null,new By(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(IT);function TT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ci(e),pT("collection","path",t),e instanceof xT){var a=Fy.fromString.apply(Fy,[t].concat(r));return yT(a),new ST(e,null,a)}if(!(e instanceof _T||e instanceof ST))throw new by(ky.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Fy.fromString.apply(Fy,[t].concat(r)));return yT(o),new ST(e.firestore,null,o)}function CT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ci(e),1===arguments.length&&(t=Ay.I()),pT("doc","path",t),e instanceof xT){var a=Fy.fromString.apply(Fy,[t].concat(r));return mT(a),new _T(e,null,new By(a))}if(!(e instanceof _T||e instanceof ST))throw new by(ky.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Fy.fromString.apply(Fy,[t].concat(r)));return mT(o),new _T(e.firestore,e instanceof ST?e.converter:null,new By(o))}function NT(e,t){return e=ci(e),t=ci(t),(e instanceof _T||e instanceof ST)&&(t instanceof _T||t instanceof ST)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function OT(e,t){return e=ci(e),t=ci(t),e instanceof IT&&t instanceof IT&&e.firestore===t.firestore&&Fk(e._query,t._query)&&e.converter===t.converter}var AT=function(){function e(){var t=this;Be(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new S_(this,"async_queue_retry"),this.Kc=function(){var e=__();e&&hy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=__();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return qe(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=__();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new wy;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Dr(Or().mark((function e(){var t=this;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),og(e.t0)){e.next=12;break}throw e.t0;case 12:hy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=bI.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&my()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Pr(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Pr(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function DT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Pr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var PT=function(){function e(){Be(this,e),this._progressObserver={},this._taskCompletionResolver=new wy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return qe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),RT=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new AT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return qe(n,[{key:"_terminate",value:function(){return this._firestoreClient||MT(this),this._firestoreClient.terminate()}}]),n}(xT);function LT(e){return e._firestoreClient||MT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function MT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Dg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new JS(e._authCredentials,e._appCheckCredentials,e._queue,r)}function jT(e,t,n){var r=new wy;return e.asyncQueue.enqueue(Dr(Or().mark((function i(){return Or().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,YS(e,n);case 3:return i.next=5,ZS(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ky.FAILED_PRECONDITION||e.code===ky.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function FT(e){return function(e){return e.asyncQueue.enqueue(Dr(Or().mark((function t(){var n,r;return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,aT(e);case 2:return n=t.sent,t.next=5,uT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=gy(e);return t.lu.delete(0),P_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(LT(e=kT(e,RT)))}function VT(e){return function(e){return e.asyncQueue.enqueue(Dr(Or().mark((function t(){var n,r;return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,aT(e);case 2:return n=t.sent,t.next=5,uT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gy(t)).lu.add(0),e.next=4,L_(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(LT(e=kT(e,RT)))}function UT(e,t){var n=LT(e=kT(e,RT)),r=new PT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new GS(e,t)}(function(e,t){if(e instanceof Uint8Array)return HS(e,t);if(e instanceof ArrayBuffer)return HS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,I_(t));e.asyncQueue.enqueueAndForget(Dr(Or().mark((function t(){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=US,t.next=3,sT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function BT(e,t){return function(e,t){return e.asyncQueue.enqueue(Dr(Or().mark((function n(){return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=gy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,oT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(LT(e=kT(e,RT)),t).then((function(t){return t?new IT(e,null,t.query):null}))}function zT(e){if(e._initialized||e._terminated)throw new by(ky.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var qT=function(){function e(){Be(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new by(ky.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uy(n)}return qe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var KT=function(){function e(t){Be(this,e),this._byteString=t}return qe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_g.fromBase64String(t))}catch(t){throw new by(ky.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_g.fromUint8Array(t))}}]),e}(),HT=qe((function e(t){Be(this,e),this._methodName=t})),WT=function(){function e(t,n){if(Be(this,e),!isFinite(t)||t<-90||t>90)throw new by(ky.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new by(ky.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return qe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Dy(this._lat,e._lat)||Dy(this._long,e._long)}}]),e}(),GT=/^__.*__$/,QT=function(){function e(t,n,r){Be(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return qe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yb(e,this.data,this.fieldMask,t,this.fieldTransforms):new mb(e,this.data,t,this.fieldTransforms)}}]),e}(),$T=function(){function e(t,n,r){Be(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return qe(e,[{key:"toMutation",value:function(e,t){return new yb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function JT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw my()}}var YT=function(){function e(t,n,r,i,a,o){Be(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return qe(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return yC(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(JT(this.Zc)&&GT.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),XT=function(){function e(t,n,r){Be(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||I_(t)}return qe(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new YT({Zc:e,methodName:t,ca:n,path:Uy.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function ZT(e){var t=e._freezeSettings(),n=I_(e._databaseId);return new XT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);dC("Data must be an object, but it was:",o,r);var u,s,c=fC(r,o);if(a.merge)u=new Eg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Pr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=pC(t,d,n);if(!o.contains(p))throw new by(ky.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));gC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Eg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new QT(new ik(c),u,s)}var tC=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(HT);function nC(e,t,n){return new YT({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var rC=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n,[{key:"_toFieldTransform",value:function(e){return new ob(e.path,new Xk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(HT),iC=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e)).ha=r,i}return qe(n,[{key:"_toFieldTransform",value:function(e){var t=nC(this,e,!0),n=this.ha.map((function(e){return lC(e,t)})),r=new Zk(n);return new ob(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(HT),aC=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e)).ha=r,i}return qe(n,[{key:"_toFieldTransform",value:function(e){var t=nC(this,e,!0),n=this.ha.map((function(e){return lC(e,t)})),r=new tb(n);return new ob(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(HT),oC=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e)).la=r,i}return qe(n,[{key:"_toFieldTransform",value:function(e){var t=new rb(e.wt,Gk(e.wt,this.la));return new ob(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(HT);function uC(e,t,n,r){var i=e.aa(1,t,n);dC("Data must be an object, but it was:",i,r);var a=[],o=ik.empty();vg(r,(function(e,r){var u=mC(t,e,n);r=ci(r);var s=i.ia(u);if(r instanceof tC)a.push(u);else{var c=lC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Eg(a);return new $T(o,u,i.fieldTransforms)}function sC(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[pC(t,r,n)],s=[i];if(a.length%2!=0)throw new by(ky.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(pC(t,a[c])),s.push(a[c+1]);for(var l=[],f=ik.empty(),h=u.length-1;h>=0;--h)if(!gC(l,u[h])){var d=u[h],p=s[h];p=ci(p);var v=o.ia(d);if(p instanceof tC)l.push(d);else{var m=lC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Eg(l);return new $T(f,y,o.fieldTransforms)}function cC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lC(n,e.aa(r?4:3,t))}function lC(e,t){if(hC(e=ci(e)))return dC("Unsupported field value:",t,e),fC(e,t);if(e instanceof HT)return function(e,t){if(!JT(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Pr(e);try{for(a.s();!(n=a.n()).done;){var o=lC(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ci(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gk(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ly.fromDate(e);return{timestampValue:ew(t.wt,n)}}if(e instanceof Ly){var r=new Ly(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ew(t.wt,r)}}if(e instanceof WT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof KT)return{bytesValue:tw(t.wt,e._byteString)};if(e instanceof _T){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:iw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(gT(e)))}(e,t)}function fC(e,t){var n={};return mg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vg(e,(function(e,r){var i=lC(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function hC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ly||e instanceof WT||e instanceof KT||e instanceof _T||e instanceof HT)}function dC(e,t,n){if(!hC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=gT(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function pC(e,t,n){if((t=ci(t))instanceof qT)return t._internalPath;if("string"==typeof t)return mC(e,t);throw yC("Field path arguments must be of type string or ",e,!1,void 0,n)}var vC=new RegExp("[~\\*/\\[\\]]");function mC(e,t,n){if(t.search(vC)>=0)throw yC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Rr(qT,Ue(t.split(".")))._internalPath}catch(r){throw yC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function yC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new by(ky.INVALID_ARGUMENT,u+e+s)}function gC(e,t){return e.some((function(e){return e.isEqual(t)}))}var kC=function(){function e(t,n,r,i,a){Be(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return qe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new _T(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(wC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),bC=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n,[{key:"data",value:function(){return Ot(Ct(n.prototype),"data",this).call(this)}}]),n}(kC);function wC(e,t){return"string"==typeof t?mC(e,t):t instanceof qT?t._internalPath:t._delegate._internalPath}var xC=function(){function e(t,n){Be(this,e),this.hasPendingWrites=t,this.fromCache=n}return qe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),EC=function(e){Dt(n,e);var t=jt(n);function n(e,r,i,a,o,u){var s;return Be(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return qe(n,[{key:"exists",value:function(){return Ot(Ct(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new _C(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(wC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(kC),_C=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ot(Ct(n.prototype),"data",this).call(this,e)}}]),n}(EC),IC=function(){function e(t,n,r,i){Be(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xC(i.hasPendingWrites,i.fromCache),this.query=r}return qe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new _C(n._firestore,n._userDataWriter,r.key,r,new xC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new by(ky.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new _C(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new _C(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:SC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function SC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return my()}}function TC(e,t){return e instanceof EC&&t instanceof EC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof IC&&t instanceof IC&&e._firestore===t._firestore&&OT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function CC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new by(ky.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var NC=qe((function e(){Be(this,e)}));function OC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var AC=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return qe(n,[{key:"_apply",value:function(e){var t=ZT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new by(ky.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){zC(o,a);var s,c=[],l=Pr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(BC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=BC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||zC(o,a),u=cC(n,"where",o,"in"===a||"not-in"===a);var h=vk.create(i,a,u);return function(e,t){if(t.ht()){var n=Pk(e);if(null!==n&&!n.isEqual(t.field))throw new by(ky.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Dk(e);null!==r&&qC(e,t.field,r)}var i=function(e,t){var n,r=Pr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new by(ky.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new by(ky.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new IT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Nk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(NC);var DC=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return qe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new by(ky.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new by(ky.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ik(t,n);return function(e,t){if(null===Dk(e)){var n=Pk(e);null!==n&&qC(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new IT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Nk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(NC);var PC=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return qe(n,[{key:"_apply",value:function(e){return new IT(e.firestore,e.converter,jk(e._query,this.ma,this.ga))}}]),n}(NC);var RC=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return qe(n,[{key:"_apply",value:function(e){var t=UC(e,this.type,this.ya,this.pa);return new IT(e.firestore,e.converter,function(e,t){return new Nk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(NC);function LC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RC("startAt",t,!0)}function MC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RC("startAfter",t,!1)}var jC=function(e){Dt(n,e);var t=jt(n);function n(e,r,i){var a;return Be(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return qe(n,[{key:"_apply",value:function(e){var t=UC(e,this.type,this.ya,this.pa);return new IT(e.firestore,e.converter,function(e,t){return new Nk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(NC);function FC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jC("endBefore",t,!1)}function VC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jC("endAt",t,!0)}function UC(e,t,n,r){if(n[0]=ci(n[0]),n[0]instanceof kC)return function(e,t,n,r,i){if(!r)throw new by(ky.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Pr(Lk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Wg(t,r.key));else{var c=r.data.field(s.field);if(Ng(c))throw new by(ky.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new by(ky.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new _k(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ZT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new by(ky.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new by(ky.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Rk(e)&&-1!==c.indexOf("/"))throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Fy.fromString(c));if(!By.isDocumentKey(l))throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new By(l);u.push(Wg(t,f))}else{var h=cC(n,r,c);u.push(h)}}return new _k(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function BC(e,t,n){if("string"==typeof(n=ci(n))){if(""===n)throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rk(t)&&-1!==n.indexOf("/"))throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Fy.fromString(n));if(!By.isDocumentKey(r))throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wg(e,new By(r))}if(n instanceof _T)return Wg(e,n._key);throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gT(n),"."))}function zC(e,t){if(!Array.isArray(e)||0===e.length)throw new by(ky.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new by(ky.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function qC(e,t,n){if(!n.isEqual(t))throw new by(ky.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var KC={maxAttempts:5},HC=function(){function e(){Be(this,e)}return qe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw my()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return vg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new WT(Tg(e.latitude),Tg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Og(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ag(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Sg(e);return new Ly(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Fy.fromString(e);yy(Cw(n));var r=new Pg(n.get(1),n.get(3)),i=new By(n.popFirst(5));return r.isEqual(t)||dy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function WC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var GC=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this)).firestore=e,r}return qe(n,[{key:"convertBytes",value:function(e){return new KT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new _T(this.firestore,null,t)}}]),n}(HC),QC=function(){function e(t,n){Be(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ZT(t)}return qe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=$C(e,this._firestore),i=WC(r.converter,t,n),a=eC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,sb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=$C(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ci(t))||t instanceof qT?sC(this._dataReader,"WriteBatch.update",i._key,t,n,o):uC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=$C(e,this._firestore);return this._mutations=this._mutations.concat(new Eb(t._key,sb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new by(ky.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function $C(e,t){if((e=ci(e)).firestore!==t)throw new by(ky.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var JC=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this)).firestore=e,r}return qe(n,[{key:"convertBytes",value:function(e){return new KT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new _T(this.firestore,null,t)}}]),n}(HC);function YC(e){e=kT(e,_T);var t=kT(e.firestore,RT),n=LT(t),r=new JC(t);return function(e,t){var n=new wy;return e.asyncQueue.enqueueAndForget(Dr(Or().mark((function r(){return Or().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Dr(Or().mark((function e(t,n,r){var i,a;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=gy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new by(ky.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=wI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,oT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new EC(t,r,e._key,n,new xC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function XC(e){e=kT(e,IT);var t=kT(e.firestore,RT),n=LT(t),r=new JC(t);return function(e,t){var n=new wy;return e.asyncQueue.enqueueAndForget(Dr(Or().mark((function r(){return Or().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Dr(Or().mark((function e(t,n,r){var i,a,o,u,s;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,e_(t,n,!0);case 3:i=e.sent,a=new BI(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=wI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,oT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new IC(t,r,e,n)}))}function ZC(e,t,n){e=kT(e,_T);var r=kT(e.firestore,RT),i=WC(e.converter,t,n);return rN(r,[eC(ZT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sb.none())])}function eN(e,t,n){e=kT(e,_T);for(var r=kT(e.firestore,RT),i=ZT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return rN(r,[("string"==typeof(t=ci(t))||t instanceof qT?sC(i,"updateDoc",e._key,t,n,o):uC(i,"updateDoc",e._key,t)).toMutation(e._key,sb.exists(!0))])}function tN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ci(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||DT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(DT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof _T)l=kT(e.firestore,RT),f=Ak(e._key.path),c={next:function(t){n[s]&&n[s](iN(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=kT(e,IT);l=kT(p.firestore,RT),f=p._query;var v=new JC(l);c={next:function(e){n[s]&&n[s](new IC(l,v,p,e))},error:n[s+1],complete:n[s+2]},CC(e._query)}return function(e,t,n,r){var i=new WS(r),a=new RI(t,i,n);return e.asyncQueue.enqueueAndForget(Dr(Or().mark((function t(){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=TI,t.next=3,cT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Dr(Or().mark((function t(){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=NI,t.next=3,cT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(LT(l),f,h,c)}function nN(e,t){return function(e,t){var n=new WS(t);return e.asyncQueue.enqueueAndForget(Dr(Or().mark((function t(){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gy(e).Tu.add(t),t.next()},t.next=3,cT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Dr(Or().mark((function t(){return Or().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gy(e).Tu.delete(t)},t.next=3,cT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(LT(e=kT(e,RT)),DT(t)?t:{next:t})}function rN(e,t){return function(e,t){var n=new wy;return e.asyncQueue.enqueueAndForget(Dr(Or().mark((function r(){return Or().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=YI,r.next=3,sT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(LT(e),t)}function iN(e,t,n){var r=n.docs.get(t._key),i=new JC(e);return new EC(e,i,t._key,r,new xC(n.hasPendingWrites,n.fromCache),t.converter)}var aN=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e,r))._firestore=e,i}return qe(n,[{key:"get",value:function(e){var t=this,r=$C(e,this._firestore),i=new JC(this._firestore);return Ot(Ct(n.prototype),"get",this).call(this,e).then((function(e){return new EC(t._firestore,i,r._key,e._document,new xC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Be(this,e),this._firestore=t,this._transaction=n,this._dataReader=ZT(t)}return qe(e,[{key:"get",value:function(e){var t=this,n=$C(e,this._firestore),r=new GC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return my();var i=e[0];if(i.isFoundDocument())return new kC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new kC(t._firestore,r,n._key,null,n.converter);throw my()}))}},{key:"set",value:function(e,t,n){var r=$C(e,this._firestore),i=WC(r.converter,t,n),a=eC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=$C(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ci(t))||t instanceof qT?sC(this._dataReader,"Transaction.update",i._key,t,n,o):uC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=$C(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function oN(e,t,n){e=kT(e,RT);var r=Object.assign(Object.assign({},KC),n);return function(e){if(e.maxAttempts<1)throw new by(ky.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new wy;return e.asyncQueue.enqueueAndForget(Dr(Or().mark((function i(){var a;return Or().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return rT(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new $S(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(LT(e),(function(n){return t(new aN(e,n))}),r)}function uN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iC("arrayUnion",t)}function sN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){cy=e}(ra),Ji(new li("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new RT(i,new Iy(e.getProvider("auth-internal")),new Ny(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ca(uy,"3.4.10",e),ca(uy,"3.4.10","esm2017")}();function cN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new by("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lN(){if("undefined"===typeof Uint8Array)throw new by("unimplemented","Uint8Arrays are not available in this environment.")}function fN(){if("undefined"==typeof atob)throw new by("unimplemented","Blobs are unavailable in Firestore in this environment.")}var hN=function(){function e(t){Be(this,e),this._delegate=t}return qe(e,[{key:"toBase64",value:function(){return fN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return lN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return fN(),new e(KT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return lN(),new e(KT.fromUint8Array(t))}}]),e}();function dN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Pr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var pN=function(){function e(){Be(this,e)}return qe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){zT(e=kT(e,RT));var n=LT(e),r=e._freezeSettings(),i=new KS;return jT(n,i,new zS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){zT(e=kT(e,RT));var t=LT(e),n=e._freezeSettings(),r=new KS;return jT(t,r,new qS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new by(ky.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new wy;return e._queue.enqueueAndForgetEvenWhileRestricted(Dr(Or().mark((function n(){return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rg.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,rg.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(VE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),vN=function(){function e(t,n,r){var i=this;Be(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Pg||(this._appCompat=t)}return qe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||py("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ET(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return FT(this._delegate)}},{key:"disableNetwork",value:function(){return VT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&vT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new wy;return e.asyncQueue.enqueueAndForget(Dr(Or().mark((function n(){return Or().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=sS,n.next=3,sT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(LT(e=kT(e,RT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return nN(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new by("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new NN(this,TT(this._delegate,e))}catch(vR){throw wN(vR,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new bN(this,CT(this._delegate,e))}catch(vR){throw wN(vR,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new SN(this,function(e,t){if(e=kT(e,xT),pT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new by(ky.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new IT(e,null,function(e){return new Nk(Fy.emptyPath(),e)}(t))}(this._delegate,e))}catch(vR){throw wN(vR,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return oN(this._delegate,(function(n){return e(new yN(t,n))}))}},{key:"batch",value:function(){var e=this;return LT(this._delegate),new gN(new QC(this._delegate,(function(t){return rN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return UT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return BT(this._delegate,e).then((function(e){return e?new SN(t,e):null}))}}]),e}(),mN=function(e){Dt(n,e);var t=jt(n);function n(e){var r;return Be(this,n),(r=t.call(this)).firestore=e,r}return qe(n,[{key:"convertBytes",value:function(e){return new hN(new KT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return bN.forKey(t,this.firestore,null)}}]),n}(HC);var yN=function(){function e(t,n){Be(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new mN(t)}return qe(e,[{key:"get",value:function(e){var t=this,n=ON(e);return this._delegate.get(n).then((function(e){return new _N(t._firestore,new EC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=ON(e);return n?(cN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ON(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ON(e);return this._delegate.delete(t),this}}]),e}(),gN=function(){function e(t){Be(this,e),this._delegate=t}return qe(e,[{key:"set",value:function(e,t,n){var r=ON(e);return n?(cN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ON(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ON(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),kN=function(){function e(t,n,r){Be(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return qe(e,[{key:"fromFirestore",value:function(e,t){var n=new _C(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new IN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new mN(t),n),i.set(n,a)),a}}]),e}();kN.INSTANCES=new WeakMap;var bN=function(){function e(t,n){Be(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mN(t)}return qe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new NN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new NN(this.firestore,TT(this._delegate,e))}catch(vR){throw wN(vR,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ci(e))instanceof _T&&NT(this._delegate,e)}},{key:"set",value:function(e,t){t=cN("DocumentReference.set",t);try{return t?ZC(this._delegate,e,t):ZC(this._delegate,e)}catch(vR){throw wN(vR,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?eN(this._delegate,e):eN.apply(void 0,[this._delegate,e,t].concat(r))}catch(vR){throw wN(vR,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return rN(kT(e.firestore,RT),[new Eb(e._key,sb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xN(n),a=EN(n,(function(t){return new _N(e.firestore,new EC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return tN(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?YC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kT(e,_T);var t=kT(e.firestore,RT);return fT(LT(t),e._key,{source:"server"}).then((function(n){return iN(t,e,n)}))}(this._delegate):function(e){e=kT(e,_T);var t=kT(e.firestore,RT);return fT(LT(t),e._key).then((function(n){return iN(t,e,n)}))}(this._delegate),t.then((function(e){return new _N(n.firestore,new EC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new by("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new _T(n._delegate,r,new By(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new _T(n._delegate,r,t))}}]),e}();function wN(e,t,n){return e.message=e.message.replace(t,n),e}function xN(e){var t,n=Pr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!dN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function EN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=dN(e[0])?e[0]:dN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _N=function(){function e(t,n){Be(this,e),this._firestore=t,this._delegate=n}return qe(e,[{key:"ref",get:function(){return new bN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return TC(this._delegate,e._delegate)}}]),e}(),IN=function(e){Dt(n,e);var t=jt(n);function n(){return Be(this,n),t.apply(this,arguments)}return qe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||my()}(void 0!==t),t}}]),n}(_N),SN=function(){function e(t,n){Be(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mN(t)}return qe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,OC(this._delegate,function(e,t,n){var r=t,i=wC("where",e);return new AC(i,r,n)}(t,n,r)))}catch(vR){throw wN(vR,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,OC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=wC("orderBy",e);return new DC(n,t)}(t,n)))}catch(vR){throw wN(vR,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,OC(this._delegate,function(e){return bT("limit",e),new PC("limit",e,"F")}(t)))}catch(vR){throw wN(vR,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,OC(this._delegate,function(e){return bT("limitToLast",e),new PC("limitToLast",e,"L")}(t)))}catch(vR){throw wN(vR,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,OC(this._delegate,LC.apply(void 0,arguments)))}catch(vR){throw wN(vR,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,OC(this._delegate,MC.apply(void 0,arguments)))}catch(vR){throw wN(vR,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,OC(this._delegate,FC.apply(void 0,arguments)))}catch(vR){throw wN(vR,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,OC(this._delegate,VC.apply(void 0,arguments)))}catch(vR){throw wN(vR,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return OT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?XC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=kT(e,IT);var t=kT(e.firestore,RT),n=LT(t),r=new JC(t);return hT(n,e._query,{source:"server"}).then((function(n){return new IC(t,r,e,n)}))}(this._delegate):function(e){e=kT(e,IT);var t=kT(e.firestore,RT),n=LT(t),r=new JC(t);return CC(e._query),hT(n,e._query).then((function(n){return new IC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new CN(n.firestore,new IC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xN(n),a=EN(n,(function(t){return new CN(e.firestore,new IC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return tN(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),TN=function(){function e(t,n){Be(this,e),this._firestore=t,this._delegate=n}return qe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new IN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),CN=function(){function e(t,n){Be(this,e),this._firestore=t,this._delegate=n}return qe(e,[{key:"query",get:function(){return new SN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new IN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new TN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new IN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return TC(this._delegate,e._delegate)}}]),e}(),NN=function(e){Dt(n,e);var t=jt(n);function n(e,r){var i;return Be(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return qe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new bN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new bN(this.firestore,void 0===e?CT(this._delegate):CT(this._delegate,e))}catch(vR){throw wN(vR,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=kT(e.firestore,RT),r=CT(e),i=WC(e.converter,t);return rN(n,[eC(ZT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new bN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return NT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(kN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(SN);function ON(e){return kT(e,_T)}var AN=function(){function e(){Be(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Rr(qT,n)}return qe(e,[{key:"isEqual",value:function(e){return(e=ci(e))instanceof qT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Uy.keyField().canonicalString())}}]),e}(),DN=function(){function e(t){Be(this,e),this._delegate=t}return qe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new rC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new tC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=uN.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=sN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new oC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),PN={Firestore:vN,GeoPoint:WT,Timestamp:Ly,Blob:hN,Transaction:yN,WriteBatch:gN,DocumentReference:bN,DocumentSnapshot:_N,Query:SN,QueryDocumentSnapshot:IN,QuerySnapshot:CN,CollectionReference:NN,FieldPath:AN,FieldValue:DN,setLogLevel:function(e){!function(e){ly.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new li("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},PN)))}(e,(function(e,t){return new vN(e,t,new pN)})),e.registerVersion("@firebase/firestore-compat","0.1.19")}(Pa);var RN,LN=Pa.initializeApp({apiKey:"AIzaSyANylwh1D3EWssMGTCQtLdHBlN6p7Dsf-A",authDomain:"tourism-67457.firebaseapp.com",projectId:"tourism-67457",storageBucket:"tourism-67457.appspot.com",messagingSenderId:"221032035153",appId:"1:221032035153:web:8bba911f2a021ded319970"}).firestore(),MN=LN.collection("Citys"),jN=LN.collection("Applications"),FN=LN.collection("Reviews"),VN=new Uint8Array(16);function UN(){if(!RN&&!(RN="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return RN(VN)}var BN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var zN=function(e){return"string"===typeof e&&BN.test(e)},qN=[],KN=0;KN<256;++KN)qN.push((KN+256).toString(16).substr(1));var HN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(qN[e[t+0]]+qN[e[t+1]]+qN[e[t+2]]+qN[e[t+3]]+"-"+qN[e[t+4]]+qN[e[t+5]]+"-"+qN[e[t+6]]+qN[e[t+7]]+"-"+qN[e[t+8]]+qN[e[t+9]]+"-"+qN[e[t+10]]+qN[e[t+11]]+qN[e[t+12]]+qN[e[t+13]]+qN[e[t+14]]+qN[e[t+15]]).toLowerCase();if(!zN(n))throw TypeError("Stringified UUID is invalid");return n};var WN=function(e,t,n){var r=(e=e||{}).random||(e.rng||UN)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return HN(r)},GN=function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,MN.get();case 3:return t=e.sent,e.abrupt("return",{status:"SUCCESS",items:t.docs.map((function(e){return e.data()}))});case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),QN=function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=WN(),e.next=4,jN.doc(n).set(o({id:n},t));case 4:return e.sent,e.abrupt("return",{status:"ADDED"});case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),$N=function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FN.get();case 3:return t=e.sent,e.abrupt("return",{status:"SUCCESS",items:t.docs.map((function(e){return e.data()}))});case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),JN=function(){var e=Dr(Or().mark((function e(t){var n;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=WN(),e.next=4,FN.doc(n).set(o({id:n},t));case 4:return e.sent,e.abrupt("return",{status:"ADDED",item:o({id:n},t)});case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),YN=["bsPrefix","className","variant","as"],XN=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,u=void 0===a?"img":a,c=s(e,YN),f=I(n,"card-img");return(0,x.jsx)(u,o({ref:t,className:l()(i?"".concat(f,"-").concat(i):f,r)},c))}));XN.displayName="CardImg";var ZN=XN,eO=["bsPrefix","className","as"],tO=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,u=void 0===a?"div":a,c=s(e,eO),f=I(r,"card-header"),h=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:f}}),[f]);return(0,x.jsx)(Cn.Provider,{value:h,children:(0,x.jsx)(u,o(o({ref:n},c),{},{className:l()(i,f)}))})}));tO.displayName="CardHeader";var nO=tO,rO=["bsPrefix","className","bg","text","border","body","children","as"],iO=St("h5"),aO=St("h6"),oO=C("card-body"),uO=C("card-title",{Component:iO}),sO=C("card-subtitle",{Component:aO}),cO=C("card-link",{Component:"a"}),lO=C("card-text",{Component:"p"}),fO=C("card-footer"),hO=C("card-img-overlay"),dO=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,u=e.border,c=e.body,f=e.children,h=e.as,d=void 0===h?"div":h,p=s(e,rO),v=I(n,"card");return(0,x.jsx)(d,o(o({ref:t},p),{},{className:l()(r,v,i&&"bg-".concat(i),a&&"text-".concat(a),u&&"border-".concat(u)),children:c?(0,x.jsx)(oO,{children:f}):f}))}));dO.displayName="Card",dO.defaultProps={body:!1};var pO=Object.assign(dO,{Img:ZN,Title:uO,Subtitle:sO,Body:oO,Link:cO,Text:lO,Header:nO,Footer:fO,ImgOverlay:hO}),vO=function(e){var t=e.info,n=t.city,r=t.urlImage,i=t.desc;return(0,x.jsxs)(pO,{style:{width:"18rem"},children:[(0,x.jsx)(pO.Img,{variant:"top",src:r}),(0,x.jsxs)(pO.Body,{children:[(0,x.jsx)(pO.Title,{children:n}),(0,x.jsx)(pO.Text,{children:i})]})]})},mO=["bsPrefix","variant","animation","size","as","className"],yO=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=e.size,u=e.as,c=void 0===u?"div":u,f=e.className,h=s(e,mO);n=I(n,"spinner");var d="".concat(n,"-").concat(i);return(0,x.jsx)(c,o(o({ref:t},h),{},{className:l()(f,d,a&&"".concat(d,"-").concat(a),r&&"text-".concat(r))}))}));yO.displayName="Spinner";var gO=yO,kO=function(){return(0,x.jsx)(gO,{animation:"border",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},bO=function(){var e=Pe((0,t.useState)([]),2),n=e[0],r=e[1],i=Pe((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,GN();case 3:"SUCCESS"===(null===(t=e.sent)||void 0===t?void 0:t.status)&&r(t.items),o(!1);case 6:case"end":return e.stop()}}),e)})))()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0440\u0435\u0433\u0438\u043e\u043d\u044b"}),(0,x.jsx)("hr",{}),n.length?(0,x.jsx)("div",{className:"regions",children:n.map((function(e){return(0,x.jsx)(vO,{info:e},e.id)}))}):"",a?(0,x.jsx)(kO,{}):""]})},wO=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],xO=(vt().string,vt().bool,vt().bool,vt().bool,vt().bool,t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.fluid,a=e.rounded,u=e.roundedCircle,c=e.thumbnail,f=s(e,wO);return n=I(n,"img"),(0,x.jsx)("img",o(o({ref:t},f),{},{className:l()(r,i&&"".concat(n,"-fluid"),a&&"rounded",u&&"rounded-circle",c&&"".concat(n,"-thumbnail"))}))})));xO.displayName="Image",xO.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var EO=xO,_O=function(e){switch((new Date).getMonth()+1){case 6:case 7:case 8:return e.summer;case 12:case 1:case 2:return e.winter;default:return e.other}};var IO=function(e){var n=e.info,r=n.name,i=n.rating,a=n.desc,o=n.urlImage,u=n.price,s=Pe((0,t.useState)("desc"),2),c=s[0],l=s[1];return(0,x.jsxs)(pO,{children:[(0,x.jsx)(pO.Header,{children:(0,x.jsxs)(Un,{variant:"tabs",defaultActiveKey:"#first",children:[(0,x.jsx)(Un.Item,{children:(0,x.jsx)(Un.Link,{onClick:function(){return l("desc")},className:"desc"===c?"active":"",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})}),(0,x.jsx)(Un.Item,{children:(0,x.jsx)(Un.Link,{onClick:function(){return l("image")},className:"image"===c?"active":"",children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})})]})}),"image"===c?(0,x.jsx)(pO.Body,{children:(0,x.jsx)(EO,{style:{maxHeight:"500px"},rounded:!0,fluid:!0,src:o})}):(0,x.jsxs)(pO.Body,{children:[(0,x.jsxs)(pO.Title,{children:[r,"  ",new Array(i).fill(1).map((function(e){return"\u2b50"}))]}),(0,x.jsx)(pO.Text,{children:a})]}),(0,x.jsx)(pO.Footer,{children:(0,x.jsxs)(pO.Text,{children:["\u041e\u0422 ",_O(u)," \u0420\u0423\u0411."]})})]})},SO=t.createContext({}),TO=["id","bsPrefix","className","type","isValid","isInvalid","as"],CO=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,u=e.type,c=void 0===u?"checkbox":u,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.as,m=void 0===v?"input":v,y=s(e,TO),g=(0,t.useContext)(SO).controlId;return i=I(i,"form-check-input"),(0,x.jsx)(m,o(o({},y),{},{ref:n,type:c,id:r||g,className:l()(a,i,h&&"is-valid",p&&"is-invalid")}))}));CO.displayName="FormCheckInput";var NO=CO,OO=t.createContext(null);OO.displayName="InputGroupContext";var AO=OO,DO=["bsPrefix","size","hasValidation","className","as"],PO=C("input-group-text",{Component:"span"}),RO=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.hasValidation,u=e.className,c=e.as,f=void 0===c?"div":c,h=s(e,DO);r=I(r,"input-group");var d=(0,t.useMemo)((function(){return{}}),[]);return(0,x.jsx)(AO.Provider,{value:d,children:(0,x.jsx)(f,o(o({ref:n},h),{},{className:l()(u,r,i&&"".concat(r,"-").concat(i),a&&"has-validation")}))})}));RO.displayName="InputGroup";var LO=Object.assign(RO,{Text:PO,Radio:function(e){return(0,x.jsx)(PO,{children:(0,x.jsx)(NO,o({type:"radio"},e))})},Checkbox:function(e){return(0,x.jsx)(PO,{children:(0,x.jsx)(NO,o({type:"checkbox"},e))})}}),MO=t.createContext(null),jO=Object.prototype.hasOwnProperty;function FO(e,t,n){var r,i=Pr(e.keys());try{for(i.s();!(r=i.n()).done;)if(VO(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function VO(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&VO(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=Pr(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=FO(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var u,s=Pr(e);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=FO(t,i)))return!1;if(!VO(r[1],t.get(i)))return!1}}catch(c){s.e(c)}finally{s.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(jO.call(e,n)&&++r&&!jO.call(t,n))return!1;if(!(n in t)||!VO(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var UO=function(e){var n=Me();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function BO(e){return e.split("-")[0]}function zO(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function qO(e){return e instanceof zO(e).Element||e instanceof Element}function KO(e){return e instanceof zO(e).HTMLElement||e instanceof HTMLElement}function HO(e){return"undefined"!==typeof ShadowRoot&&(e instanceof zO(e).ShadowRoot||e instanceof ShadowRoot)}var WO=Math.max,GO=Math.min,QO=Math.round;function $O(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(KO(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=QO(n.width)/o||1),a>0&&(i=QO(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function JO(e){var t=$O(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function YO(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&HO(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function XO(e){return e?(e.nodeName||"").toLowerCase():null}function ZO(e){return zO(e).getComputedStyle(e)}function eA(e){return["table","td","th"].indexOf(XO(e))>=0}function tA(e){return((qO(e)?e.ownerDocument:e.document)||window.document).documentElement}function nA(e){return"html"===XO(e)?e:e.assignedSlot||e.parentNode||(HO(e)?e.host:null)||tA(e)}function rA(e){return KO(e)&&"fixed"!==ZO(e).position?e.offsetParent:null}function iA(e){for(var t=zO(e),n=rA(e);n&&eA(n)&&"static"===ZO(n).position;)n=rA(n);return n&&("html"===XO(n)||"body"===XO(n)&&"static"===ZO(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&KO(e)&&"fixed"===ZO(e).position)return null;var n=nA(e);for(HO(n)&&(n=n.host);KO(n)&&["html","body"].indexOf(XO(n))<0;){var r=ZO(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function aA(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function oA(e,t,n){return WO(e,GO(t,n))}function uA(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function sA(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var cA="top",lA="bottom",fA="right",hA="left",dA="auto",pA=[cA,lA,fA,hA],vA="start",mA="end",yA="viewport",gA="popper",kA=pA.reduce((function(e,t){return e.concat([t+"-"+vA,t+"-"+mA])}),[]),bA=[].concat(pA,[dA]).reduce((function(e,t){return e.concat([t,t+"-"+vA,t+"-"+mA])}),[]),wA=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var xA={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=BO(n.placement),s=aA(u),c=[hA,fA].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return uA("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:sA(e,pA))}(i.padding,n),f=JO(a),h="y"===s?cA:hA,d="y"===s?lA:fA,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=iA(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,x=oA(k,w,b),E=s;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&YO(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function EA(e){return e.split("-")[1]}var _A={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IA(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=hA,b=cA,w=window;if(c){var x=iA(n),E="clientHeight",_="clientWidth";if(x===zO(n)&&"static"!==ZO(x=tA(n)).position&&"absolute"===u&&(E="scrollHeight",_="scrollWidth"),i===cA||(i===hA||i===fA)&&a===mA)b=lA,v-=(f&&x===w&&w.visualViewport?w.visualViewport.height:x[E])-r.height,v*=s?1:-1;if(i===hA||(i===cA||i===lA)&&a===mA)k=fA,d-=(f&&x===w&&w.visualViewport?w.visualViewport.width:x[_])-r.width,d*=s?1:-1}var I,S=Object.assign({position:u},c&&_A),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:QO(t*r)/r||0,y:QO(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=T.x,v=T.y,s?Object.assign({},S,((I={})[b]=g?"0":"",I[k]=y?"0":"",I.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",I)):Object.assign({},S,((t={})[b]=g?v+"px":"",t[k]=y?d+"px":"",t.transform="",t))}var SA={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:BO(t.placement),variation:EA(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,IA(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,IA(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},TA={passive:!0};var CA={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=zO(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,TA)})),u&&s.addEventListener("resize",n.update,TA),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,TA)})),u&&s.removeEventListener("resize",n.update,TA)}},data:{}},NA={left:"right",right:"left",bottom:"top",top:"bottom"};function OA(e){return e.replace(/left|right|bottom|top/g,(function(e){return NA[e]}))}var AA={start:"end",end:"start"};function DA(e){return e.replace(/start|end/g,(function(e){return AA[e]}))}function PA(e){var t=zO(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function RA(e){return $O(tA(e)).left+PA(e).scrollLeft}function LA(e){var t=ZO(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function MA(e){return["html","body","#document"].indexOf(XO(e))>=0?e.ownerDocument.body:KO(e)&&LA(e)?e:MA(nA(e))}function jA(e,t){var n;void 0===t&&(t=[]);var r=MA(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=zO(r),o=i?[a].concat(a.visualViewport||[],LA(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(jA(nA(o)))}function FA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function VA(e,t){return t===yA?FA(function(e){var t=zO(e),n=tA(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+RA(e),y:u}}(e)):qO(t)?function(e){var t=$O(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):FA(function(e){var t,n=tA(e),r=PA(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=WO(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=WO(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+RA(e),s=-r.scrollTop;return"rtl"===ZO(i||n).direction&&(u+=WO(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(tA(e)))}function UA(e,t,n){var r="clippingParents"===t?function(e){var t=jA(nA(e)),n=["absolute","fixed"].indexOf(ZO(e).position)>=0&&KO(e)?iA(e):e;return qO(n)?t.filter((function(e){return qO(e)&&YO(e,n)&&"body"!==XO(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=VA(e,n);return t.top=WO(r.top,t.top),t.right=GO(r.right,t.right),t.bottom=GO(r.bottom,t.bottom),t.left=WO(r.left,t.left),t}),VA(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function BA(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?BO(i):null,o=i?EA(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case cA:t={x:u,y:n.y-r.height};break;case lA:t={x:u,y:n.y+n.height};break;case fA:t={x:n.x+n.width,y:s};break;case hA:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?aA(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case vA:t[c]=t[c]-(n[l]/2-r[l]/2);break;case mA:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function zA(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,u=n.rootBoundary,s=void 0===u?yA:u,c=n.elementContext,l=void 0===c?gA:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=uA("number"!==typeof p?p:sA(p,pA)),m=l===gA?"reference":gA,y=e.rects.popper,g=e.elements[h?m:l],k=UA(qO(g)?g:g.contextElement||tA(e.elements.popper),o,s),b=$O(e.elements.reference),w=BA({reference:b,element:y,strategy:"absolute",placement:i}),x=FA(Object.assign({},y,w)),E=l===gA?x:b,_={top:k.top-E.top+v.top,bottom:E.bottom-k.bottom+v.bottom,left:k.left-E.left+v.left,right:E.right-k.right+v.right},I=e.modifiersData.offset;if(l===gA&&I){var S=I[i];Object.keys(_).forEach((function(e){var t=[fA,lA].indexOf(e)>=0?1:-1,n=[cA,lA].indexOf(e)>=0?"y":"x";_[e]+=S[n]*t}))}return _}var qA={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=BO(m),g=s||(y===m||!p?[OA(m)]:function(e){if(BO(e)===dA)return[];var t=OA(e);return[DA(e),t,DA(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(BO(n)===dA?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?bA:s,l=EA(r),f=l?u?kA:kA.filter((function(e){return EA(e)===l})):pA,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=zA(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[BO(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,E=!0,_=k[0],I=0;I<k.length;I++){var S=k[I],T=BO(S),C=EA(S)===vA,N=[cA,lA].indexOf(T)>=0,O=N?"width":"height",A=zA(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=N?C?fA:hA:C?lA:cA;b[O]>w[O]&&(D=OA(D));var P=OA(D),R=[];if(a&&R.push(A[T]<=0),u&&R.push(A[D]<=0,A[P]<=0),R.every((function(e){return e}))){_=S,E=!1;break}x.set(S,R)}if(E)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function KA(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function HA(e){return[cA,fA,lA,hA].some((function(t){return e[t]>=0}))}var WA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=bA.reduce((function(e,n){return e[n]=function(e,t,n){var r=BO(e),i=[hA,cA].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[hA,fA].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var GA={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=zA(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=BO(t.placement),g=EA(t.placement),k=!g,b=aA(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,_=t.rects.popper,I="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,O="y"===b?cA:hA,A="y"===b?lA:fA,D="y"===b?"height":"width",P=x[b],R=P+m[O],L=P-m[A],M=d?-_[D]/2:0,j=g===vA?E[D]:_[D],F=g===vA?-_[D]:-E[D],V=t.elements.arrow,U=d&&V?JO(V):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[O],q=B[A],K=oA(0,E[D],U[D]),H=k?E[D]/2-M-K-z-S.mainAxis:j-K-z-S.mainAxis,W=k?-E[D]/2+M+K+q+S.mainAxis:F+K+q+S.mainAxis,G=t.elements.arrow&&iA(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,$=null!=(N=null==T?void 0:T[b])?N:0,J=P+W-$,Y=oA(d?GO(R,P+H-$-Q):R,P,d?WO(L,J):L);x[b]=Y,C[b]=Y-P}if(u){var X,Z="x"===b?cA:hA,ee="x"===b?lA:fA,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[cA,hA].indexOf(y),oe=null!=(X=null==T?void 0:T[w])?X:0,ue=ae?re:te-E[ne]-_[ne]-oe+S.altAxis,se=ae?te+E[ne]+_[ne]-oe-S.altAxis:ie,ce=d&&ae?function(e,t,n){var r=oA(e,t,n);return r>n?n:r}(ue,te,se):oA(d?ue:re,te,d?se:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function QA(e,t,n){void 0===n&&(n=!1);var r=KO(t),i=KO(t)&&function(e){var t=e.getBoundingClientRect(),n=QO(t.width)/e.offsetWidth||1,r=QO(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=tA(t),o=$O(e,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==XO(t)||LA(a))&&(u=function(e){return e!==zO(e)&&KO(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:PA(e);var t}(t)),KO(t)?((s=$O(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=RA(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function $A(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function JA(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var YA={placement:"bottom",modifiers:[],strategy:"absolute"};function XA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function ZA(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?YA:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},YA,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:qO(e)?jA(e):e.contextElement?jA(e.contextElement):[],popper:jA(t)};var l=function(e){var t=$A(e);return wA.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(XA(t,n)){i.rects={reference:QA(t,iA(n),"fixed"===i.options.strategy),popper:JO(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:JA((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!XA(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var eD=ZA({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=zA(t,{elementContext:"reference"}),u=zA(t,{altBoundary:!0}),s=KA(o,r),c=KA(u,i,a),l=HA(s),f=HA(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=BA({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},SA,CA,WA,qA,GA,xA]}),tD=["enabled","placement","strategy","modifiers"];function nD(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var rD={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},iD={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},aD=[];var oD=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.enabled,a=void 0===i||i,o=r.placement,u=void 0===o?"bottom":o,s=r.strategy,c=void 0===s?"absolute":s,l=r.modifiers,f=void 0===l?aD:l,h=nD(r,tD),d=(0,t.useRef)(f),p=(0,t.useRef)(),v=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.update()}),[]),m=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.forceUpdate()}),[]),y=UO((0,t.useState)({placement:u,update:v,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),g=Pe(y,2),k=g[0],b=g[1],w=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),b({state:t,styles:n,attributes:r,update:v,forceUpdate:m,placement:t.placement})}}}),[v,m,b]),x=(0,t.useMemo)((function(){return VO(d.current,f)||(d.current=f),d.current}),[f]);return(0,t.useEffect)((function(){p.current&&a&&p.current.setOptions({placement:u,strategy:c,modifiers:[].concat(Ue(x),[w,rD])})}),[c,u,w,a,x]),(0,t.useEffect)((function(){if(a&&null!=e&&null!=n)return p.current=eD(e,n,Object.assign({},h,{placement:u,strategy:c,modifiers:[].concat(Ue(x),[iD,w])})),function(){null!=p.current&&(p.current.destroy(),p.current=void 0,b((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,n]),k},uD=n(391),sD=n.n(uD),cD=function(){};function lD(e){return 0===e.button}function fD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var hD=function(e){return e&&("current"in e?e.current:e)},dD={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var pD=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cD,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,u=(0,t.useRef)(!1),s=(0,t.useRef)(!1),c=(0,t.useCallback)((function(t){var n=hD(e);sD()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),u.current=!n||fD(t)||!lD(t)||!!Le(n,t.target)||s.current,s.current=!1}),[e]),l=ke((function(t){var n=hD(e);n&&Le(n,t.target)&&(s.current=!0)})),f=ke((function(e){u.current||n(e)}));(0,t.useEffect)((function(){if(!i&&null!=e){var t=D(hD(e)),n=(t.defaultView||window).event,r=null;dD[o]&&(r=W(t,dD[o],l,!0));var a=W(t,o,c,!0),u=W(t,o,(function(e){e!==n?f(e):n=void 0})),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return W(e,"mousemove",cD)}))),function(){null==r||r(),a(),u(),s.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function vD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function mD(e){var t,n,r,i,a=e.enabled,o=e.enableEvents,u=e.placement,s=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,h=e.arrowElement,d=e.popperConfig,p=void 0===d?{}:d,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object.assign({},p,{placement:u,enabled:a,strategy:l?"fixed":p.strategy,modifiers:vD(Object.assign({},v,{eventListeners:{enabled:o},preventOverflow:Object.assign({},v.preventOverflow,{options:f?Object.assign({padding:f},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!h,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:h})}),flip:Object.assign({enabled:!!s},v.flip)}))})}var yD=["children"];var gD=function(){};function kD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(MO),r=On(),i=Pe(r,2),a=i[0],o=i[1],u=(0,t.useRef)(!1),s=e.flip,c=e.offset,l=e.rootCloseEvent,f=e.fixed,h=void 0!==f&&f,d=e.placement,p=e.popperConfig,v=void 0===p?{}:p,m=e.enableEventListeners,y=void 0===m||m,g=e.usePopper,k=void 0===g?!!n:g,b=null==(null==n?void 0:n.show)?!!e.show:n.show;b&&!u.current&&(u.current=!0);var w=function(e){null==n||n.toggle(!1,e)},x=n||{},E=x.placement,_=x.setMenu,I=x.menuElement,S=x.toggleElement,T=oD(S,I,mD({placement:d||E||"bottom-start",enabled:k,enableEvents:null==y?b:y,offset:c,flip:s,fixed:h,arrowElement:a,popperConfig:v})),C=Object.assign({ref:_||gD,"aria-labelledby":null==S?void 0:S.id},T.attributes.popper,{style:T.styles.popper}),N={show:b,placement:E,hasShown:u.current,toggle:null==n?void 0:n.toggle,popper:k?T:null,arrowProps:k?Object.assign({ref:o},T.attributes.arrow,{style:T.styles.arrow}):{}};return pD(I,w,{clickTrigger:l,disabled:!b}),[C,N]}function bD(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,yD),r=Pe(kD(n),2),i=r[0],a=r[1];return(0,x.jsx)(x.Fragment,{children:t(i,a)})}bD.displayName="DropdownMenu",bD.defaultProps={usePopper:!0};var wD=bD;function xD(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var ED={};xD(ED,"SSRProvider",(function(){return SD})),xD(ED,"useSSRSafeId",(function(){return CD})),xD(ED,"useIsSSR",(function(){return ND}));var _D={prefix:String(Math.round(1e10*Math.random())),current:0},ID=t.createContext(_D);function SD(e){var n=(0,t.useContext)(ID),r=(0,t.useMemo)((function(){return{prefix:n===_D?"":"".concat(n.prefix,"-").concat(++n.current),current:0}}),[n]);return t.createElement(ID.Provider,{value:r},e.children)}var TD=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);function CD(e){var n=(0,t.useContext)(ID);return n!==_D||TD||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((function(){return e||"react-aria".concat(n.prefix,"-").concat(++n.current)}),[e])}function ND(){var e=(0,t.useContext)(ID)!==_D,n=Pe((0,t.useState)(e),2),r=n[0],i=n[1];return"undefined"!==typeof window&&e&&(0,t.useLayoutEffect)((function(){i(!1)}),[]),r}var OD=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},AD=function(){};function DD(){var e=CD(),n=(0,t.useContext)(MO)||{},r=n.show,i=void 0!==r&&r,a=n.toggle,o=void 0===a?AD:a,u=n.setToggle,s=n.menuElement,c=(0,t.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:u||AD,onClick:c,"aria-expanded":!!i};return s&&OD(s)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function PD(e){var t=e.children,n=Pe(DD(),2),r=n[0],i=n[1];return(0,x.jsx)(x.Fragment,{children:t(r,i)})}PD.displayName="DropdownToggle";var RD=PD,LD=["eventKey","disabled","onClick","active","as"];function MD(e){var n=e.key,r=e.href,a=e.active,o=e.disabled,u=e.onClick,s=(0,t.useContext)(h),c=((0,t.useContext)(hn)||{}).activeKey,l=f(n,r),d=null==a&&null!=n?f(c)===l:a;return[i({onClick:ke((function(e){o||(null==u||u(e),s&&!e.isPropagationStopped()&&s(l,e))})),"aria-disabled":o||void 0,"aria-selected":d},Ke("dropdown-item"),""),{isActive:d}]}var jD=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,u=void 0===o?yn:o,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,LD),c=Pe(MD({key:n,href:s.href,disabled:r,onClick:i,active:a}),1)[0];return(0,x.jsx)(u,Object.assign({},s,{ref:t},c))}));jD.displayName="DropdownItem";var FD=jD;function VD(){var e=ln(),n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function UD(e){var n=e.defaultShow,r=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,u=void 0===o?"* [".concat(Ke("dropdown-item"),"]"):o,s=e.focusFirstItemOnShow,c=e.placement,l=void 0===c?"bottom-start":c,f=e.children,d=$e(),p=Pe(m(r,n,a),2),v=p[0],y=p[1],g=Pe(VD(),2),k=g[0],b=g[1],w=k.current,E=Pe(VD(),2),_=E[0],I=E[1],S=_.current,T=Fe(v),C=(0,t.useRef)(null),N=(0,t.useRef)(!1),O=(0,t.useContext)(h),A=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;y(e,{originalEvent:t,source:n})}),[y]),D=ke((function(e,t){null==i||i(e,t),A(!1,t,"select"),t.isPropagationStopped()||null==O||O(e,t)})),P=(0,t.useMemo)((function(){return{toggle:A,placement:l,show:v,menuElement:w,toggleElement:S,setMenu:b,setToggle:I}}),[A,l,v,w,S,b,I]);w&&T&&!v&&(N.current=w.contains(w.ownerDocument.activeElement));var R=ke((function(){S&&S.focus&&S.focus()})),L=ke((function(){var e=C.current,t=s;if(null==t&&(t=!(!k.current||!OD(k.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Ut(k.current,u)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){v?L():N.current&&(N.current=!1,R())}),[v,N,R,L]),(0,t.useEffect)((function(){C.current=null}));var M=function(e,t){if(!k.current)return null;var n=Ut(k.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,n,r,i){void 0===i&&(i=!1);var a=ke(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,a,i),function(){return t.removeEventListener(n,a,i)}}),[e])}((0,t.useCallback)((function(){return d.document}),[d]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=k.current)?void 0:t.contains(i),o=null==(n=_.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||k.current&&v)){C.current=e.type;var u={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var s=M(i,-1);return s&&s.focus&&s.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=M(i,1);c&&c.focus&&c.focus()}else y(!0,u);return;case"Tab":K(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=k.current)&&t.contains(e.target)||y(!1,u)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),y(!1,u)}}})),(0,x.jsx)(h.Provider,{value:D,children:(0,x.jsx)(MO.Provider,{value:P,children:f})})}UD.displayName="Dropdown",UD.Menu=wD,UD.Toggle=RD,UD.Item=FD;var BD=UD,zD=t.createContext({});zD.displayName="DropdownContext";var qD=zD,KD=["bsPrefix","className","eventKey","disabled","onClick","active","as"],HD=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,u=void 0!==a&&a,c=e.onClick,f=e.active,h=e.as,d=void 0===h?Pn:h,p=s(e,KD),v=I(n,"dropdown-item"),m=Pe(MD({key:i,href:p.href,disabled:u,onClick:c,active:f}),2),y=m[0],g=m[1];return(0,x.jsx)(d,o(o(o({},p),y),{},{ref:t,className:l()(r,v,g.isActive&&"active",u&&"disabled")}))}));HD.displayName="DropdownItem";var WD=HD;function GD(e,t){return e}var QD=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function $D(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var JD=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.align,u=e.rootCloseEvent,c=e.flip,f=e.show,h=e.renderOnMount,d=e.as,p=void 0===d?"div":d,v=e.popperConfig,m=e.variant,y=s(e,QD),g=!1,k=(0,t.useContext)(pe),b=I(r,"dropdown-menu"),w=(0,t.useContext)(qD),E=w.align,_=w.drop,S=w.isRTL;a=a||E;var T=(0,t.useContext)(AO),C=[];if(a)if("object"===typeof a){var N=Object.keys(a);if(N.length){var O=N[0],A=a[O];g="start"===A,C.push("".concat(b,"-").concat(O,"-").concat(A))}}else"end"===a&&(g=!0);var D=$D(g,_,S),P=Pe(kD({flip:c,rootCloseEvent:u,show:f,usePopper:!k&&0===C.length,offset:[0,2],popperConfig:v,placement:D}),2),R=P[0],L=P[1],M=L.hasShown,j=L.popper,F=L.show,V=L.toggle;if(R.ref=ee(GD(n),R.ref),_e((function(){F&&(null==j||j.update())}),[F]),!M&&!h&&!T)return null;"string"!==typeof p&&(R.show=F,R.close=function(){return null==V?void 0:V(!1)},R.align=a);var U=y.style;return null!=j&&j.placement&&(U=o(o({},y.style),R.style),y["x-placement"]=j.placement),(0,x.jsx)(p,o(o(o(o({},y),R),{},{style:U},(C.length||k)&&{"data-bs-popper":"static"}),{},{className:l().apply(void 0,[i,b,F&&"show",g&&"".concat(b,"-end"),m&&"".concat(b,"-").concat(m)].concat(C))}))}));JD.displayName="DropdownMenu",JD.defaultProps={flip:!0};var YD=JD,XD=["as","bsPrefix","variant","size","active","className"],ZD=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,u=e.active,c=e.className,f=s(e,XD),h=I(r,"btn"),d=Pe(vn(o({tagName:n},f)),2),p=d[0],v=d[1].tagName;return(0,x.jsx)(v,o(o(o({},p),f),{},{ref:t,className:l()(c,h,u&&"active",i&&"".concat(h,"-").concat(i),a&&"".concat(h,"-").concat(a),f.href&&f.disabled&&"disabled")}))}));ZD.displayName="Button",ZD.defaultProps={variant:"primary",active:!1,disabled:!1};var eP=ZD,tP=["bsPrefix","split","className","childBsPrefix","as"],nP=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.split,a=e.className,u=e.childBsPrefix,c=e.as,f=void 0===c?eP:c,h=s(e,tP),d=I(r,"dropdown-toggle"),p=(0,t.useContext)(MO),v=(0,t.useContext)(AO);void 0!==u&&(h.bsPrefix=u);var m=Pe(DD(),1)[0];return m.ref=ee(m.ref,GD(n)),(0,x.jsx)(f,o(o({className:l()(a,d,i&&"".concat(d,"-split"),!!v&&(null==p?void 0:p.show)&&"show")},m),h))}));nP.displayName="DropdownToggle";var rP=nP,iP=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],aP=C("dropdown-header",{defaultProps:{role:"heading"}}),oP=C("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),uP=C("dropdown-item-text",{Component:"span"}),sP=t.forwardRef((function(e,n){var r=y(e,{show:"onToggle"}),i=r.bsPrefix,a=r.drop,u=r.show,c=r.className,f=r.align,h=r.onSelect,d=r.onToggle,p=r.focusFirstItemOnShow,v=r.as,m=void 0===v?"div":v,g=(r.navbar,r.autoClose),k=s(r,iP),b=(0,t.useContext)(AO),w=I(i,"dropdown"),E="rtl"===(0,t.useContext)(_).dir,S=ke((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===g?"click"===n:"inside"===g?"rootClose"!==n:"outside"!==g||"select"!==n)&&(null==d||d(e,t))})),T=$D("end"===f,a,E),C=(0,t.useMemo)((function(){return{align:f,drop:a,isRTL:E}}),[f,a,E]);return(0,x.jsx)(qD.Provider,{value:C,children:(0,x.jsx)(BD,{placement:T,show:u,onSelect:h,onToggle:S,focusFirstItemOnShow:p,itemSelector:".".concat(w,"-item:not(.disabled):not(:disabled)"),children:b?k.children:(0,x.jsx)(m,o(o({},k),{},{ref:n,className:l()(c,u&&"show",(!a||"down"===a)&&w,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));sP.displayName="Dropdown",sP.defaultProps={navbar:!1,align:"start",autoClose:!0};var cP=Object.assign(sP,{Toggle:rP,Menu:YD,Item:WD,ItemText:uP,Divider:oP,Header:aP}),lP=vt().oneOf(["start","end"]),fP=vt().oneOfType([lP,vt().shape({sm:lP}),vt().shape({md:lP}),vt().shape({lg:lP}),vt().shape({xl:lP}),vt().shape({xxl:lP}),vt().object]),hP=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant"],dP={id:vt().string,href:vt().string,onClick:vt().func,title:vt().node.isRequired,disabled:vt().bool,align:fP,menuRole:vt().string,renderMenuOnMount:vt().bool,rootCloseEvent:vt().string,menuVariant:vt().oneOf(["dark"]),bsPrefix:vt().string,variant:vt().string,size:vt().string},pP=t.forwardRef((function(e,t){var n=e.title,r=e.children,i=e.bsPrefix,a=e.rootCloseEvent,u=e.variant,c=e.size,l=e.menuRole,f=e.renderMenuOnMount,h=e.disabled,d=e.href,p=e.id,v=e.menuVariant,m=s(e,hP);return(0,x.jsxs)(cP,o(o({ref:t},m),{},{children:[(0,x.jsx)(rP,{id:p,href:d,size:c,variant:u,disabled:h,childBsPrefix:i,children:n}),(0,x.jsx)(YD,{role:l,renderOnMount:f,rootCloseEvent:a,variant:v,children:r})]}))}));pP.displayName="DropdownButton",pP.propTypes=dP;var vP=pP,mP=["as","className","type","tooltip"],yP={type:vt().string,tooltip:vt().bool,as:vt().elementType},gP=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,u=void 0===a?"valid":a,c=e.tooltip,f=void 0!==c&&c,h=s(e,mP);return(0,x.jsx)(r,o(o({},h),{},{ref:t,className:l()(i,"".concat(u,"-").concat(f?"tooltip":"feedback"))}))}));gP.displayName="Feedback",gP.propTypes=yP;var kP=gP,bP=["bsPrefix","className","htmlFor"],wP=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,u=s(e,bP),c=(0,t.useContext)(SO).controlId;return r=I(r,"form-check-label"),(0,x.jsx)("label",o(o({},u),{},{ref:n,htmlFor:a||c,className:l()(i,r)}))}));wP.displayName="FormCheckLabel";var xP=wP;var EP=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],_P=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,u=e.inline,c=void 0!==u&&u,f=e.disabled,h=void 0!==f&&f,d=e.isValid,p=void 0!==d&&d,v=e.isInvalid,m=void 0!==v&&v,y=e.feedbackTooltip,g=void 0!==y&&y,k=e.feedback,b=e.feedbackType,w=e.className,E=e.style,_=e.title,S=void 0===_?"":_,T=e.type,C=void 0===T?"checkbox":T,N=e.label,O=e.children,A=e.as,D=void 0===A?"input":A,P=s(e,EP);i=I(i,"form-check"),a=I(a,"form-switch");var R=(0,t.useContext)(SO).controlId,L=(0,t.useMemo)((function(){return{controlId:r||R}}),[R,r]),M=!O&&null!=N&&!1!==N||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(O,xP),j=(0,x.jsx)(NO,o(o({},P),{},{type:"switch"===C?"checkbox":C,ref:n,isValid:p,isInvalid:m,disabled:h,as:D}));return(0,x.jsx)(SO.Provider,{value:L,children:(0,x.jsx)("div",{style:E,className:l()(w,M&&i,c&&"".concat(i,"-inline"),"switch"===C&&a),children:O||(0,x.jsxs)(x.Fragment,{children:[j,M&&(0,x.jsx)(xP,{title:S,children:N}),k&&(0,x.jsx)(kP,{type:b,tooltip:g,children:k})]})})})}));_P.displayName="FormCheck";var IP=Object.assign(_P,{Input:NO,Label:xP}),SP=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],TP=t.forwardRef((function(e,n){var r,a,u=e.bsPrefix,c=e.type,f=e.size,h=e.htmlSize,d=e.id,p=e.className,v=e.isValid,m=void 0!==v&&v,y=e.isInvalid,g=void 0!==y&&y,k=e.plaintext,b=e.readOnly,w=e.as,E=void 0===w?"input":w,_=s(e,SP),S=(0,t.useContext)(SO).controlId;(u=I(u,"form-control"),k)?r=i({},"".concat(u,"-plaintext"),!0):(i(a={},u,!0),i(a,"".concat(u,"-").concat(f),f),r=a);return(0,x.jsx)(E,o(o({},_),{},{type:c,size:h,ref:n,readOnly:b,id:d||S,className:l()(p,r,m&&"is-valid",g&&"is-invalid","color"===c&&"".concat(u,"-color"))}))}));TP.displayName="FormControl";var CP=Object.assign(TP,{Feedback:kP}),NP=C("form-floating"),OP=["controlId","as"],AP=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,u=s(e,OP),c=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,x.jsx)(SO.Provider,{value:c,children:(0,x.jsx)(a,o(o({},u),{},{ref:n}))})}));AP.displayName="FormGroup";var DP=AP,PP=["as","bsPrefix","className"],RP=["className"];function LP(e){var n=e.as,r=e.bsPrefix,i=e.className,a=s(e,PP);r=I(r,"col");var u=(0,t.useContext)(_).breakpoints,c=[],f=[];return u.forEach((function(e){var t,n,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,n=o.offset,i=o.order):t=o;var u="xs"!==e?"-".concat(e):"";t&&c.push(!0===t?"".concat(r).concat(u):"".concat(r).concat(u,"-").concat(t)),null!=i&&f.push("order".concat(u,"-").concat(i)),null!=n&&f.push("offset".concat(u,"-").concat(n))})),[o(o({},a),{},{className:l().apply(void 0,[i].concat(c,f))}),{as:n,bsPrefix:r,spans:c}]}var MP=t.forwardRef((function(e,t){var n=Pe(LP(e),2),r=n[0],i=r.className,a=s(r,RP),u=n[1],c=u.as,f=void 0===c?"div":c,h=u.bsPrefix,d=u.spans;return(0,x.jsx)(f,o(o({},a),{},{ref:t,className:l()(i,!d.length&&h)}))}));MP.displayName="Col";var jP=MP,FP=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],VP=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,u=e.column,c=e.visuallyHidden,f=e.className,h=e.htmlFor,d=s(e,FP),p=(0,t.useContext)(SO).controlId;a=I(a,"form-label");var v="col-form-label";"string"===typeof u&&(v="".concat(v," ").concat(v,"-").concat(u));var m=l()(f,a,c&&"visually-hidden",u&&v);return h=h||p,u?(0,x.jsx)(jP,o({ref:n,as:"label",className:m,htmlFor:h},d)):(0,x.jsx)(i,o({ref:n,className:m,htmlFor:h},d))}));VP.displayName="FormLabel",VP.defaultProps={column:!1,visuallyHidden:!1};var UP=VP,BP=["bsPrefix","className","id"],zP=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,u=s(e,BP),c=(0,t.useContext)(SO).controlId;return r=I(r,"form-range"),(0,x.jsx)("input",o(o({},u),{},{type:"range",ref:n,className:l()(i,r),id:a||c}))}));zP.displayName="FormRange";var qP=zP,KP=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],HP=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,u=e.className,c=e.isValid,f=void 0!==c&&c,h=e.isInvalid,d=void 0!==h&&h,p=e.id,v=s(e,KP),m=(0,t.useContext)(SO).controlId;return r=I(r,"form-select"),(0,x.jsx)("select",o(o({},v),{},{size:a,ref:n,className:l()(u,r,i&&"".concat(r,"-").concat(i),f&&"is-valid",d&&"is-invalid"),id:p||m}))}));HP.displayName="FormSelect";var WP=HP,GP=["bsPrefix","className","as","muted"],QP=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,u=e.muted,c=s(e,GP);return n=I(n,"form-text"),(0,x.jsx)(a,o(o({},c),{},{ref:t,className:l()(r,n,u&&"text-muted")}))}));QP.displayName="FormText";var $P=QP,JP=t.forwardRef((function(e,t){return(0,x.jsx)(IP,o(o({},e),{},{ref:t,type:"switch"}))}));JP.displayName="Switch";var YP=Object.assign(JP,{Input:IP.Input,Label:IP.Label}),XP=["bsPrefix","className","children","controlId","label"],ZP=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,u=e.label,c=s(e,XP);return n=I(n,"form-floating"),(0,x.jsxs)(DP,o(o({ref:t,className:l()(r,n),controlId:a},c),{},{children:[i,(0,x.jsx)("label",{htmlFor:a,children:u})]}))}));ZP.displayName="FloatingLabel";var eR=ZP,tR=["className","validated","as"],nR={_ref:vt().any,validated:vt().bool,as:vt().elementType},rR=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,u=s(e,tR);return(0,x.jsx)(a,o(o({},u),{},{ref:t,className:l()(n,r&&"was-validated")}))}));rR.displayName="Form",rR.propTypes=nR;var iR=Object.assign(rR,{Group:DP,Control:CP,Floating:NP,Check:IP,Switch:YP,Label:UP,Text:$P,Range:qP,Select:WP,FloatingLabel:eR});var aR=function(e){var n=Pe((0,t.useState)(""),2),r=n[0],i=n[1];return(0,x.jsxs)(LO,{className:"mb-3",children:[(0,x.jsx)(vP,{variant:"outline-secondary",title:"\u0427\u0430\u0441\u0442\u043e \u0438\u0449\u0443\u0442",id:"input-group-dropdown-1",children:[{text:"\u041a\u0430\u0440\u0435\u043b\u0438\u044f"},{text:"\u0414\u043e\u043c\u0431\u0430\u0439"},{text:"\u0421\u043e\u0447\u0438"},{text:"\u0422\u0443\u0430\u043f\u0441\u0435"}].map((function(t){return(0,x.jsx)(cP.Item,{onClick:function(){return n=t.text,i(n),void e.setIV(n);var n},children:t.text})}))}),(0,x.jsx)(iR.Control,{value:r,onChange:function(t){i(t.target.value),e.setIV(t.target.value)},placeholder:"\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0439\u0442\u0438","aria-label":"Text input with dropdown button"})]})},oR=function(){var e=Pe((0,t.useState)(""),2),n=e[0],r=e[1],i=Pe((0,t.useState)([]),2),a=i[0],o=i[1],u=Pe((0,t.useState)(!1),2),s=u[0],c=u[1],l=a.filter((function(e){return e.city.toLowerCase().includes(n.toLowerCase())}));return(0,t.useEffect)((function(){Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,GN();case 3:"SUCCESS"===(null===(t=e.sent)||void 0===t?void 0:t.status)&&o(t.items),c(!1);case 6:case"end":return e.stop()}}),e)})))()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"titleImage"}),(0,x.jsx)(aR,{IV:n,setIV:r}),(0,x.jsx)("hr",{}),(0,x.jsx)("h1",{children:"\u0412\u0430\u043c \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"}),l.length&&!s?l.map((function(e){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h3",{children:e.city}),(0,x.jsx)("br",{}),(0,x.jsxs)("div",{className:"popular",children:[e.hotels.map((function(e){return(0,x.jsx)(IO,{info:e},e.id)})),(0,x.jsx)("hr",{})]})]})})):"",s?(0,x.jsx)(kO,{}):""]})},uR=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{children:"\u041e\u043f\u043b\u0430\u0442\u0430"}),(0,x.jsx)("hr",{}),(0,x.jsx)("h3",{children:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430"}),(0,x.jsx)("h5",{children:"\u0421\u043f\u043e\u0441\u043e\u0431\u044b \u043e\u043f\u043b\u0430\u0442\u044b:"}),(0,x.jsx)("ul",{children:(0,x.jsx)("li",{children:"\u0412 \u043d\u0430\u0448\u0435\u043c \u043e\u0444\u0438\u0441\u0435 \u0433. \u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0412\u043e\u043b\u0436\u0441\u043a\u0438\u0439 \u0431\u0443\u043b\u044c\u0432\u0430\u0440 \u0434. 76, 2 \u044d\u0442\u0430\u0436"})}),(0,x.jsx)("h3",{children:"\u0420\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435:"}),(0,x.jsx)("p",{children:"\u0422\u0443\u0440\u0438\u0441\u0442\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0437\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0443 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u043c"}),(0,x.jsx)("p",{children:"\u041f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0420\u0424 \u043e\u0442 09.10.2015 N 1085 \xab\u041e\u0431 \u0443\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0438 \u041f\u0440\u0430\u0432\u0438\u043b \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0447\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433 \u0432 \u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u043e\u0439 \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u0438\xbb III.\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0447\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433, \u043f.19."}),(0,x.jsx)("p",{children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435: \u0422\u0443\u0440\u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0438\u043c\u0435\u0435\u0442 \u043f\u0440\u0430\u0432\u043e \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0442\u0443\u0440\u0430, \u043b\u0438\u0431\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u043d\u0438\u0445 \u0441 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u043c \u0438\u0445 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438. "}),(0,x.jsx)("h3",{children:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0430\u043d\u043d\u0443\u043b\u044f\u0446\u0438\u0438:"}),(0,x.jsx)("p",{children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u041e\u0442\u043a\u0430\u0437 \u043e\u0442 \u0442\u0443\u0440\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u0434\u0430\u0447\u0438 \u043f\u0438\u0441\u044c\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435.\u0421\u0440\u043e\u043a \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044f \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e 10 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u0435\u0439."}),(0,x.jsx)("p",{children:"\u041b\u044e\u0431\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0434\u0430\u0442\u0430\u0445 \u0442\u0443\u0440\u0430, \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0442\u0443\u0440\u0438\u0441\u0442\u043e\u0432 \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0439 \u0442\u0443\u0440, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043b - \u0432\u0430 \u043d\u043e\u043c\u0435\u0440\u043e\u0432, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043b - \u0432\u0430 \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0432 \u043c\u0435\u043d\u044c\u0448\u0443\u044e \u0441\u0442\u043e\u0440\u043e\u043d\u0443 \u0438 \u0442.\u043f.\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0442\u043c\u0435\u043d\u043e\u0439 \u0437\u0430\u044f\u0432\u043a\u0438 \u0438 \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f, \u043a\u0430\u043a \u043e\u0434\u043d\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044f\u044f \u0430\u043d\u043d\u0443\u043b\u044f\u0446\u0438\u044f, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0430\u043d\u043d\u0443\u043b\u044f\u0446\u0438\u0438 \u043e\u0434\u043d\u043e\u0434\u043d\u0435\u0432\u043d\u044b\u0445 \u0438 \u043c\u043d\u043e\u0433\u043e\u0434\u043d\u0435\u0432\u043d\u044b\u0445 \u0442\u0443\u0440\u043e\u0432."}),(0,x.jsx)("h3",{children:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0430\u043d\u043d\u0443\u043b\u044f\u0446\u0438\u0438:"}),(0,x.jsx)("h5",{children:"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f:"}),(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0432 \u043e\u0444\u0438\u0441\u0435 \u041f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 3 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u0435\u0439 \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0435 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432, \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u043d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0432 \u043e\u0444\u0438\u0441\u0435."}),(0,x.jsx)("li",{children:"\u0412 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f \u0431\u044b\u043b\u0430 \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0445 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439, \u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0441\u0447\u0435\u0442 \u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 5-\u0442\u0438 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u0435\u0439. \u041f\u0440\u043e\u0441\u0438\u043c \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u0440\u0438 \u043e\u0442\u043a\u0430\u0437\u0435 \u043f\u043e \u0438\u043d\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0435 \u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0437\u0430 \u0432\u044b\u0447\u0435\u0442\u043e\u043c 2%."}),(0,x.jsx)("li",{children:" \u0412 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f \u0431\u044b\u043b\u0430 \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443 \u0421\u0431\u0435\u0440\u0431\u0430\u043d\u043a\u0430, \u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u0434\u0435\u043d\u0435\u0436\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0443 \u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 5-\u0442\u0438 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u0435\u0439. "})]})]})},sR=n(221),cR=function(e){var n=Pe((0,t.useState)({name:"",email:"",msg:""}),2),r=n[0],a=n[1],u=function(e){a((function(t){return o(o({},t),{},i({},e.target.name,e.target.value))}))},s=function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.name||r.email){e.next=2;break}return e.abrupt("return",sR.fn.error("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0441\u043e \u0437\u0432\u0435\u0437\u0434\u043e\u0447\u043a\u043e\u0439"));case 2:return e.next=4,QN(r);case 4:"ADDED"===(null===(t=e.sent)||void 0===t?void 0:t.status)&&(sR.fn.success("\u0417\u0430\u044f\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430!"),a({name:"",email:"",msg:""}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)(iR,{children:[(0,x.jsxs)(iR.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,x.jsx)(iR.Label,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f*"}),(0,x.jsx)(iR.Control,{reqiured:"true",onChange:u,name:"name",value:r.name,type:"text",placeholder:"\u0418\u043c\u044f:"})]}),(0,x.jsxs)(iR.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,x.jsx)(iR.Label,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email*"}),(0,x.jsx)(iR.Control,{reqiured:"true",onChange:u,name:"email",value:r.email,type:"email",placeholder:"Email:"})]}),(0,x.jsxs)(iR.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,x.jsx)(iR.Label,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),(0,x.jsx)(iR.Control,{onChange:u,name:"msg",value:r.msg,as:"textarea",placeholder:"\u041a\u0430\u043a \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0435\u0437\u0434\u043a\u0443?",rows:3})]}),(0,x.jsx)(eP,{onClick:s,variant:"success",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},lR=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{children:"\u0424\u043e\u0440\u043c\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438"}),(0,x.jsx)("hr",{}),(0,x.jsx)(cR,{})]})},fR=function(e){var t=e.info,n=t.name,r=t.city,i=t.hotel,a=t.text;return(0,x.jsxs)(pO,{style:{width:"100%"},children:[(0,x.jsx)(pO.Header,{children:(0,x.jsx)(pO.Text,{children:n})}),(0,x.jsxs)(pO.Body,{children:[(0,x.jsx)(pO.Title,{children:r}),(0,x.jsx)(pO.Subtitle,{className:"mb-2 text-muted",children:i}),(0,x.jsx)(pO.Text,{children:a})]})]})},hR=function(){var e=Pe((0,t.useState)({text:"",name:"",city:"",hotel:""}),2),n=e[0],r=e[1],a=Pe((0,t.useState)([]),2),u=a[0],s=a[1],c=function(e){r((function(t){return o(o({},t),{},i({},e.target.name,e.target.value))}))};(0,t.useEffect)((function(){Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$N();case 2:"SUCCESS"===(null===(t=e.sent)||void 0===t?void 0:t.status)&&s(t.items);case 4:case"end":return e.stop()}}),e)})))()}),[]);var l=function(){var e=Dr(Or().mark((function e(){var t;return Or().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),n.name||n.text||n.city||n.hotel){e.next=3;break}return e.abrupt("return",sR.fn.error("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0441\u043e \u0437\u0432\u0435\u0437\u0434\u043e\u0447\u043a\u043e\u0439"));case 3:return e.next=5,JN(n);case 5:"ADDED"===(null===(t=e.sent)||void 0===t?void 0:t.status)&&(sR.fn.success("\u041e\u0442\u0437\u044b\u0432 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!"),s((function(e){return[].concat(Ue(e),[t.item])})),r({text:"",name:"",city:"",hotel:""}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),(0,x.jsx)("hr",{}),(0,x.jsx)("div",{className:"reviews",children:u.length?u.map((function(e){return(0,x.jsx)(fR,{info:e})})):"\u041e\u0442\u0437\u044b\u0432\u043e\u0432 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435\u0442"}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u0437\u044b\u0432"}),(0,x.jsxs)(iR,{children:[(0,x.jsxs)(iR.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,x.jsx)(iR.Label,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f*"}),(0,x.jsx)(iR.Control,{reqiured:!0,onChange:c,name:"name",value:n.name,type:"text",placeholder:"\u0418\u043c\u044f:"})]}),(0,x.jsxs)(iR.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,x.jsx)(iR.Label,{children:"\u0413\u043e\u0440\u043e\u0434*"}),(0,x.jsx)(iR.Control,{reqiured:!0,onChange:c,name:"city",value:n.city,type:"text",placeholder:"\u0413\u043e\u0440\u043e\u0434:"})]}),(0,x.jsxs)(iR.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,x.jsx)(iR.Label,{children:"\u041e\u0442\u0435\u043b\u044c*"}),(0,x.jsx)(iR.Control,{reqiured:!0,onChange:c,name:"hotel",value:n.hotel,type:"text",placeholder:"\u041e\u0442\u0435\u043b\u044c:"})]}),(0,x.jsxs)(iR.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,x.jsx)(iR.Label,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435*"}),(0,x.jsx)(iR.Control,{reqiured:!0,onChange:c,name:"text",value:n.text,as:"textarea",placeholder:"\u0412\u0441\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c!",rows:3})]}),(0,x.jsx)(eP,{onClick:l,variant:"success",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})},dR=function(){return(0,x.jsxs)("footer",{className:"footer bg-dark text-white",children:[(0,x.jsxs)("div",{className:"footer-item",children:[(0,x.jsx)("span",{children:"\u041c\u044b \u0442\u0443\u0440\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f"}),(0,x.jsx)("span",{children:"\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0435\u0442 \u043c\u043d\u043e\u0433\u043e\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"}),(0,x.jsx)("span",{children:"\u0434\u043b\u044f \u0434\u0432\u043e\u0438\u0445"})]}),(0,x.jsxs)("div",{className:"footer-item",children:[(0,x.jsx)("span",{children:"\u041d\u0430\u0448\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),(0,x.jsx)("span",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: +7(499)-176 -34-45"}),(0,x.jsx)("span",{children:"Email: planeta96@mail.ru"})]}),(0,x.jsxs)("div",{className:"footer-item",children:[(0,x.jsx)("span",{children:"\u041c\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u043c\u0441\u044f \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443"}),(0,x.jsx)("span",{children:"\u0433. \u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0412\u043e\u043b\u0436\u0441\u043a\u0438\u0439 \u0431\u0443\u043b\u044c\u0432\u0430\u0440 \u0434. 76, 2 \u044d\u0442\u0430\u0436"})]})]})};var pR=function(){return(0,x.jsxs)("div",{id:"container",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)(Nr,{}),(0,x.jsx)(cn,{style:{marginTop:"50px"},children:(0,x.jsxs)(wr,{children:[(0,x.jsx)(kr,{path:"/",element:(0,x.jsx)(oR,{})}),(0,x.jsx)(kr,{path:"/regions",element:(0,x.jsx)(bO,{})}),(0,x.jsx)(kr,{path:"/payment",element:(0,x.jsx)(uR,{})}),(0,x.jsx)(kr,{path:"/contacts",element:(0,x.jsx)(lR,{})}),(0,x.jsx)(kr,{path:"/reviews",element:(0,x.jsx)(hR,{})})]})})]}),(0,x.jsx)(dR,{}),(0,x.jsx)(sR.mh,{})]})};r.createRoot(document.getElementById("root")).render((0,x.jsx)(Sr,{children:(0,x.jsx)(t.StrictMode,{children:(0,x.jsx)(pR,{})})}))}()}();
//# sourceMappingURL=main.24645423.js.map